<!DOCTYPE html>
<head><meta charset="utf-8"></meta>
 <meta content="minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no" name="viewport"></meta>
 <link type="text/css" href="static/css/tabler-icons.min.css" rel="stylesheet"></link>
 <link type="text/css" href="static/css/style.css" rel="stylesheet"></link>
 <link type="text/css" href="static/css/custom.css" rel="stylesheet"></link>
 <link type="text/css" href="static/css/export.css" rel="stylesheet"></link>
 <link href="static/img/logo.png" type="image/png" rel="shortcut icon"></link>
 <link href="static/img/logo.png" sizes="192x192" rel="shortcut icon"></link>
 <link href="static/img/logo.png" rel="apple-touch-icon"></link>
 <meta name="apple-mobile-web-app-title"></meta>
 <meta name="apple-mobile-web-app-capable" content="yes"></meta>
 <meta name="apple-touch-fullscreen" content="yes"></meta>
 <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"></meta>
 <meta name="mobile-web-app-capable" content="yes"></meta>
 <meta property="og:title"></meta>
 <meta content="site" property="og:type"></meta>
  <meta content="static/img/logo.png" property="og:image"></meta>
 <meta property="og:description"></meta>
 <title></title>
 <meta property="og:site_name"></meta>
 <meta></meta>
</head>
 <body><div id="root"></div>
 <script>window.logseq_db="[logseq____&quot;~#datascript/DBlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:schemalogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:ast/versionlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:file/contentlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/properties-text-valueslogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/aliaslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:db/valueTypelogseq____&quot;,logseq____&quot;~:db.type/reflogseq____&quot;,logseq____&quot;~:db/cardinalitylogseq____&quot;,logseq____&quot;~:db.cardinality/manylogseq____&quot;],logseq____&quot;~:block/pre-block?logseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/uuidlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:db/uniquelogseq____&quot;,logseq____&quot;~:db.unique/identitylogseq____&quot;],logseq____&quot;~:block/prioritylogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/propertieslogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/journal?logseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/namespacelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;],logseq____&quot;~:block/updated-atlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/repeated?logseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:db/typelogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:file/handlelogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/leftlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;~:db/indexlogseq____&quot;,true],logseq____&quot;~:block/refslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^8logseq____&quot;,logseq____&quot;^9logseq____&quot;],logseq____&quot;~:block/scheduledlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/properties-orderlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/created-atlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/deadlinelogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/collapsed?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^Glogseq____&quot;,true],logseq____&quot;~:block/journal-daylogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/formatlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/tagslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^8logseq____&quot;,logseq____&quot;^9logseq____&quot;],logseq____&quot;~:block/contentlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:recent/pageslogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/macroslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^8logseq____&quot;,logseq____&quot;^9logseq____&quot;],logseq____&quot;~:db/identlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^logseq____&lt;logseq____&quot;,logseq____&quot;^=logseq____&quot;],logseq____&quot;~:block/path-refslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^8logseq____&quot;,logseq____&quot;^9logseq____&quot;],logseq____&quot;~:block/parentlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^Glogseq____&quot;,true],logseq____&quot;~:block/typelogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/pagelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^Glogseq____&quot;,true],logseq____&quot;~:block/namelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^logseq____&lt;logseq____&quot;,logseq____&quot;^=logseq____&quot;],logseq____&quot;~:file/pathlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^logseq____&lt;logseq____&quot;,logseq____&quot;^=logseq____&quot;],logseq____&quot;~:block/filelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;],logseq____&quot;~:block/markerlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/original-namelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^logseq____&lt;logseq____&quot;,logseq____&quot;^=logseq____&quot;],logseq____&quot;~:schema/versionlogseq____&quot;,[logseq____&quot;^ logseq____&quot;]],logseq____&quot;~:datomslogseq____&quot;,[logseq____&quot;~#listlogseq____&quot;,[[logseq____&quot;~#datascript/Datomlogseq____&quot;,[1,logseq____&quot;^12logseq____&quot;,2,536870913]],[logseq____&quot;^15logseq____&quot;,[273,logseq____&quot;^Klogseq____&quot;,1766477700182,536870926]],[logseq____&quot;^15logseq____&quot;,[273,logseq____&quot;^@logseq____&quot;,false,536870926]],[logseq____&quot;^15logseq____&quot;,[273,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;grafana/lokilogseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[273,logseq____&quot;^Alogseq____&quot;,274,536870926]],[logseq____&quot;^15logseq____&quot;,[273,logseq____&quot;^11logseq____&quot;,logseq____&quot;Grafana/Lokilogseq____&quot;,536870926]],[logseq____&quot;^15logseq____&quot;,[273,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:publiclogseq____&quot;,true],536870977]],[logseq____&quot;^15logseq____&quot;,[273,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870977]],[logseq____&quot;^15logseq____&quot;,[273,logseq____&quot;^Blogseq____&quot;,1766477700182,536870926]],[logseq____&quot;^15logseq____&quot;,[273,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2877-49d7-95fd-146fff0094dclogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1388,logseq____&quot;^Tlogseq____&quot;,logseq____&quot;query (namespace [[Beyla]] )logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1389,logseq____&quot;^Tlogseq____&quot;,logseq____&quot;query (namespace [[Career]] )logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1390,logseq____&quot;^Tlogseq____&quot;,logseq____&quot;query (namespace [[Go]] )logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^Klogseq____&quot;,1766477701940,536870962]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^Ologseq____&quot;,logseq____&quot;~:markdownlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^@logseq____&quot;,false,536870962]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beylalogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beylalogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870962]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^Blogseq____&quot;,1766477701940,536870962]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-f091-449c-9a3a-53f1004bcc06logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;~:block/invalid-propertieslogseq____&quot;,[logseq____&quot;~#setlogseq____&quot;,[]],536870962]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^Flogseq____&quot;,1392,536870962]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^Xlogseq____&quot;,1392,536870962]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^Vlogseq____&quot;,1392,536870962]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^Ulogseq____&quot;,1392,536870962]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^:logseq____&quot;,true,536870962]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870962]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-d360-4cb3-82f6-2fa58baf1b53logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Referencelogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^Flogseq____&quot;,1393,536870962]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^Xlogseq____&quot;,1392,536870962]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^Vlogseq____&quot;,1392,536870962]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^Ulogseq____&quot;,1392,536870962]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:headinglogseq____&quot;,2],536870962]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^Jlogseq____&quot;,[],536870962]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-27dd-441a-a742-0a97df021e13logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1395,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;{{query (namespace [[Go]] )}}logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1395,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1395,logseq____&quot;^Flogseq____&quot;,1394,536870962]],[logseq____&quot;^15logseq____&quot;,[1395,logseq____&quot;^Slogseq____&quot;,1390,536870962]],[logseq____&quot;^15logseq____&quot;,[1395,logseq____&quot;^Xlogseq____&quot;,1392,536870962]],[logseq____&quot;^15logseq____&quot;,[1395,logseq____&quot;^Vlogseq____&quot;,1392,536870962]],[logseq____&quot;^15logseq____&quot;,[1395,logseq____&quot;^Ulogseq____&quot;,1392,536870962]],[logseq____&quot;^15logseq____&quot;,[1395,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-0cb8-4733-9ba3-2d85be310ee5logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1396,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;{{query (namespace [[http2]] )}}logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1396,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1396,logseq____&quot;^Flogseq____&quot;,1395,536870962]],[logseq____&quot;^15logseq____&quot;,[1396,logseq____&quot;^Slogseq____&quot;,1398,536870962]],[logseq____&quot;^15logseq____&quot;,[1396,logseq____&quot;^Xlogseq____&quot;,1392,536870962]],[logseq____&quot;^15logseq____&quot;,[1396,logseq____&quot;^Vlogseq____&quot;,1392,536870962]],[logseq____&quot;^15logseq____&quot;,[1396,logseq____&quot;^Ulogseq____&quot;,1392,536870962]],[logseq____&quot;^15logseq____&quot;,[1396,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-0868-4bfa-a5f2-37db50c39a31logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^Flogseq____&quot;,1396,536870962]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^Xlogseq____&quot;,1392,536870962]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^Vlogseq____&quot;,1392,536870962]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^Ulogseq____&quot;,1392,536870962]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-f4ae-431e-aea1-6a64dda4ae3dlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1398,logseq____&quot;^Tlogseq____&quot;,logseq____&quot;query (namespace [[http2]] )logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^Klogseq____&quot;,1766477702028,536870963]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^@logseq____&quot;,false,536870963]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/elflogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^Alogseq____&quot;,1392,536870963]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/ELFlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870963]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^Blogseq____&quot;,1766477702028,536870963]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-519e-45f5-bccf-319bed18fbbblogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### structMemberOffsetsFromDwarf\\nid:: 662e8b82-7db2-4753-b84c-8bdde48f5eb2logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^Flogseq____&quot;,1435,536870963]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:idlogseq____&quot;,logseq____&quot;662e8b82-7db2-4753-b84c-8bdde48f5eb2logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870963]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;662e8b82-7db2-4753-b84c-8bdde48f5eb2logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u662e8b82-7db2-4753-b84c-8bdde48f5eb2logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### findGoSymbolTable\\nid:: 66362a69-0c2d-4c47-9945-43c5f2233c72logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^Flogseq____&quot;,1416,536870963]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66362a69-0c2d-4c47-9945-43c5f2233c72logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870963]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66362a69-0c2d-4c47-9945-43c5f2233c72logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66362a69-0c2d-4c47-9945-43c5f2233c72logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`InspectOffsets`使用 ((66362f79-8e32-40d1-85e7-a3c1bddb16d1)) 找到被instrumented的function的開始及return位址，並使用 ((66363aad-2a1d-4514-9317-4edbf5a06ba6)) 找到struct中，特定field的位址。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^Flogseq____&quot;,1466,536870963]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^Hlogseq____&quot;,1425,536870963]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^Hlogseq____&quot;,1458,536870963]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-a344-4aa5-8f2e-4b645eb79e60logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nThere are 36 section headers, starting at offset 0x238:\\n\\nSection Headers:\\n  [Nr] Name              Type             Address           Offset\\n       Size              EntSize          Flags  Link  Info  Align\\n  [ 0]                   NULL             0000000000000000  00000000\\n       0000000000000000  0000000000000000           0     0     0\\n  [ 1] .text             PROGBITS         0000000000401000  00001000\\n       000000000025e8f6  0000000000000000  AX       0     0     32\\n  [ 2] .plt              PROGBITS         000000000065f900  0025f900\\n       0000000000000260  0000000000000010  AX       0     0     16\\n  [ 3] .rodata           PROGBITS         0000000000660000  00260000\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^Flogseq____&quot;,1460,536870963]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-4cc4-4172-9f62-c480289a5732logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1405,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;In Go object files and binaries, the full name of a symbol is the package path followed by a period and the symbol name: `fmt.Printf` or `math/rand.Int`.logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1405,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1405,logseq____&quot;^Flogseq____&quot;,1426,536870963]],[logseq____&quot;^15logseq____&quot;,[1405,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1405,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1405,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1405,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8b40-4199-b5e0-f6c8145ce77elogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## 延伸閱讀logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^Flogseq____&quot;,1403,536870963]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870963]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^Jlogseq____&quot;,[],536870963]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-66d6-4f06-a407-774e750f4efclogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1407,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;過濾掉type不是LOAD而且FLAGS沒有**X(可執行)**屬性program header，剩下編號3的program header，logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1407,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1407,logseq____&quot;^Flogseq____&quot;,1424,536870963]],[logseq____&quot;^15logseq____&quot;,[1407,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1407,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1407,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1407,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-a77b-41fe-a436-58665ab3c1a8logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;同樣以`net/http.Request`中的URL member為例，在`offset.json`中可以看到`URL`同樣會是預期的16。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^Flogseq____&quot;,1410,536870963]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8adf-44e6-9b54-7297153d177flogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`structMemberOffsetsFromDwarf`會嘗試在ELF中的`DWARF`中，找到struct member所對應的offset。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^Flogseq____&quot;,1401,536870963]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-24b7-4231-a641-4d0fc62cdb40logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1410,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nHex dump of section logseq____&apos;.go.buildinfologseq____&apos;:\\n  0x008d1000 ff20476f 20627569 6c64696e 663a0802 . Go buildinf:..\\n  0x008d1010 00000000 00000000 00000000 00000000 ................\\n  0x008d1020 08676f31 2e32322e 30bd0330 77af0c92 .go1.22.0..0w...\\n  0x008d1030 74080241 e1c107e6 d618e670 61746809 t..A.......path.\\n  0x008d1040 67697468 75622e63 6f6d2f67 72616661 github.com/grafa\\n  0x008d1050 6e612f62 65796c61 2f746573 742f636d na/beyla/test/cm\\n  0x008d1060 642f7069 6e677365 72766572 0a6d6f64 d/pingserver.mod\\n  0x008d1070 09676974 6875622e 636f6d2f 67726166 .github.com/graf\\n  0x008d1080 616e612f 6265796c 61092864 6576656c ana/beyla.(devel\\n  0x008d1090 29090a62 75696c64 092d6275 696c646d )..build.-buildm\\n...\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1410,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1410,logseq____&quot;^Flogseq____&quot;,1465,536870963]],[logseq____&quot;^15logseq____&quot;,[1410,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1410,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1410,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1410,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-539f-4880-8ec9-b691ea6b77ddlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1411,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;可以看到URL的offset為16，跟`TestGoOffsetsFromDwarf`預期中的一樣。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1411,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1411,logseq____&quot;^Flogseq____&quot;,1476,536870963]],[logseq____&quot;^15logseq____&quot;,[1411,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1411,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1411,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1411,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-6324-44ef-ba63-f147937c85celogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;對照[`prog.Vaddr`, `prog.Vaddr+prog.Memsz`]，這個section在vaddr的範圍是[0x400000,0x65fb60]。因為`.text` section 落在編號3 segment，所以全部的symbol都會在編號3 segment中。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^Flogseq____&quot;,1441,536870963]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-05f9-4668-815e-99e446038030logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# struct member offset\\nid:: 66313365-7bb8-4b8d-9264-1761f7c4181elogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^Flogseq____&quot;,1436,536870963]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313365-7bb8-4b8d-9264-1761f7c4181elogseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870963]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313365-7bb8-4b8d-9264-1761f7c4181elogseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66313365-7bb8-4b8d-9264-1761f7c4181elogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### FindExeSymbols\\nid:: 663636de-6569-44d7-99df-dc7b1a67b96blogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^Flogseq____&quot;,1461,536870963]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;663636de-6569-44d7-99df-dc7b1a67b96blogseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870963]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;663636de-6569-44d7-99df-dc7b1a67b96blogseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u663636de-6569-44d7-99df-dc7b1a67b96blogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;有了`.gopclntab`及`.text`就能夠取得golang的symbol table。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Flogseq____&quot;,1474,536870963]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-a3cb-451c-bd67-5d2c39b9da98logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1416,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc handleStaticSymbol(fName string, allOffsets map[string]FuncOffsets, allSyms map[string]exec.Sym, ilog *slog.Logger) {\\n\\ts, ok := allSyms[fName]\\n\\n\\tif ok logseq____&amp;logseq____&amp; s.Prog != nil {\\n\\t\\tdata := make([]byte, s.Len)\\n\\t\\t_, err := s.Prog.ReadAt(data, int64(s.Off-s.Prog.Off))\\n\\t\\tif err != nil {\\n\\t\\t\\tilog.Error(\\logseq____&quot;error reading instructions for symbol\\logseq____&quot;, \\logseq____&quot;symbol\\logseq____&quot;, fName, \\logseq____&quot;error\\logseq____&quot;, err)\\n\\t\\t\\treturn\\n\\t\\t}\\n\\n\\t\\treturns, err := findReturnOffssets(s.Off, data)\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1416,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1416,logseq____&quot;^Flogseq____&quot;,1423,536870963]],[logseq____&quot;^15logseq____&quot;,[1416,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1416,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1416,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1416,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-b58f-4206-a488-bb5235b0bcedlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```bash\\nreadelf --symbols pingserver | grep logseq____&apos; FUNC logseq____&apos;\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^Flogseq____&quot;,1437,536870963]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-d48d-4440-8457-887f95928ba8logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```json\\n    \\logseq____&quot;net/http.Request\\logseq____&quot;: {\\n...\\n      \\logseq____&quot;URL\\logseq____&quot;: {\\n        \\logseq____&quot;versions\\logseq____&quot;: {\\n          \\logseq____&quot;oldest\\logseq____&quot;: \\logseq____&quot;1.17.0\\logseq____&quot;,\\n          \\logseq____&quot;newest\\logseq____&quot;: \\logseq____&quot;1.22.2\\logseq____&quot;\\n        },\\n        \\logseq____&quot;offsets\\logseq____&quot;: [\\n          {\\n            \\logseq____&quot;offset\\logseq____&quot;: 16,\\n            \\logseq____&quot;since\\logseq____&quot;: \\logseq____&quot;1.17.0\\logseq____&quot;\\n          }\\n        ]\\n      }\\n    },\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^Flogseq____&quot;,1408,536870963]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-af96-4b59-b49e-af6597e6fb2alogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[A Quick Guide to Gologseq____&apos;s Assembler - The Go Programming Language](https://go.dev/doc/asm#symbols)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^Flogseq____&quot;,1422,536870963]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-4a3f-4234-b2e9-c5cd203c9448logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### findReturnOffssets\\nid:: 66363677-1e61-445d-b207-8c8ffcd447a8logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^Flogseq____&quot;,1447,536870963]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363677-1e61-445d-b207-8c8ffcd447a8logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870963]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363677-1e61-445d-b207-8c8ffcd447a8logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66363677-1e61-445d-b207-8c8ffcd447a8logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1421,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;註：[這裡](https://stackoverflow.com/questions/40237321/find-functions-start-offset-in-elf)提到使用text section的vaddr及offset，與symbol自己的vaddr，經過類似的計算，能得到symbol在記憶體中的位址。因為text section在某一個segment中，所以text section與segment的差都會是固定的，如編號3 segment的vaddr是0x400000，而`.text` section的vaddr是0x401000，兩者差為0x1000，所以在計算`address = s.Value - prog.Vaddr + prog.Off`時候，一減再一加同一個差，對結果不會有改變。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1421,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1421,logseq____&quot;^Flogseq____&quot;,1444,536870963]],[logseq____&quot;^15logseq____&quot;,[1421,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1421,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1421,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1421,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-31a7-4def-aef8-f27e11242444logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[Chapter I: Go Assembly | Go Internals (gitbook.io)](https://cmc.gitbook.io/go-internals/chapter-i-go-assembly)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^Flogseq____&quot;,1475,536870963]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-ba42-4b2d-b537-a39f0ad5a05flogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;透過在`FindExeSymbols`function蒐集到的`allSyms`，因為有function name以及function所在的segment資訊，所以同樣可以使用 ((66363677-1e61-445d-b207-8c8ffcd447a8))，直接在複製的program header (`data`)中，找到function return的位址。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^Flogseq____&quot;,1471,536870963]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^Hlogseq____&quot;,1420,536870963]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-d745-4408-b01c-eaecf66d2b49logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1424,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nElf file type is EXEC (Executable file)\\nEntry point 0x46f360\\nThere are 9 program headers, starting at offset 64\\n\\nProgram Headers:\\n  Type           Offset             VirtAddr           PhysAddr\\n                 FileSiz            MemSiz              Flags  Align\\n  PHDR           0x0000000000000040 0x0000000000400040 0x0000000000400040\\n                 0x00000000000001f8 0x00000000000001f8  R      0x1000\\n  INTERP         0x0000000000000fe4 0x0000000000400fe4 0x0000000000400fe4\\n                 0x000000000000001c 0x000000000000001c  R      0x1\\n      [Requesting program interpreter: /lib64/ld-linux-x86-64.so.2]\\n  NOTE           0x0000000000000f80 0x0000000000400f80 0x0000000000400f80\\n                 0x0000000000000064 0x0000000000000064  R      0x4\\n  LOAD           0x0000000000000000 0x0000000000400000 0x0000000000400000\\n                 0x000000000025fb60 0x000000000025fb60  R E    0x1000\\n  LOAD           0x0000000000260000 0x0000000000660000 0x0000000000660000\\n                 0x0000000000270878 0x0000000000270878  R      0x1000\\n  LOAD           0x00000000004d1000 0x00000000008d1000 0x00000000008d1000\\n                 0x0000000000034c00 0x00000000000a3f70  RW     0x1000\\n  DYNAMIC        0x00000000004d1200 0x00000000008d1200 0x00000000008d1200\\n                 0x0000000000000120 0x0000000000000120  RW     0x8\\n  TLS            0x0000000000000000 0x0000000000000000 0x0000000000000000\\n                 0x0000000000000000 0x0000000000000008  R      0x8\\n  GNU_STACK      0x0000000000000000 0x0000000000000000 0x0000000000000000\\n                 0x0000000000000000 0x0000000000000000  RW     0x8\\n\\n Section to Segment mapping:\\n  Segment Sections...\\n   00     \\n   01     .interp \\n   02     .note.go.buildid \\n   03     .text .plt .interp .note.go.buildid \\n   04     .rodata .rela .rela.plt .gnu.version .gnu.version_r .hash .dynstr .dynsym .typelink .itablink .gosymtab .gopclntab \\n   05     .go.buildinfo .dynamic .got.plt .got .noptrdata .data .bss .noptrbss \\n   06     .dynamic \\n   07     .tbss \\n   08  \\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1424,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1424,logseq____&quot;^Flogseq____&quot;,1433,536870963]],[logseq____&quot;^15logseq____&quot;,[1424,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1424,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1424,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1424,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-b14d-4b2c-9479-9827432e4147logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### instrumentationPoints\\nid:: 66362f79-8e32-40d1-85e7-a3c1bddb16d1logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^Flogseq____&quot;,1415,536870963]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66362f79-8e32-40d1-85e7-a3c1bddb16d1logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870963]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66362f79-8e32-40d1-85e7-a3c1bddb16d1logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66362f79-8e32-40d1-85e7-a3c1bddb16d1logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1426,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在golang中，struct在ELF中的symbol name定義在[go asm相關文件](https://go.dev/doc/asm#symbols)中logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1426,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1426,logseq____&quot;^Flogseq____&quot;,1409,536870963]],[logseq____&quot;^15logseq____&quot;,[1426,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1426,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1426,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1426,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-e2ff-498f-a5c5-c0e1b8a33ddelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;The table is used to map a virtual memory address back to the nearest symbol name to generate stack traces with function and file names. ... For symbol recovery purposes, the pclntab is important because it stores function names, function start and end addresses, file names, and more.logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^Flogseq____&quot;,1439,536870963]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-15d8-413a-b62b-051b609017fblogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1428,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```bash\\nreadelf -x .go.buildinfo pingserver\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1428,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1428,logseq____&quot;^Flogseq____&quot;,1438,536870963]],[logseq____&quot;^15logseq____&quot;,[1428,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1428,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1428,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1428,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-62c2-4b39-8549-06e790f779fflogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;驗證`structMemberOffsetsFromDwarf`邏輯:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^Flogseq____&quot;,1445,536870963]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-fd00-4346-9fd6-f0fe77f10c52logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1430,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\naddresses[s.Name] = Sym{Off: address, Len: s.Size, Prog: p}\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1430,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1430,logseq____&quot;^Flogseq____&quot;,1452,536870963]],[logseq____&quot;^15logseq____&quot;,[1430,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1430,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1430,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1430,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5497-430c-9287-ec1b9822d8d0logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;取得程式的segment (program header)\\nid:: 66313e73-e4ae-45e3-962e-7a891863f090logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^Flogseq____&quot;,1456,536870963]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313e73-e4ae-45e3-962e-7a891863f090logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313e73-e4ae-45e3-962e-7a891863f090logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66313e73-e4ae-45e3-962e-7a891863f090logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n\\t\\t// Loop over ELF segments.\\n\\t\\tfor _, prog := range f.Progs {\\n\\t\\t\\t// Skip uninteresting segments.\\n\\t\\t\\tif prog.Type != elf.PT_LOAD || (prog.Flagslogseq____&amp;elf.PF_X) == 0 {\\n\\t\\t\\t\\tcontinue\\n\\t\\t\\t}\\n\\n\\t\\t\\tif prog.Vaddr logseq____&lt;= s.Value logseq____&amp;logseq____&amp; s.Value logseq____&lt; (prog.Vaddr+prog.Memsz) {\\n\\t\\t\\t\\taddress = s.Value - prog.Vaddr + prog.Off\\n\\t\\t\\t\\tp = prog\\n\\t\\t\\t\\tbreak\\n\\t\\t\\t}\\n\\t\\t}\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^Flogseq____&quot;,1464,536870963]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-ff29-4181-90c1-b02d3acc9ed9logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;可以看到有9個segment，section與segment的mapping關係被描述在下方。如編號3的segment，就包含`.text`,`.plt`,`interp`,`note.go.buildid`sections。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^Flogseq____&quot;,1469,536870963]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-fa16-4c1f-b538-c35de8a03a96logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1434,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n//go:embed offsets.json\\nvar prefetchedOffsets string\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1434,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1434,logseq____&quot;^Flogseq____&quot;,1467,536870963]],[logseq____&quot;^15logseq____&quot;,[1434,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1434,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1434,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1434,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-de23-421b-9241-616f07269f67logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`structMemberOffsets` 處理golang中各struct field的offset，並透過linker將offset傳給ebpf使用。`structMembers`預先把可能的library, struct以及filed欄位標記出來。 ((662e8b82-7db2-4753-b84c-8bdde48f5eb2))會先嘗試在ELF檔案中的`Dwarf`尋找對應欄位的offset，如果找不到，則會利用 ((662e8b94-08d7-432f-8b32-606dd4955f6f)) 在預先取得的offet清當中尋找。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^Flogseq____&quot;,1458,536870963]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^Hlogseq____&quot;,1401,536870963]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^Hlogseq____&quot;,1468,536870963]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-85f5-4a64-81d8-acb77e2cc33elogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870963]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^Flogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^:logseq____&quot;,true,536870963]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870963]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-abbf-48fb-aed0-dbdb4fc2617alogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;取得 `.symtab` 及 `.dynsym`\\nid:: 66313f65-4e1c-4cd0-b665-9ddddea8a66blogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^Flogseq____&quot;,1470,536870963]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313f65-4e1c-4cd0-b665-9ddddea8a66blogseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313f65-4e1c-4cd0-b665-9ddddea8a66blogseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66313f65-4e1c-4cd0-b665-9ddddea8a66blogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1438,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`prefetchedOffsets`是在編譯時期讀入的`offsets.json`，這是從[grafana/go-offsets-tracker](https://github.com/grafana/go-offsets-tracker)取得golang各版本的struct offset。golang版本是從ELF中的`.go.buildinfo` section中取得，可以用`readelf`中看到:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1438,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1438,logseq____&quot;^Flogseq____&quot;,1434,536870963]],[logseq____&quot;^15logseq____&quot;,[1438,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1438,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1438,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1438,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2cf0-4531-9ab6-a2c71d45184clogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`findGoSymbolTable`讀兩個ELF中的section，分別是`.gopclntab`及`.text`。pclntab代表program counter line table，[GoReSym blog](https://cloud.google.com/blog/topics/threat-intelligence/golang-internals-symbol-recovery)提及logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^Flogseq____&quot;,1402,536870963]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-6a51-4fcd-bea6-91f7f8113e9flogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1440,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`findReturnOffssets` function會在給定的data中，找尋那些instruction是`RET`的位址logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1440,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1440,logseq____&quot;^Flogseq____&quot;,1420,536870963]],[logseq____&quot;^15logseq____&quot;,[1440,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1440,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1440,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1440,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-4b54-4f7c-afef-77ff7d8904e0logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1441,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n  LOAD           0x0000000000000000 0x0000000000400000 0x0000000000400000\\n                 0x000000000025fb60 0x000000000025fb60  R E    0x1000\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1441,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1441,logseq____&quot;^Flogseq____&quot;,1407,536870963]],[logseq____&quot;^15logseq____&quot;,[1441,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1441,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1441,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1441,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-7b8d-47ef-8a3d-1886cdc6d9bdlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1442,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`findFuncOffset`中，透過給定的function，嘗試在program header中找到符合的segment，找尋function在記憶體中位置的方法與前面一致。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1442,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1442,logseq____&quot;^Flogseq____&quot;,1443,536870963]],[logseq____&quot;^15logseq____&quot;,[1442,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1442,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1442,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1442,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-385c-44e4-99a2-ba237e8305a2logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### findFuncOffset\\nid:: 66363762-097f-4143-9900-5897436d2563logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^Flogseq____&quot;,1421,536870963]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363762-097f-4143-9900-5897436d2563logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870963]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363762-097f-4143-9900-5897436d2563logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66363762-097f-4143-9900-5897436d2563logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1444,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1444,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1444,logseq____&quot;^Flogseq____&quot;,1412,536870963]],[logseq____&quot;^15logseq____&quot;,[1444,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1444,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1444,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1444,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-47b9-4a21-9baf-4a35b6946187logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;golang drawf source: [structure_type](https://github.com/golang/go/blob/fe36ce669c1a452d2b0e81108a7e07674b50692a/src/cmd/internal/dwarf/dwarf.go#L748-L758), [struct member](https://github.com/golang/go/blob/fe36ce669c1a452d2b0e81108a7e07674b50692a/src/cmd/internal/dwarf/dwarf.go#L571-L581)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^Flogseq____&quot;,1453,536870963]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-90aa-4e52-b0e1-fc1dfcc0f6dalogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;取得程式的section header\\nid:: 66313fb8-efd1-4424-85ea-6c485b25888blogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^Flogseq____&quot;,1430,536870963]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313fb8-efd1-4424-85ea-6c485b25888blogseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313fb8-efd1-4424-85ea-6c485b25888blogseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66313fb8-efd1-4424-85ea-6c485b25888blogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n\\n\\t\\t\\tfuncLen := f.End - f.Entry\\n\\t\\t\\tdata := make([]byte, funcLen)\\n\\t\\t\\t_, err := prog.ReadAt(data, int64(f.Value-prog.Vaddr))\\n\\t\\t\\tif err != nil {\\n\\t\\t\\t\\treturn FuncOffsets{}, false, fmt.Errorf(\\logseq____&quot;finding function return: %w\\logseq____&quot;, err)\\n\\t\\t\\t}\\n\\n\\t\\t\\treturns, err := findReturnOffssets(off, data)\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^Flogseq____&quot;,1457,536870963]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-6407-476a-9e53-fefcad4f8aaalogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[原始的Go Runtime Symbol Information](https://docs.google.com/document/d/1lyPIbmsYbXnpNj57a261hgOYVpNRcgydurVQIyZOz_o/pub)也提及logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^Flogseq____&quot;,1427,536870963]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-99a5-4b5e-83bd-2671bc4a9eb2logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```bash\\ncd test/cmd/pingserver\\ngo build\\nreadelf -w pingserver | grep \\logseq____&quot; net/http.Request\\logseq____&quot; -C 30\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^Flogseq____&quot;,1429,536870963]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4741-415b-aa06-c9b3c9edd705logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc TestGoOffsetsFromDwarf(t *testing.T) {\\n\\toffsets, _ := structMemberOffsetsFromDwarf(debugData)\\n\\t// this test might fail if a future Go version updates the internal structure of the used structs.\\n\\tmustMatch(t, FieldOffsets{\\n\\t\\t\\logseq____&quot;url_ptr_pos\\logseq____&quot;:           uint64(16),\\n      ...\\n      \\t}, offsets)\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^Flogseq____&quot;,1411,536870963]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-ed82-4277-bab9-ed0bdea9ea4alogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;There are many interesting uses of pc-value tables. The most obvious is mapping program counter to line number, but another use is to generate a pcsp table recording the stack frame size at each program counter, so that stack unwinding can always determine where the current frame ends and the next one begins.logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Flogseq____&quot;,1448,536870963]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-afdf-450e-9fef-da9da353ed75logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;最後在`FindExeSymbols`保存的map中，key是function的名稱，value是`Sym struct`，包含function在記憶體中的位址(`Off`)，function symbol長度(`Len`)，以及function位在哪一個segment，即program header中(`Prog`)。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Flogseq____&quot;,1432,536870963]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-cb35-48af-a06a-4c1d326288d7logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`structMemberOffsetsFromDwarf`會先在DWARF欄位中找尋`DW_AT_name`符合`net/http.Request`等struct名稱，且tag是`DW_TAG_structure_type`的entry。從那entry往下會尋找struct中有興趣的欄位，如`net/http.Request`中的`URL`、`Method`等，過程中會過濾只符合`DW_TAG_member`的entry。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Flogseq____&quot;,1405,536870963]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-27fd-4dce-81d6-88417ad2c488logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;以`net.Listen`為例，他所在的Segment是編號1的section，對照 ((66313fb8-efd1-4424-85ea-6c485b25888b)) 也就是 text section，他在text section中的偏差為`578d60`。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Flogseq____&quot;,1417,536870963]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Hlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-871c-4bc2-a862-b6153161fdfclogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`instrumentationPoints`目的是找到ELF中，那些被instrumented的`functions`，每個function的開始及return位址。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^Flogseq____&quot;,1425,536870963]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-fa55-4a75-a4bc-826093768112logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n  4165: 0000000000578d60   124 FUNC    GLOBAL DEFAULT    1 net.Listen\\n  4166: 0000000000578de0   236 FUNC    GLOBAL DEFAULT    1 net.isDomainName\\n  4167: 0000000000578ee0   946 FUNC    GLOBAL DEFAULT    1 net.newRequest\\n  4168: 00000000005792a0   357 FUNC    GLOBAL DEFAULT    1 net.checkResponse\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Flogseq____&quot;,1454,536870963]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-904a-48cc-8e51-1a86c10c0648logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`prog.ReadAt`會將此prog第`int64(f.Value)-prog.Vaddr`的地方，讀data的大小(即`funcLen`)到data裡面。之後並使用 ((66363677-1e61-445d-b207-8c8ffcd447a8)) 找尋function的return address。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Flogseq____&quot;,1442,536870963]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Hlogseq____&quot;,1420,536870963]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-17db-42b6-afb8-b692a4c1ef79logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### structMemberOffsets\\nid:: 66363aad-2a1d-4514-9317-4edbf5a06ba6logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^Flogseq____&quot;,1413,536870963]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363aad-2a1d-4514-9317-4edbf5a06ba6logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870963]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363aad-2a1d-4514-9317-4edbf5a06ba6logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66363aad-2a1d-4514-9317-4edbf5a06ba6logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;類似結果logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Flogseq____&quot;,1449,536870963]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8cef-4018-b857-5e7adbccf30flogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;類似結果logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Flogseq____&quot;,1462,536870963]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4dee-47f3-84e3-294fbef620a0logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# function offsetlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Flogseq____&quot;,1418,536870963]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870963]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Jlogseq____&quot;,[],536870963]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2be3-4507-825b-42cea11e7018logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1462,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```bash\\nreadelf -S pingserver\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1462,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1462,logseq____&quot;^Flogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1462,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1462,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1462,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1462,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4169-4c0b-8aed-e6e72af7b7b2logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1463,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[Go at Google: Language Design in the Service of Software Engineering - The Go Programming Language](https://go.dev/talks/2012/splash.article)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1463,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1463,logseq____&quot;^Flogseq____&quot;,1419,536870963]],[logseq____&quot;^15logseq____&quot;,[1463,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1463,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1463,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1463,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-4a7d-4718-a5b8-61d096bf160clogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`FindExeSymbols`列舉出全部的`symbols`以及 `dymsym`(參考 ((66313f65-4e1c-4cd0-b665-9ddddea8a66b)) )，並找尋symbol的address(`S.Value`)落在[`prog.Vaddr`, `prog.Vaddr+prog.Memsz`]的program header (參考 ((66313e73-e4ae-45e3-962e-7a891863f090)))。`s.Value-prog.Vaddr`將會是function在記憶體中，相較於segment的值，再加上segment本身的偏差`prog.Off`，即是function在記憶體中的位址`address`。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^Flogseq____&quot;,1414,536870963]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^Hlogseq____&quot;,1431,536870963]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^Hlogseq____&quot;,1437,536870963]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8137-455c-9d3e-d86a862cd113logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1465,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;類似輸出logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1465,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1465,logseq____&quot;^Flogseq____&quot;,1428,536870963]],[logseq____&quot;^15logseq____&quot;,[1465,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1465,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1465,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1465,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-87d0-4b2f-a366-fb8b9d9327a7logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### InspectOffsetslogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^Flogseq____&quot;,1473,536870963]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870963]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^Jlogseq____&quot;,[],536870963]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-e67c-449a-ae22-659be5808895logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果ELF沒有debug相關的section (DWARF)，beyla會從預先取得的`prefetchedOffsets`中取得。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^Flogseq____&quot;,1468,536870963]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-aa48-4ac0-ac5c-02b1432073d7logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### structMemberPreFetchedOffsets\\nid:: 662e8b94-08d7-432f-8b32-606dd4955f6flogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^Flogseq____&quot;,1450,536870963]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;662e8b94-08d7-432f-8b32-606dd4955f6flogseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870963]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;662e8b94-08d7-432f-8b32-606dd4955f6flogseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u662e8b94-08d7-432f-8b32-606dd4955f6flogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```bash\\n readelf -l pingserver\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^Flogseq____&quot;,1431,536870963]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-7351-46e9-97af-dab59bb11b40logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n\\tfor _, s := range syms {\\n\\t\\tif elf.ST_TYPE(s.Info) != elf.STT_FUNC {\\n\\t\\t\\t// Symbol not associated with a function or other executable code.\\n\\t\\t\\tcontinue\\n\\t\\t}\\n\\n\\t\\taddress := s.Value\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^Flogseq____&quot;,1404,536870963]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-12eb-4d58-aed6-190e53f92434logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### handleStaticSymbol\\nid:: 66363656-fd97-4825-a3ca-f11d31e3249dlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^Flogseq____&quot;,1472,536870963]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363656-fd97-4825-a3ca-f11d31e3249dlogseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870963]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363656-fd97-4825-a3ca-f11d31e3249dlogseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66363656-fd97-4825-a3ca-f11d31e3249dlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1472,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc findReturnOffssets(baseOffset uint64, data []byte) ([]uint64, error) {\\n\\tvar returnOffsets []uint64\\n\\tindex := 0\\n\\tfor index logseq____&lt; len(data) {\\n\\t\\tinstruction, err := x86asm.Decode(data[index:], 64)\\n\\t\\tif err != nil {\\n\\t\\t\\treturn nil, fmt.Errorf(\\logseq____&quot;failed to decode x64 instruction at offset %d: %w\\logseq____&quot;, index, err)\\n\\t\\t}\\n\\n\\t\\tif instruction.Op == x86asm.RET {\\n\\t\\t\\treturnOffsets = append(returnOffsets, baseOffset+uint64(index))\\n\\t\\t}\\n\\n\\t\\tindex += instruction.Len\\n\\t}\\n\\n\\treturn returnOffsets, nil\\n}\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1472,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1472,logseq____&quot;^Flogseq____&quot;,1440,536870963]],[logseq____&quot;^15logseq____&quot;,[1472,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1472,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1472,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1472,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-0289-43ed-9a29-dd842c5e9cd5logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;先使用 ((66362a69-0c2d-4c47-9945-43c5f2233c72)) 取得 go symbol table (`symTab`)，如果ELF中沒有`.gosymtab` section (`gosyms`)，這個ELF為static link的binary，使用 ((663636de-6569-44d7-99df-dc7b1a67b96b)) 拿到一般的ELF symbol。接著遍歷`symTab`每個symbol，如果symbol name在`functions`內，那這symbol就是我們關心且要被instrumented的，這時分成兩個情境，如果`gosyms`不存在，使用 ((66363656-fd97-4825-a3ca-f11d31e3249d)) 找到這個symbol的offset，否則使用 ((66363762-097f-4143-9900-5897436d2563)) 尋找，function的開始及return的位址最終存放在`allOffsets`中。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^Flogseq____&quot;,1455,536870963]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^Hlogseq____&quot;,1402,536870963]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^Hlogseq____&quot;,1414,536870963]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^Hlogseq____&quot;,1443,536870963]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^Hlogseq____&quot;,1471,536870963]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-6b98-4b85-b530-a4896d6b980alogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1474,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;可見pclntab是一張記錄program counter及各種function相關的表，不僅是function所在檔名及行數，也可以是stack pointer，可以用來還原panic並顯示完整的stack trace。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1474,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1474,logseq____&quot;^Flogseq____&quot;,1451,536870963]],[logseq____&quot;^15logseq____&quot;,[1474,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1474,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1474,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1474,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-cbc1-4331-acd5-a945ed7ae49alogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[- The Go Programming Language](https://go.dev/src/debug/gosym/symtab.go)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^Flogseq____&quot;,1406,536870963]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f85-76bc-48c4-b411-b32cbd290b78logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1476,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n logseq____&lt;1logseq____&gt;logseq____&lt;cace1logseq____&gt;: Abbrev Number: 39 (DW_TAG_structure_type)\\n    logseq____&lt;cace2logseq____&gt;   DW_AT_name        : net/http.Request\\n    logseq____&lt;cacf3logseq____&gt;   DW_AT_byte_size   : 288\\n    logseq____&lt;cacf5logseq____&gt;   Unknown AT value: 2900: 25\\n    logseq____&lt;cacf6logseq____&gt;   Unknown AT value: 2904: 0x695a0\\n logseq____&lt;2logseq____&gt;logseq____&lt;cacfelogseq____&gt;: Abbrev Number: 24 (DW_TAG_member)\\n    logseq____&lt;cacfflogseq____&gt;   DW_AT_name        : Method\\n    logseq____&lt;cad06logseq____&gt;   DW_AT_data_member_location: 0\\n    logseq____&lt;cad07logseq____&gt;   DW_AT_type        : logseq____&lt;0x95c97logseq____&gt;\\n    logseq____&lt;cad0blogseq____&gt;   Unknown AT value: 2903: 0\\n logseq____&lt;2logseq____&gt;logseq____&lt;cad0clogseq____&gt;: Abbrev Number: 24 (DW_TAG_member)\\n    logseq____&lt;cad0dlogseq____&gt;   DW_AT_name        : URL\\n    logseq____&lt;cad11logseq____&gt;   DW_AT_data_member_location: 16\\n    logseq____&lt;cad12logseq____&gt;   DW_AT_type        : logseq____&lt;0xbe008logseq____&gt;\\n    logseq____&lt;cad16logseq____&gt;   Unknown AT value: 2903: 0\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1476,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1476,logseq____&quot;^Flogseq____&quot;,1459,536870963]],[logseq____&quot;^15logseq____&quot;,[1476,logseq____&quot;^Xlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1476,logseq____&quot;^Vlogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1476,logseq____&quot;^Ulogseq____&quot;,1400,536870963]],[logseq____&quot;^15logseq____&quot;,[1476,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-cb8b-431a-b269-75cc8ad4aa8flogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^Klogseq____&quot;,1766477702077,536870964]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^@logseq____&quot;,false,536870964]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/go_nethttplogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^Alogseq____&quot;,1392,536870964]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/go_nethttplogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870964]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870964]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^Blogseq____&quot;,1766477702077,536870964]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-d6fc-4f30-88ef-645ff69e58bdlogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^Klogseq____&quot;,1766477702078,536870964]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^@logseq____&quot;,false,536870964]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/http_server (v1.8.1)logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^Alogseq____&quot;,1392,536870964]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/http_server (v1.8.1)logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870968]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870968]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^Blogseq____&quot;,1766477702078,536870964]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-d3ba-4aca-ba66-135047e9bfaalogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^Klogseq____&quot;,1766477702080,536870964]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^@logseq____&quot;,false,536870964]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/http_client (v1.8.1)logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^Alogseq____&quot;,1392,536870964]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/http_client (v1.8.1)logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870966]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870966]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^Blogseq____&quot;,1766477702080,536870964]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-bf94-48dd-b278-c315c615467alogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^Klogseq____&quot;,1766477702081,536870964]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^@logseq____&quot;,false,536870964]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/http_header (v1.8.1)logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^Alogseq____&quot;,1392,536870964]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/http_header (v1.8.1)logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870967]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^Blogseq____&quot;,1766477702081,536870964]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-ae08-4568-9e3b-d64248952816logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^Klogseq____&quot;,1766477702082,536870964]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^@logseq____&quot;,false,536870964]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/sqllogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^Alogseq____&quot;,1392,536870964]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/sqllogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870971]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870971]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^Blogseq____&quot;,1766477702082,536870964]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-0b43-4da3-ae90-ac4f34bf76a6logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^Klogseq____&quot;,1766477702083,536870964]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^@logseq____&quot;,false,536870964]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/go_traceparentlogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^Alogseq____&quot;,1392,536870964]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/go_traceparentlogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870965]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^Blogseq____&quot;,1766477702083,536870964]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-56ef-48a6-8a3e-80137f1e4eb0logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[[Beyla/http_client (v1.8.1)]]logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Flogseq____&quot;,1492,536870964]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Xlogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Vlogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Ulogseq____&quot;,1392,536870964]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Ulogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Ulogseq____&quot;,1480,536870964]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Hlogseq____&quot;,1392,536870964]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Hlogseq____&quot;,1480,536870964]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-cf01-4ec3-9e69-b1088be47387logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[[Beyla/sql]]logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Flogseq____&quot;,1488,536870964]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Xlogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Vlogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Ulogseq____&quot;,1392,536870964]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Ulogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Ulogseq____&quot;,1482,536870964]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Hlogseq____&quot;,1392,536870964]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Hlogseq____&quot;,1482,536870964]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-cf90-4659-b3b5-5d41add9ec2blogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# Headerlogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^Flogseq____&quot;,1484,536870964]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^Xlogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^Vlogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^Ulogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870964]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^Jlogseq____&quot;,[],536870964]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-34db-4f14-b998-25ea91875265logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[[Beyla/http_server (v1.8.1)]]logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^Flogseq____&quot;,1490,536870964]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^Xlogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^Vlogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^Ulogseq____&quot;,1392,536870964]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^Ulogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^Ulogseq____&quot;,1479,536870964]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^Hlogseq____&quot;,1392,536870964]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^Hlogseq____&quot;,1479,536870964]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-33ff-4512-bb9e-5befd3b5b162logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# SQLlogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^Flogseq____&quot;,1494,536870964]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^Xlogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^Vlogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^Ulogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870964]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^Jlogseq____&quot;,[],536870964]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1a21-48b9-96cb-013dd5284ef3logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[[Beyla/go_traceparent]]logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^Flogseq____&quot;,1491,536870964]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^Xlogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^Vlogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^Ulogseq____&quot;,1392,536870964]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^Ulogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^Ulogseq____&quot;,1483,536870964]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^Hlogseq____&quot;,1392,536870964]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^Hlogseq____&quot;,1483,536870964]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-f2ea-458b-a8d8-ac6865140d53logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# Serverlogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^Flogseq____&quot;,1493,536870964]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^Xlogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^Vlogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^Ulogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870964]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^Jlogseq____&quot;,[],536870964]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7239-490e-a320-69a53ddf7292logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# Traceparentlogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^Flogseq____&quot;,1485,536870964]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^Xlogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^Vlogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^Ulogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870964]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^Jlogseq____&quot;,[],536870964]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-04a2-4020-b6ed-34c16477bff7logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# Clientlogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^Flogseq____&quot;,1487,536870964]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^Xlogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^Vlogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^Ulogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870964]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^Jlogseq____&quot;,[],536870964]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8f6a-41ca-8a6c-6f2fae883199logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870964]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^Flogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^Xlogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^Vlogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^Ulogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^:logseq____&quot;,true,536870964]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870964]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870964]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870964]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-ea7b-45f1-85ec-c4252a6c7f22logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[[Beyla/http_header (v1.8.1)]]logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Flogseq____&quot;,1486,536870964]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Xlogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Vlogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Ulogseq____&quot;,1392,536870964]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Ulogseq____&quot;,1478,536870964]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Ulogseq____&quot;,1481,536870964]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Hlogseq____&quot;,1392,536870964]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Hlogseq____&quot;,1481,536870964]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-62e5-40fc-aabf-5c823c40768alogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n#define W3C_KEY_LENGTH 11\\n#define W3C_VAL_LENGTH 55\\n...\\n\\n// assumes s2 is all lowercase\\nstatic __always_inline int bpf_memicmp(char *s1, char *s2, s32 size)\\n{\\n    for (int i = 0; i logseq____&lt; size; i++)\\n    {\\n        if (s1[i] != s2[i] logseq____&amp;logseq____&amp; s1[i] != (s2[i] - 32)) // compare with each uppercase character\\n        {\\n            return i+1;\\n        }\\n    }\\n\\n    return 0;\\n}\\n\\nstatic __always_inline void *extract_traceparent_from_req_headers(void *headers_ptr_ptr)\\n{\\n...\\n        for (u64 i = 0; i logseq____&lt; 8; i++)\\n        {\\n            // break the bucket iteration when tophash is zero\\n            // since \\logseq____&quot;there are no more non-empty cells at higher indexes or overflows\\logseq____&quot;\\n            // ref: https://github.com/golang/go/blob/9050ce9b334419066c364e747499a2faf4425dad/src/runtime/map.go#L86\\n            if (map_value-logseq____&gt;tophash[i] == 0)\\n            {\\n                break;\\n            }\\n            // skip the cell if tophash is empty\\n            // ref: https://github.com/golang/go/blob/9050ce9b334419066c364e747499a2faf4425dad/src/runtime/map.go#L87\\n            if (map_value-logseq____&gt;tophash[i] == 1)\\n            {\\n                continue;\\n            }\\n            if (map_value-logseq____&gt;keys[i].len != W3C_KEY_LENGTH)\\n            {\\n                continue;\\n            }\\n            char current_header_key[W3C_KEY_LENGTH];\\n            bpf_probe_read(current_header_key, sizeof(current_header_key), map_value-logseq____&gt;keys[i].str);        \\n            if (bpf_memicmp(current_header_key, \\logseq____&quot;traceparent\\logseq____&quot;, W3C_KEY_LENGTH)) // grpc headers donlogseq____&apos;t get normalized\\n            {\\n                continue;\\n            }\\n            void *traceparent_header_value_ptr = map_value-logseq____&gt;values[i].array;\\n            struct go_string traceparent_header_value_go_str;\\n            res = bpf_probe_read(logseq____&amp;traceparent_header_value_go_str, sizeof(traceparent_header_value_go_str), traceparent_header_value_ptr);\\n            if (res logseq____&lt; 0)\\n            {\\n                return NULL;\\n            }\\n            if (traceparent_header_value_go_str.len != W3C_VAL_LENGTH)\\n            {\\n                continue;\\n            }\\n            return traceparent_header_value_go_str.str;\\n```logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^Flogseq____&quot;,1515,536870965]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^Vlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-a2f9-4e7f-a794-36936952ef50logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在 `headers_ptr_ptr` pointer讀 ((66375148-ddf7-4ad2-aca2-03e421bd6db4))，寫入`*headers_ptr`logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^Flogseq____&quot;,1500,536870965]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^Vlogseq____&quot;,1500,536870965]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^Hlogseq____&quot;,1533,536870965]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-e43b-4b05-983c-1f9a57e1681flogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[HTTP spec](https://greenbytes.de/tech/webdav/rfc7230.html#field.limits)並沒有限制HTTP header，但是這邊有限制header的bucket查找上限是8個。logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Flogseq____&quot;,1513,536870965]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Vlogseq____&quot;,1511,536870965]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-3077-47e4-bafb-dfd41a22c0c5logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1500,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;定位`header`欄位logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1500,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1500,logseq____&quot;^Flogseq____&quot;,1508,536870965]],[logseq____&quot;^15logseq____&quot;,[1500,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1500,logseq____&quot;^Vlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1500,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1500,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5ea8-4fce-ae88-4793c3c9467elogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## map\\nid:: 66374b78-b6a9-42a4-aedd-3e3403cd8a00logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^Flogseq____&quot;,1910,536870975]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^Xlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^Vlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^Ulogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374b78-b6a9-42a4-aedd-3e3403cd8a00logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870975]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374b78-b6a9-42a4-aedd-3e3403cd8a00logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66374b78-b6a9-42a4-aedd-3e3403cd8a00logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1502,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;目的：在給定的`*headers_ptr_ptr` pointer中尋找`traceparent`header的值logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1502,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1502,logseq____&quot;^Flogseq____&quot;,1530,536870965]],[logseq____&quot;^15logseq____&quot;,[1502,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1502,logseq____&quot;^Vlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1502,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1502,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-41cf-4d8a-9bb5-b68f9cc9145clogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1503,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[net/http.Header](https://pkg.go.dev/net/http#Header)就是key為string，value為string[]的maplogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1503,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1503,logseq____&quot;^Flogseq____&quot;,1508,536870965]],[logseq____&quot;^15logseq____&quot;,[1503,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1503,logseq____&quot;^Vlogseq____&quot;,1508,536870965]],[logseq____&quot;^15logseq____&quot;,[1503,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1503,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-e27d-419f-a8ad-dcd94375d205logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1504,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Go ((66374b78-b6a9-42a4-aedd-3e3403cd8a00)) internallogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1504,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1504,logseq____&quot;^Flogseq____&quot;,1524,536870965]],[logseq____&quot;^15logseq____&quot;,[1504,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1504,logseq____&quot;^Vlogseq____&quot;,1508,536870965]],[logseq____&quot;^15logseq____&quot;,[1504,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1504,logseq____&quot;^Hlogseq____&quot;,1501,536870965]],[logseq____&quot;^15logseq____&quot;,[1504,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-039e-4ceb-86c3-cdddf8f38a1elogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1505,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`W3C_KEY_LENGTH`是`traceparent`的長度，也就是11；`W3C_VAL_LENGTH`=2+1+32+1+16+1+2=55logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1505,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1505,logseq____&quot;^Flogseq____&quot;,1531,536870965]],[logseq____&quot;^15logseq____&quot;,[1505,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1505,logseq____&quot;^Vlogseq____&quot;,1515,536870965]],[logseq____&quot;^15logseq____&quot;,[1505,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1505,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-ad37-4df0-8687-fd26663ec5e9logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`B` member的offset是8+1=9，用來描述buckets的`log_2`數量\\nid:: 66374cde-c73c-49eb-93f1-cb556a3dca9dlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^Flogseq____&quot;,1523,536870975]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^Xlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^Vlogseq____&quot;,1533,536870975]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^Ulogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374cde-c73c-49eb-93f1-cb556a3dca9dlogseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374cde-c73c-49eb-93f1-cb556a3dca9dlogseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66374cde-c73c-49eb-93f1-cb556a3dca9dlogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870965]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^Flogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^Vlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^:logseq____&quot;,true,536870965]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870965]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-6d7f-484b-b920-4c6a48a0e332logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1508,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;背景：logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1508,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1508,logseq____&quot;^Flogseq____&quot;,1502,536870965]],[logseq____&quot;^15logseq____&quot;,[1508,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1508,logseq____&quot;^Vlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1508,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1508,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-480d-4276-9242-52ff9081fa8dlogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1509,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`header_buckets + (j * sizeof(struct map_bucket))`，也就是第`j`個bucket在`header_buckets`的位址中，讀入`map_value`。logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1509,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1509,logseq____&quot;^Flogseq____&quot;,1499,536870965]],[logseq____&quot;^15logseq____&quot;,[1509,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1509,logseq____&quot;^Vlogseq____&quot;,1511,536870965]],[logseq____&quot;^15logseq____&quot;,[1509,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1509,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4d39-4f07-b41b-6564d06a12a5logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1510,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`headers_ptr` pointer讀 ((66374d1c-fdad-4156-a614-da2dfd503258))，寫入`header_buckets`logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1510,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1510,logseq____&quot;^Flogseq____&quot;,1521,536870965]],[logseq____&quot;^15logseq____&quot;,[1510,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1510,logseq____&quot;^Vlogseq____&quot;,1500,536870965]],[logseq____&quot;^15logseq____&quot;,[1510,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1510,logseq____&quot;^Hlogseq____&quot;,1519,536870965]],[logseq____&quot;^15logseq____&quot;,[1510,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-f852-4299-bc5f-99e62f625d40logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1511,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;遍歷header的map bucketlogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1511,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1511,logseq____&quot;^Flogseq____&quot;,1527,536870965]],[logseq____&quot;^15logseq____&quot;,[1511,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1511,logseq____&quot;^Vlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1511,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1511,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-3fe8-4daf-bc30-41f3cc6831c2logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1512,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;註：不確定原因，因為找到`traceparent` header之後就直接return，有可能是要讓`golang_mapbucket_storage_map`唯一的value指向存在`traceparent` header的bucketlogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1512,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1512,logseq____&quot;^Flogseq____&quot;,1513,536870965]],[logseq____&quot;^15logseq____&quot;,[1512,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1512,logseq____&quot;^Vlogseq____&quot;,1513,536870965]],[logseq____&quot;^15logseq____&quot;,[1512,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1512,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-0373-42f7-bdb8-8b74229e6109logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`golang_mapbucket_storage_map`中查唯一的`struct map_bucket`logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^Flogseq____&quot;,1511,536870965]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^Vlogseq____&quot;,1511,536870965]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7c86-4617-82b5-6b367ea5c51clogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1514,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`map_value-logseq____&gt;keys[i].str`讀入目前的header key，並寫入`current_header_key`logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1514,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1514,logseq____&quot;^Flogseq____&quot;,1505,536870965]],[logseq____&quot;^15logseq____&quot;,[1514,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1514,logseq____&quot;^Vlogseq____&quot;,1515,536870965]],[logseq____&quot;^15logseq____&quot;,[1514,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1514,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-cb20-4881-b875-588e872b40f7logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1515,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;遍歷第`j`個bucket中每個entry，找尋`traceparent` headerlogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1515,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1515,logseq____&quot;^Flogseq____&quot;,1516,536870965]],[logseq____&quot;^15logseq____&quot;,[1515,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1515,logseq____&quot;^Vlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1515,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1515,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-05a1-4a9a-ba4e-220c4daf7ef2logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n#define MAX_BUCKETS 8\\n...\\nstruct\\n{\\n    __uint(type, BPF_MAP_TYPE_PERCPU_ARRAY);\\n    __uint(key_size, sizeof(u32));\\n    __uint(value_size, sizeof(struct map_bucket));\\n    __uint(max_entries, 1);\\n} golang_mapbucket_storage_map SEC(\\logseq____&quot;.maps\\logseq____&quot;);\\n...\\nstruct map_bucket {\\n    char tophash[8];\\n    struct go_string keys[8];\\n    struct go_slice values[8];\\n    void *overflow;\\n};\\n...\\nstatic __always_inline void *extract_traceparent_from_req_headers(void *headers_ptr_ptr)\\n{\\n...\\n    u32 map_id = 0;\\n    struct map_bucket *map_value = (struct map_bucket *)bpf_map_lookup_elem(logseq____&amp;golang_mapbucket_storage_map, logseq____&amp;map_id);\\n    if (!map_value)\\n    {\\n        return NULL;\\n    }\\n    for (u64 j = 0; j logseq____&lt; MAX_BUCKETS; j++)\\n    {\\n        if (j logseq____&gt;= bucket_count)\\n        {\\n            break;\\n        }\\n        res = bpf_probe_read(map_value, sizeof(struct map_bucket), header_buckets + (j * sizeof(struct map_bucket)));\\n        if (res logseq____&lt; 0)\\n        {\\n            continue;\\n        }\\n\\t\\t\\t...\\n```logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^Flogseq____&quot;,1511,536870965]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^Vlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-bf44-4379-b5bb-af85790ad70alogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果長度相等，則回傳該valuelogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^Flogseq____&quot;,1528,536870965]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^Vlogseq____&quot;,1515,536870965]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-ba27-4532-a731-ce120082923dlogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1518,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`map_value-logseq____&gt;values[i].array`讀入目前的header value，並寫入`traceparent_header_value_go_str`logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1518,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1518,logseq____&quot;^Flogseq____&quot;,1534,536870965]],[logseq____&quot;^15logseq____&quot;,[1518,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1518,logseq____&quot;^Vlogseq____&quot;,1515,536870965]],[logseq____&quot;^15logseq____&quot;,[1518,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1518,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7550-4a1c-98b5-db425622251flogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`buckets` member的offset是8 + 1 + 1 + 2 + 4 = 16，pointer指向buckets的結構\\nid:: 66374d1c-fdad-4156-a614-da2dfd503258logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^Flogseq____&quot;,1506,536870975]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^Xlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^Vlogseq____&quot;,1533,536870975]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^Ulogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374d1c-fdad-4156-a614-da2dfd503258logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374d1c-fdad-4156-a614-da2dfd503258logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66374d1c-fdad-4156-a614-da2dfd503258logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`headers_ptr` pointer讀 ((66374cb7-1493-4c04-9846-71c67396fd68))，寫入`headers_count`logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^Flogseq____&quot;,1498,536870965]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^Vlogseq____&quot;,1500,536870965]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^Hlogseq____&quot;,1523,536870965]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-ae92-4bfc-a7e7-c14576c8255elogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1521,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;計算`bucket_count = 1 logseq____&lt;logseq____&lt; log_2_bucket_count`logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1521,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1521,logseq____&quot;^Flogseq____&quot;,1522,536870965]],[logseq____&quot;^15logseq____&quot;,[1521,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1521,logseq____&quot;^Vlogseq____&quot;,1500,536870965]],[logseq____&quot;^15logseq____&quot;,[1521,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1521,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-215a-4137-80f5-53f28cea9cd7logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`headers_ptr` pointer讀 ((66374cde-c73c-49eb-93f1-cb556a3dca9d))，寫入`log_2_bucket_count` [[Beyla/Assertion]]logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Flogseq____&quot;,1520,536870965]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Vlogseq____&quot;,1500,536870965]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Ulogseq____&quot;,1392,536870965]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Ulogseq____&quot;,1496,536870965]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Hlogseq____&quot;,1392,536870965]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Hlogseq____&quot;,1496,536870965]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Hlogseq____&quot;,1506,536870965]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-3da6-4b69-84d1-e526634ad7fdlogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`count` member的offset為0，用來描述map的數量\\nid:: 66374cb7-1493-4c04-9846-71c67396fd68logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^Flogseq____&quot;,1533,536870975]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^Xlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^Vlogseq____&quot;,1533,536870975]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^Ulogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374cb7-1493-4c04-9846-71c67396fd68logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374cb7-1493-4c04-9846-71c67396fd68logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66374cb7-1493-4c04-9846-71c67396fd68logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[traceparent header](https://www.w3.org/TR/trace-context/#header-name)logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^Flogseq____&quot;,1503,536870965]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^Vlogseq____&quot;,1508,536870965]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-34f6-47fb-a5e6-34d02025613blogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`internal/abi`中，定義`MapBucketCount`為1logseq____&lt;logseq____&lt;3 = 8\\nid:: 66374dc9-21f4-4ba3-b03e-a3d6897a636flogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^Flogseq____&quot;,1898,536870975]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^Xlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^Vlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^Ulogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374dc9-21f4-4ba3-b03e-a3d6897a636flogseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374dc9-21f4-4ba3-b03e-a3d6897a636flogseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66374dc9-21f4-4ba3-b03e-a3d6897a636flogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`tophash[i]`值是0，則這cell為空值，而且更高index的cell皆為空值 [參考](https://github.com/golang/go/blob/9050ce9b334419066c364e747499a2faf4425dad/src/runtime/map.go#L86)\\nid:: 66375be1-a305-45a6-9272-92b77030892flogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^Flogseq____&quot;,1902,536870975]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^Xlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^Vlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^Ulogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66375be1-a305-45a6-9272-92b77030892flogseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66375be1-a305-45a6-9272-92b77030892flogseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66375be1-a305-45a6-9272-92b77030892flogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1527,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n#define OFFSET_OF_GO_RUNTIME_HMAP_FIELD_B 9\\n#define OFFSET_OF_GO_RUNTIME_HMAP_FIELD_BUCKETS 16\\n// ...\\nstatic __always_inline void *extract_traceparent_from_req_headers(void *headers_ptr_ptr)\\n{\\n    void *headers_ptr;\\n    long res;\\n    res = bpf_probe_read(logseq____&amp;headers_ptr, sizeof(headers_ptr), headers_ptr_ptr);\\n    if (res logseq____&lt; 0)\\n    {\\n        return NULL;\\n    }\\n    u64 headers_count = 0;\\n    res = bpf_probe_read(logseq____&amp;headers_count, sizeof(headers_count), headers_ptr);\\n    if (res logseq____&lt; 0)\\n    {\\n        return NULL;\\n    }\\n    if (headers_count == 0)\\n    {\\n        return NULL;\\n    }\\n    unsigned char log_2_bucket_count;\\n    res = bpf_probe_read(logseq____&amp;log_2_bucket_count, sizeof(log_2_bucket_count), headers_ptr + OFFSET_OF_GO_RUNTIME_HMAP_FIELD_B);\\n    if (res logseq____&lt; 0)\\n    {\\n        return NULL;\\n    }\\n    u64 bucket_count = 1 logseq____&lt;logseq____&lt; log_2_bucket_count;\\n    void *header_buckets;\\n    res = bpf_probe_read(logseq____&amp;header_buckets, sizeof(header_buckets), headers_ptr + OFFSET_OF_GO_RUNTIME_HMAP_FIELD_BUCKETS);\\n    if (res logseq____&lt; 0)\\n    {\\n        return NULL;\\n    }\\n```logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1527,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1527,logseq____&quot;^Flogseq____&quot;,1500,536870965]],[logseq____&quot;^15logseq____&quot;,[1527,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1527,logseq____&quot;^Vlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1527,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1527,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-872f-45f8-a9a0-efdc31c2c4f8logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1528,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`traceparent_header_value_go_str`長度不是55，則忽略logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1528,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1528,logseq____&quot;^Flogseq____&quot;,1518,536870965]],[logseq____&quot;^15logseq____&quot;,[1528,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1528,logseq____&quot;^Vlogseq____&quot;,1515,536870965]],[logseq____&quot;^15logseq____&quot;,[1528,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1528,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-acec-4ab6-bfdc-00c0cbf3c186logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nvalue           = version \\logseq____&quot;-\\logseq____&quot; version-format\\nversion         = 2HEXDIGLC   ; this document assumes version 00. Version ff is forbidden\\nversion-format   = trace-id \\logseq____&quot;-\\logseq____&quot; parent-id \\logseq____&quot;-\\logseq____&quot; trace-flags\\ntrace-id         = 32HEXDIGLC  ; 16 bytes array identifier. All zeroes forbidden\\nparent-id        = 16HEXDIGLC  ; 8 bytes array identifier. All zeroes forbidden\\ntrace-flags      = 2HEXDIGLC   ; 8 bit flags. Currently, only one bit is used. See below for details\\n```logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^Flogseq____&quot;,1505,536870965]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^Vlogseq____&quot;,1505,536870965]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5a93-4c64-a8a7-b8b7ef46fb4flogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## extract_traceparent_from_req_headers\\nid:: 6637505e-eb41-47cc-a463-eea0c9b0f970logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^Flogseq____&quot;,1507,536870965]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^Vlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6637505e-eb41-47cc-a463-eea0c9b0f970logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870965]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6637505e-eb41-47cc-a463-eea0c9b0f970logseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u6637505e-eb41-47cc-a463-eea0c9b0f970logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1531,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果bucket中第`i`個entry為0，代表該cell為空值，參考 ((66375be1-a305-45a6-9272-92b77030892f))。logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1531,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1531,logseq____&quot;^Flogseq____&quot;,1532,536870965]],[logseq____&quot;^15logseq____&quot;,[1531,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1531,logseq____&quot;^Vlogseq____&quot;,1515,536870965]],[logseq____&quot;^15logseq____&quot;,[1531,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1531,logseq____&quot;^Hlogseq____&quot;,1526,536870965]],[logseq____&quot;^15logseq____&quot;,[1531,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b84d-4460-a050-e87a03d60837logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1532,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;bucket entry上限是8，參考 ((66374dc9-21f4-4ba3-b03e-a3d6897a636f))logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1532,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1532,logseq____&quot;^Flogseq____&quot;,1515,536870965]],[logseq____&quot;^15logseq____&quot;,[1532,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1532,logseq____&quot;^Vlogseq____&quot;,1515,536870965]],[logseq____&quot;^15logseq____&quot;,[1532,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1532,logseq____&quot;^Hlogseq____&quot;,1525,536870965]],[logseq____&quot;^15logseq____&quot;,[1532,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-489c-4a84-ae07-2128acfb9a82logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;golang的map實作hash table (`hmap` struct)\\nid:: 66375148-ddf7-4ad2-aca2-03e421bd6db4logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^Flogseq____&quot;,1900,536870975]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^Xlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^Vlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^Ulogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66375148-ddf7-4ad2-aca2-03e421bd6db4logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66375148-ddf7-4ad2-aca2-03e421bd6db4logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66375148-ddf7-4ad2-aca2-03e421bd6db4logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1534,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`current_header_key`與`traceparent`進行`bpf_memicmp`(忽略大小寫的比較)後，return code不是0，則忽略logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1534,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1534,logseq____&quot;^Flogseq____&quot;,1514,536870965]],[logseq____&quot;^15logseq____&quot;,[1534,logseq____&quot;^Xlogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1534,logseq____&quot;^Vlogseq____&quot;,1515,536870965]],[logseq____&quot;^15logseq____&quot;,[1534,logseq____&quot;^Ulogseq____&quot;,1483,536870965]],[logseq____&quot;^15logseq____&quot;,[1534,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-f5d5-4d6a-8287-921cdaa8f23blogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1536,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;直接呼叫`roundTripStartHelper` function。logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1536,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1536,logseq____&quot;^Flogseq____&quot;,1552,536870966]],[logseq____&quot;^15logseq____&quot;,[1536,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1536,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1536,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1536,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-6841-4a60-a297-ce5ca9166209logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1537,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1537,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1537,logseq____&quot;^Flogseq____&quot;,1543,536870966]],[logseq____&quot;^15logseq____&quot;,[1537,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1537,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1537,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1537,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-daaf-4e59-ae72-a54f8c6faf53logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1538,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`golang.org/x/net/http2.(*ClientConn).roundTrip`logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1538,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1538,logseq____&quot;^Flogseq____&quot;,1558,536870966]],[logseq____&quot;^15logseq____&quot;,[1538,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1538,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1538,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1538,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-6fef-4319-8c1b-9a65671431bblogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;另外使用`GO_PARAM1`讀第一個function return type `*Response`，讀他的`status`並寫到`trace`中。同時將`invocation-logseq____&gt;tp`也寫到`trace-logseq____&gt;tp`中，最後送給ringbuffer。logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^Flogseq____&quot;,1562,536870966]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1fee-40c3-a915-baf1ea18000flogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1540,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[roundTrip](https://github.com/golang/go/blob/16830ab48abb0cbc702298cafaa69839d0c9f4f9/src/net/http/transport.go#L516-L517)logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1540,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1540,logseq____&quot;^Flogseq____&quot;,1573,536870966]],[logseq____&quot;^15logseq____&quot;,[1540,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1540,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1540,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1540,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-149a-46ef-a6ed-804daf607caflogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1541,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;先使用http用過的 `roundTripStartHelper` 取得method, url, traceparent header資訊。logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1541,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1541,logseq____&quot;^Flogseq____&quot;,1537,536870966]],[logseq____&quot;^15logseq____&quot;,[1541,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1541,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1541,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1541,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7a8c-471b-b1c0-f624e5eea9a4logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1542,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`ongoing_http_client_requests`取得先前存放的`invocation`logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1542,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1542,logseq____&quot;^Flogseq____&quot;,1577,536870966]],[logseq____&quot;^15logseq____&quot;,[1542,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1542,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1542,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1542,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-9e4c-4695-9432-6e07e975bcd7logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1543,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[roundTrip](https://github.com/golang/net/blob/ec05fdcd71141c885f3fb84c41d1c692f094ccbe/http2/transport.go#L1309)logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1543,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1543,logseq____&quot;^Flogseq____&quot;,1538,536870966]],[logseq____&quot;^15logseq____&quot;,[1543,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1543,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1543,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1543,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1525-449b-8835-9516861b5f77logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1544,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`traceparent`不存在http client的header中，則利用parent goroutine的ID，去`go_trace_map`查先前紀錄的header。如果還是不存在，則創建一個，並寫到`tp_i (tp_info_t)`中。logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1544,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1544,logseq____&quot;^Flogseq____&quot;,1574,536870966]],[logseq____&quot;^15logseq____&quot;,[1544,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1544,logseq____&quot;^Vlogseq____&quot;,1579,536870966]],[logseq____&quot;^15logseq____&quot;,[1544,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1544,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-e96c-44b0-a461-7565ef496c2alogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## roundTrip\\nid:: 66e54786-26dc-4ef9-bfc7-8a0bd6fc9d9blogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^Flogseq____&quot;,1556,536870966]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66e54786-26dc-4ef9-bfc7-8a0bd6fc9d9blogseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870966]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870966]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66e54786-26dc-4ef9-bfc7-8a0bd6fc9d9blogseq____&quot;],536870966]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66e54786-26dc-4ef9-bfc7-8a0bd6fc9d9blogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## uprobe_http2RoundTriplogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^Flogseq____&quot;,1568,536870966]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870966]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^Jlogseq____&quot;,[],536870966]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-9891-415b-979f-95fb83112f16logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1547,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (cc *ClientConn) roundTrip(req *http.Request, streamf func(*clientStream)) (*http.Response, error)`logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1547,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1547,logseq____&quot;^Flogseq____&quot;,1537,536870966]],[logseq____&quot;^15logseq____&quot;,[1547,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1547,logseq____&quot;^Vlogseq____&quot;,1537,536870966]],[logseq____&quot;^15logseq____&quot;,[1547,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1547,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-bea3-4d1b-9615-06c0dfabd035logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1548,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n    roundTripStartHelper(ctx);\\n\\n    void *cc_ptr = GO_PARAM1(ctx);\\n\\n    if (cc_ptr) {\\n        bpf_dbg_printk(\\logseq____&quot;cc_ptr %llx, cc_tconn_ptr %llx\\logseq____&quot;, cc_ptr, cc_ptr + cc_tconn_pos);\\n        void *tconn = cc_ptr + cc_tconn_pos;\\n        bpf_probe_read(logseq____&amp;tconn, sizeof(tconn), (void *)(cc_ptr + cc_tconn_pos + 8));\\n        bpf_dbg_printk(\\logseq____&quot;tconn %llx\\logseq____&quot;, tconn);\\n\\n        if (tconn) {\\n            void *tconn_conn = 0;\\n            bpf_probe_read(logseq____&amp;tconn_conn, sizeof(tconn_conn), (void *)(tconn + 8));\\n            bpf_dbg_printk(\\logseq____&quot;tconn_conn %llx\\logseq____&quot;, tconn_conn);\\n\\n            connection_info_t conn = {0};\\n            get_conn_info(tconn_conn, logseq____&amp;conn);\\n\\n            void *goroutine_addr = GOROUTINE_PTR(ctx);\\n            bpf_dbg_printk(\\logseq____&quot;goroutine_addr %lx\\logseq____&quot;, goroutine_addr);    \\n\\n            bpf_map_update_elem(logseq____&amp;ongoing_client_connections, logseq____&amp;goroutine_addr, logseq____&amp;conn, BPF_ANY);\\n        }\\n#ifndef NO_HEADER_PROPAGATION\\n        u32 stream_id = 0;\\n        bpf_probe_read(logseq____&amp;stream_id, sizeof(stream_id), (void *)(cc_ptr + cc_next_stream_id_pos));\\n        \\n        bpf_dbg_printk(\\logseq____&quot;cc_ptr = %llx, nextStreamID=%d\\logseq____&quot;, cc_ptr, stream_id);\\n        if (stream_id) {\\n            void *goroutine_addr = GOROUTINE_PTR(ctx);\\n\\n            bpf_map_update_elem(logseq____&amp;http2_req_map, logseq____&amp;stream_id, logseq____&amp;goroutine_addr, BPF_ANY);\\n        }\\n#endif   \\n```logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1548,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1548,logseq____&quot;^Flogseq____&quot;,1575,536870966]],[logseq____&quot;^15logseq____&quot;,[1548,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1548,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1548,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1548,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-d746-4df3-af9e-af7b87a9ce18logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1549,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (pc *persistConn) roundTrip(req *transportRequest) (resp *Response, err error)`logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1549,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1549,logseq____&quot;^Flogseq____&quot;,1577,536870966]],[logseq____&quot;^15logseq____&quot;,[1549,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1549,logseq____&quot;^Vlogseq____&quot;,1577,536870966]],[logseq____&quot;^15logseq____&quot;,[1549,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1549,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-ed43-44bb-bb6c-5ac8e7a12028logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;接著讀request中的Method，URL，Content Length並更新到`trace`裡面。分別寫`invocation`與`trace`到`ongoing_http_client_requests`與`ongoing_http_client_requests_data`中，也記錄目前的client connection在`ongoing_client_connections`中。\\nid:: 66e54f6a-4faa-422c-aca5-e2fff30fd8dclogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^Flogseq____&quot;,1579,536870966]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66e54f6a-4faa-422c-aca5-e2fff30fd8dclogseq____&quot;],536870966]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870966]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66e54f6a-4faa-422c-aca5-e2fff30fd8dclogseq____&quot;],536870966]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66e54f6a-4faa-422c-aca5-e2fff30fd8dclogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*persistConn).roundTrip`logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^Flogseq____&quot;,1567,536870966]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-29e7-45c3-90d3-e4558f83750alogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1552,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1552,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1552,logseq____&quot;^Flogseq____&quot;,1540,536870966]],[logseq____&quot;^15logseq____&quot;,[1552,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1552,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1552,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1552,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-c271-4d75-af66-77619287c85dlogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;利用`cc_ptr + cc_tconn_pos + 8`取得[tconn](https://github.com/golang/net/blob/ec05fdcd71141c885f3fb84c41d1c692f094ccbe/http2/transport.go#L302)欄位，型態是`net.Conn` interface。跟前面一樣，實作方通常是[tls.Conn](https://github.com/golang/go/blob/1e12eab8705d1d8d7472be9147a39caa1c8380db/src/crypto/tls/conn.go#L28)，一樣透過`tconn + 8`拿到 embed struct`net.conn`寫到`tconn_conn`，之後也使用`get_conn_info`取得IP跟port資訊，寫到`conn` pointer裡。logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^Flogseq____&quot;,1563,536870966]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-f212-48dc-9bb4-6d90f3835147logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`extract_traceparent_from_req_headers`可以參考 ((6637505e-eb41-47cc-a463-eea0c9b0f970))。logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^Flogseq____&quot;,1574,536870966]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^Vlogseq____&quot;,1574,536870966]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^Hlogseq____&quot;,1530,536870966]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-619d-4d00-9cda-e671197be8c7logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1555,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1555,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1555,logseq____&quot;^Flogseq____&quot;,1571,536870966]],[logseq____&quot;^15logseq____&quot;,[1555,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1555,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1555,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1555,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-362f-4800-ab8a-1e19e8a7d0a5logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870966]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^Flogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^:logseq____&quot;,true,536870966]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870966]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870966]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870966]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5949-4f4b-ba73-30979b8f5d34logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^Flogseq____&quot;,1565,536870966]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-30eb-4fd0-9889-47262df691d9logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1558,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1558,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1558,logseq____&quot;^Flogseq____&quot;,1546,536870966]],[logseq____&quot;^15logseq____&quot;,[1558,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1558,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1558,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1558,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-67fc-4069-a9ba-64922e2f5b6flogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1559,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (t *Transport) roundTrip(req *Request) (*Response, error)`logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1559,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1559,logseq____&quot;^Flogseq____&quot;,1555,536870966]],[logseq____&quot;^15logseq____&quot;,[1559,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1559,logseq____&quot;^Vlogseq____&quot;,1555,536870966]],[logseq____&quot;^15logseq____&quot;,[1559,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1559,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-fbcb-4c31-baba-2f37dd6501ealogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1560,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1560,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1560,logseq____&quot;^Flogseq____&quot;,1545,536870966]],[logseq____&quot;^15logseq____&quot;,[1560,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1560,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1560,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1560,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-73f8-4cd5-ac6c-6625681bfe3alogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;雖然是golang function的return，照理應該用uretprobe，但是[golang尚不支援uretprobe]([Go crash with uretprobe · Issue #1320 · iovisor/bcc (github.com)](https://github.com/iovisor/bcc/issues/1320#issuecomment-407927542))。替代方法是使用uprobe，並找到function中每一個return的address，插入uprobe。logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^Flogseq____&quot;,1555,536870966]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8f86-4bf8-8f01-1684320a50c6logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1562,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在ringbuffer預留`http_request_trace`空間的`trace`，並把`data`以及`invocation`中紀錄的資訊寫到`trace`中。在`ongoing_client_connections`查詢先前紀錄的client connection，如果存在，則寫入`trace-logseq____&gt;conn`中。logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1562,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1562,logseq____&quot;^Flogseq____&quot;,1566,536870966]],[logseq____&quot;^15logseq____&quot;,[1562,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1562,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1562,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1562,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-bd25-453a-9551-2a16c3404787logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1563,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`GO_PARAM1`取得`RoundTrip` method的`cc *ClientConn` receiver，型態是[ClientConn](https://github.com/golang/net/blob/ec05fdcd71141c885f3fb84c41d1c692f094ccbe/http2/transport.go#L300)。logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1563,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1563,logseq____&quot;^Flogseq____&quot;,1541,536870966]],[logseq____&quot;^15logseq____&quot;,[1563,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1563,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1563,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1563,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-ae1d-4437-b04a-3628b4dd6d54logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*Transport).roundTrip`logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^Flogseq____&quot;,1557,536870966]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-9b61-4ea7-81a4-f36caf88737blogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## roundTrip_returnlogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^Flogseq____&quot;,1550,536870966]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870966]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^Jlogseq____&quot;,[],536870966]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-e336-41c1-bff3-8d32ce42b87flogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1566,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;首先在 ((66e54786-26dc-4ef9-bfc7-8a0bd6fc9d9b)) 中寫入的 `ongoing_http_client_requests`以及`ongoing_http_client_requests_data`查詢 `invocation`以及`data`。logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1566,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1566,logseq____&quot;^Flogseq____&quot;,1561,536870966]],[logseq____&quot;^15logseq____&quot;,[1566,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1566,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1566,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1566,logseq____&quot;^Hlogseq____&quot;,1545,536870966]],[logseq____&quot;^15logseq____&quot;,[1566,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-37af-485b-8a02-59a84174322flogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1567,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1567,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1567,logseq____&quot;^Flogseq____&quot;,1576,536870966]],[logseq____&quot;^15logseq____&quot;,[1567,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1567,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1567,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1567,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8802-4dba-906a-7b61dc704c48logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;最後刪除go routine ID在`ongoing_client_connections`, `ongoing_http_client_requests`及`ongoing_http_client_requests_data`對應的欄位。logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^Flogseq____&quot;,1539,536870966]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4449-4af9-b42c-3576dc0dd0d2logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1569,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[roundTrip](https://github.com/golang/go/blob/16830ab48abb0cbc702298cafaa69839d0c9f4f9/src/net/http/transport.go#L2589)logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1569,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1569,logseq____&quot;^Flogseq____&quot;,1551,536870966]],[logseq____&quot;^15logseq____&quot;,[1569,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1569,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1569,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1569,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1f04-4778-aa3e-6e4ddab67087logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1570,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (t *Transport) roundTrip(req *Request) (*Response, error)`logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1570,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1570,logseq____&quot;^Flogseq____&quot;,1552,536870966]],[logseq____&quot;^15logseq____&quot;,[1570,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1570,logseq____&quot;^Vlogseq____&quot;,1552,536870966]],[logseq____&quot;^15logseq____&quot;,[1570,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1570,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8228-4159-9e4c-f5e94cb805b5logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1571,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[roundTrip](https://github.com/golang/go/blob/16830ab48abb0cbc702298cafaa69839d0c9f4f9/src/net/http/transport.go#L516-L517)logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1571,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1571,logseq____&quot;^Flogseq____&quot;,1564,536870966]],[logseq____&quot;^15logseq____&quot;,[1571,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1571,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1571,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1571,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5256-4125-8ef6-2604d19c72e9logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1572,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;將`conn`更新到`ongoing_client_connections` map。logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1572,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1572,logseq____&quot;^Flogseq____&quot;,1553,536870966]],[logseq____&quot;^15logseq____&quot;,[1572,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1572,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1572,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1572,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-3eec-4876-8472-91f46b242f4flogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1573,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*Transport).roundTrip`logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1573,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1573,logseq____&quot;^Flogseq____&quot;,1560,536870966]],[logseq____&quot;^15logseq____&quot;,[1573,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1573,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1573,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1573,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2047-44e6-b568-54d83ffca376logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1574,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`client_trace_parent`會再次呼叫`extract_traceparent_from_req_headers`取得traceparent header的header，並寫到`buf`裡面，而後decode成trace ID以及span ID等。logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1574,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1574,logseq____&quot;^Flogseq____&quot;,1579,536870966]],[logseq____&quot;^15logseq____&quot;,[1574,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1574,logseq____&quot;^Vlogseq____&quot;,1579,536870966]],[logseq____&quot;^15logseq____&quot;,[1574,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1574,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-c9c6-4dea-9486-0e6b9a60997flogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;另外有使用`cc_ptr + cc_next_stream_id_pos`取得[nextStreamID](https://github.com/golang/net/blob/ec05fdcd71141c885f3fb84c41d1c692f094ccbe/http2/transport.go#L328)，並記錄在`http2_req_map`裡。logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^Flogseq____&quot;,1572,536870966]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5998-4629-9d1d-0978aa19eb97logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## uprobe_persistConnRoundTriplogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^Flogseq____&quot;,1548,536870966]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870966]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^Jlogseq____&quot;,[],536870966]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-20ef-4513-8d7c-95dae874c900logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^Flogseq____&quot;,1569,536870966]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7afc-4273-8251-71fbfab973f0logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1578,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`GO_PARAM1`取得[PersistConn](https://github.com/golang/go/blob/16830ab48abb0cbc702298cafaa69839d0c9f4f9/src/net/http/transport.go#L1920)，並使用`pc_ptr + 8 + pc_conn_pos`取得實作`net.Conn`的[net.TCPConn](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/tcpsock.go#L112)，並用`conn_conn_ptr + rwc_conn_pos`取得`net.conn`。logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1578,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1578,logseq____&quot;^Flogseq____&quot;,1542,536870966]],[logseq____&quot;^15logseq____&quot;,[1578,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1578,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1578,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1578,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-23be-4dda-9d84-56603a937109logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1579,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;呼叫`client_trace_parent`在`req`中的Header中查詢traceparent相關的header，並寫到`incovation.tp`裡面。logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1579,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1579,logseq____&quot;^Flogseq____&quot;,1580,536870966]],[logseq____&quot;^15logseq____&quot;,[1579,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1579,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1579,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1579,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2089-41d3-a8e5-9179195c1f36logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1580,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`GO_PARAM2`取得`req *Request`，並初始化`invocation http_func_invocation_t`。logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1580,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1580,logseq____&quot;^Flogseq____&quot;,1536,536870966]],[logseq____&quot;^15logseq____&quot;,[1580,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1580,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1580,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1580,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-fb9c-47a6-a620-883f44e14618logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;之後的內容與 ((66e54786-26dc-4ef9-bfc7-8a0bd6fc9d9b)) 大同小異logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^Flogseq____&quot;,1578,536870966]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^Xlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^Vlogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^Ulogseq____&quot;,1480,536870966]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^Hlogseq____&quot;,1545,536870966]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-6153-4be9-a713-b959b32af280logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n    unsigned char buf[TRACEPARENT_LEN];\\n\\n    make_tp_string(buf, logseq____&amp;func_inv-logseq____&gt;tp);\\n\\n    void *buf_ptr = 0;\\n    bpf_probe_read(logseq____&amp;buf_ptr, sizeof(buf_ptr), (void *)(io_writer_addr + io_writer_buf_ptr_pos));\\n    if (!buf_ptr) {\\n        goto done;\\n    }\\n    \\n    s64 size = 0;\\n    bpf_probe_read(logseq____&amp;size, sizeof(s64), (void *)(io_writer_addr + io_writer_buf_ptr_pos + 8)); // grab size\\n\\n    s64 len = 0;\\n    bpf_probe_read(logseq____&amp;len, sizeof(s64), (void *)(io_writer_addr + io_writer_n_pos)); // grab len\\n\\n    bpf_dbg_printk(\\logseq____&quot;buf_ptr %llx, len=%d, size=%d\\logseq____&quot;, (void*)buf_ptr, len, size);\\n\\n    if (len logseq____&lt; (size - TP_MAX_VAL_LENGTH - TP_MAX_KEY_LENGTH - 4)) { // 4 = strlen(\\logseq____&quot;:_\\logseq____&quot;) + strlen(\\logseq____&quot;\\\\r\\\\n\\logseq____&quot;)\\n        char key[TP_MAX_KEY_LENGTH + 2] = \\logseq____&quot;Traceparent: \\logseq____&quot;;\\n        char end[2] = \\logseq____&quot;\\\\r\\\\n\\logseq____&quot;;\\n        bpf_probe_write_user(buf_ptr + (len logseq____&amp; 0x0ffff), key, sizeof(key));\\n        len += TP_MAX_KEY_LENGTH + 2;\\n        bpf_probe_write_user(buf_ptr + (len logseq____&amp; 0x0ffff), buf, sizeof(buf));\\n        len += TP_MAX_VAL_LENGTH;\\n        bpf_probe_write_user(buf_ptr + (len logseq____&amp; 0x0ffff), end, sizeof(end));\\n        len += 2;\\n        bpf_probe_write_user((void *)(io_writer_addr + io_writer_n_pos), logseq____&amp;len, sizeof(len));\\n    }\\n\\ndone:\\n    bpf_map_delete_elem(logseq____&amp;header_req_map, logseq____&amp;header_addr);\\n    return 0;\\n\\n```logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^Flogseq____&quot;,1587,536870967]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-44ab-485a-977d-25ed6a5ba3d1logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## header_writeSubsetlogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^Flogseq____&quot;,1615,536870967]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870967]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^Jlogseq____&quot;,[],536870967]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-9eac-4403-8931-00ffc75cdc65logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1585,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用go routine位址去查`http_func_invocation_t`。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1585,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1585,logseq____&quot;^Flogseq____&quot;,1597,536870967]],[logseq____&quot;^15logseq____&quot;,[1585,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1585,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1585,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1585,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-11e7-414c-8239-f20e0ee758aflogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;value literal (55 bytes)\\nlogseq.order-list-type:: numberlogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^Flogseq____&quot;,1609,536870967]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^Vlogseq____&quot;,1589,536870967]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:logseq.order-list-typelogseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1logseq____&lt;logseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-eccb-490c-bed5-799aa1ad85b5logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1587,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果目前的length加上traceparent的key, value以及`: `+`\\\\r\\\\n`之後小於buf的size。則利用`bpf_probe_write_user`將traceparent header寫入[bufio.Writer](https://github.com/golang/go/blob/cf97cd317be0d5fc1fa7b861f143060d7fd9b361/src/bufio/bufio.go#L576)的`buf`，並更新`n` member。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1587,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1587,logseq____&quot;^Flogseq____&quot;,1603,536870967]],[logseq____&quot;^15logseq____&quot;,[1587,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1587,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1587,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1587,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7162-40e8-8f21-75cc739fee14logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# golang example\\nid:: 66e6f150-bd0f-4908-a65d-c94c2d3ecc58logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^Flogseq____&quot;,2118,536870980]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66e6f150-bd0f-4908-a65d-c94c2d3ecc58logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870980]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870980]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66e6f150-bd0f-4908-a65d-c94c2d3ecc58logseq____&quot;],536870980]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66e6f150-bd0f-4908-a65d-c94c2d3ecc58logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;HPACK寫入順序是logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^Flogseq____&quot;,1624,536870967]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-63f2-4280-9010-eb79741a55delogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1590,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[WriteHeaders](https://github.com/grafana/beyla/blob/77a6758fa2f461fbc85fdf0c4c09d751dd836a8b/vendor/golang.org/x/net/http2/frame.go#L1097)logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1590,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1590,logseq____&quot;^Flogseq____&quot;,1598,536870967]],[logseq____&quot;^15logseq____&quot;,[1590,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1590,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1590,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1590,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-d2f3-4816-ab3a-1ead6fa34e80logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## http2FramerWriteHeaderslogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^Flogseq____&quot;,1583,536870967]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870967]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^Jlogseq____&quot;,[],536870967]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-97fc-44bd-90e2-3547aa36490alogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## http2FramerWriteHeaders_returnslogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^Flogseq____&quot;,1595,536870967]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870967]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^Jlogseq____&quot;,[],536870967]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-d34f-4459-a756-c90f2e4059f3logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1593,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`golang.org/x/net/http2.(*Framer).WriteHeaders`logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1593,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1593,logseq____&quot;^Flogseq____&quot;,1606,536870967]],[logseq____&quot;^15logseq____&quot;,[1593,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1593,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1593,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1593,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-6de8-4b7f-b400-a92dcc078970logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;type (1 byte)\\nlogseq.order-list-type:: numberlogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^Flogseq____&quot;,1589,536870967]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^Vlogseq____&quot;,1589,536870967]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1logseq____&lt;logseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-0019-43fb-88fa-5e9bed8a0f6blogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1595,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n            void *w_ptr = 0;\\n            bpf_probe_read(logseq____&amp;w_ptr, sizeof(w_ptr), (void *)(framer + framer_w_pos + 8));\\n            if (w_ptr) {\\n                s64 n = 0;\\n                bpf_probe_read(logseq____&amp;n, sizeof(n), (void *)(w_ptr + io_writer_n_pos));\\n\\n                bpf_dbg_printk(\\logseq____&quot;Found initial n = %d\\logseq____&quot;, n);\\n\\n                // The offset is 0 on all connections welogseq____&apos;ve tested with.\\n                // If we read some very large offset, we donlogseq____&apos;t do anything since it might be a situation\\n                // we canlogseq____&apos;t handle.\\n                if (n logseq____&lt; MAX_W_PTR_N) {\\n                    framer_func_invocation_t f_info = {\\n                        .tp = info-logseq____&gt;tp,\\n                        .framer_ptr = (u64)framer,\\n                        .initial_n = n,\\n                    };\\n\\n                    bpf_map_update_elem(logseq____&amp;framer_invocation_map, logseq____&amp;goroutine_addr, logseq____&amp;f_info, BPF_ANY);\\n                } else {\\n                   bpf_dbg_printk(\\logseq____&quot;N too large, ignoring...\\logseq____&quot;);\\n                }\\n```logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1595,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1595,logseq____&quot;^Flogseq____&quot;,1614,536870967]],[logseq____&quot;^15logseq____&quot;,[1595,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1595,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1595,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1595,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1cef-450a-aad0-a0ad21501b27logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1596,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1596,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1596,logseq____&quot;^Flogseq____&quot;,1604,536870967]],[logseq____&quot;^15logseq____&quot;,[1596,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1596,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1596,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1596,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2271-44cf-921c-903032e96db5logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`stream_lookup`在`http2_req_map`去查go routine的位址，這個map會在`http2RoundTrip`被更新，也就是有任何的http2 client呼叫都會被更新。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^Flogseq____&quot;,1601,536870967]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-52d6-4370-a9e8-4a194f5e8e49logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1598,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`golang.org/x/net/http2.(*Framer).WriteHeaders`logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1598,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1598,logseq____&quot;^Flogseq____&quot;,1629,536870967]],[logseq____&quot;^15logseq____&quot;,[1598,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1598,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1598,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1598,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-9377-49f7-8c91-c81a302bd1falogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1599,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (f *Framer) WriteHeaders(p HeadersFrameParam) error`logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1599,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1599,logseq____&quot;^Flogseq____&quot;,1610,536870967]],[logseq____&quot;^15logseq____&quot;,[1599,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1599,logseq____&quot;^Vlogseq____&quot;,1610,536870967]],[logseq____&quot;^15logseq____&quot;,[1599,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1599,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-efff-4a1b-943d-69404d8520b1logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1600,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;寫入`traceparent` header之後，更新 `bufio.Writer`的`n` member。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1600,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1600,logseq____&quot;^Flogseq____&quot;,1589,536870967]],[logseq____&quot;^15logseq____&quot;,[1600,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1600,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1600,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1600,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-9290-4891-8cc3-3e9257e0abd5logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`GO_PARAM1`取得`Framer` pointer receiver；使用`GO_PARAM2`取得`HeadersFrameParam` struct，因為[StreamID](https://github.com/grafana/beyla/blob/77a6758fa2f461fbc85fdf0c4c09d751dd836a8b/vendor/golang.org/x/net/http2/frame.go#L1065)是`HeadersFrameParam`第一個member，所以它的位址也是`StreamID`的位址 [[Beyla/Assertion]]。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Flogseq____&quot;,1610,536870967]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Ulogseq____&quot;,1392,536870967]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Ulogseq____&quot;,1496,536870967]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Hlogseq____&quot;,1392,536870967]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Hlogseq____&quot;,1496,536870967]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-86f9-4c2d-8811-8c1ed9214cdblogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;利用`w_ptr + io_writer_n_pos`讀入[n](https://github.com/golang/go/blob/cf97cd317be0d5fc1fa7b861f143060d7fd9b361/src/bufio/bufio.go#L579)。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^Flogseq____&quot;,1621,536870967]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4196-453e-a0ff-45a97f5b93e2logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;分別讀[bufio.Writer](https://github.com/golang/go/blob/cf97cd317be0d5fc1fa7b861f143060d7fd9b361/src/bufio/bufio.go#L576)的`buf` array的pointer以及size。另外讀`n` member，也就是length。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^Flogseq____&quot;,1616,536870967]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-fcbd-4de5-becb-95bf60a92db9logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1604,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[WriteHeaders](https://github.com/grafana/beyla/blob/77a6758fa2f461fbc85fdf0c4c09d751dd836a8b/vendor/golang.org/x/net/http2/frame.go#L1097)logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1604,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1604,logseq____&quot;^Flogseq____&quot;,1593,536870967]],[logseq____&quot;^15logseq____&quot;,[1604,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1604,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1604,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1604,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4bd0-4183-a678-a1086e5cb725logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1605,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`GO_PARAM1`去取得`Header` receiver的位址：使用`GO_PARAM3`去取得實現[io.Writer](https://pkg.go.dev/io#Writer)的struct，即是[bufio.Writer](https://github.com/golang/go/blob/cf97cd317be0d5fc1fa7b861f143060d7fd9b361/src/bufio/bufio.go#L576)。使用`header_req_map`去查到`request_goaddr`，進而使用`request_goaddr`去找到`func_inv`。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1605,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1605,logseq____&quot;^Flogseq____&quot;,1617,536870967]],[logseq____&quot;^15logseq____&quot;,[1605,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1605,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1605,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1605,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-e76c-412f-ae76-c91945c41ce8logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1606,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1606,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1606,logseq____&quot;^Flogseq____&quot;,1592,536870967]],[logseq____&quot;^15logseq____&quot;,[1606,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1606,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1606,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1606,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-d85f-4097-af34-d647e41442ablogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1607,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`framer_invocation_map`取得`framer_func_invocation_t`之後，利用`f_info-logseq____&gt;framer_ptr + framer_w_pos + 8 `取得實作`io.Writer` interface的struct，也就是[bufio.Writer](https://github.com/golang/go/blob/cf97cd317be0d5fc1fa7b861f143060d7fd9b361/src/bufio/bufio.go#L576)。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1607,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1607,logseq____&quot;^Flogseq____&quot;,1596,536870967]],[logseq____&quot;^15logseq____&quot;,[1607,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1607,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1607,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1607,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-14c2-4807-a820-1a4ce5b98c10logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1608,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (h Header) writeSubset(w io.Writer, exclude map[string]bool, trace *httptrace.ClientTrace) error`logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1608,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1608,logseq____&quot;^Flogseq____&quot;,1617,536870967]],[logseq____&quot;^15logseq____&quot;,[1608,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1608,logseq____&quot;^Vlogseq____&quot;,1617,536870967]],[logseq____&quot;^15logseq____&quot;,[1608,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1608,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-222a-4688-af66-b349c8ee8597logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;value length (1 byte，不啟用Huffman Encoded)\\nlogseq.order-list-type:: numberlogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^Flogseq____&quot;,1623,536870967]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^Vlogseq____&quot;,1589,536870967]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1logseq____&lt;logseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-45ed-4f8b-bbe4-ab8be398f611logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1610,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1610,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1610,logseq____&quot;^Flogseq____&quot;,1590,536870967]],[logseq____&quot;^15logseq____&quot;,[1610,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1610,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1610,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1610,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8389-4956-8564-ecdf5c024501logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[roundTrip](https://github.com/golang/go/blob/16830ab48abb0cbc702298cafaa69839d0c9f4f9/src/net/http/transport.go#L516-L517)logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^Flogseq____&quot;,1625,536870967]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-0e12-463d-9b89-b374b325dc6flogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1612,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n            if (buf_arr logseq____&amp;logseq____&amp; n logseq____&lt; (cap - HTTP2_ENCODED_HEADER_LEN)) {\\n                uint8_t tp_str[TP_MAX_VAL_LENGTH];\\n\\n                u8 type_byte = 0;\\n                u8 key_len = TP_ENCODED_LEN | 0x80; // high tagged to signify hpack encoded value\\n                u8 val_len = TP_MAX_VAL_LENGTH;\\n\\n                // We donlogseq____&apos;t hpack encode the value of the traceparent field, because that will require that \\n                // we use bpf_loop, which in turn increases the kernel requirement to 5.17+.\\n                make_tp_string(tp_str, logseq____&amp;f_info-logseq____&gt;tp);\\n                bpf_dbg_printk(\\logseq____&quot;Will write %s, type = %d, key_len = %d, val_len = %d\\logseq____&quot;, tp_str, type_byte, key_len, val_len);\\n\\n                bpf_probe_write_user(buf_arr + (n logseq____&amp; 0x0ffff), logseq____&amp;type_byte, sizeof(type_byte));                        \\n                n++;\\n                // Write the length of the key = 8\\n                bpf_probe_write_user(buf_arr + (n logseq____&amp; 0x0ffff), logseq____&amp;key_len, sizeof(key_len));\\n                n++;\\n                // Write logseq____&apos;traceparentlogseq____&apos; encoded as hpack\\n                bpf_probe_write_user(buf_arr + (n logseq____&amp; 0x0ffff), tp_encoded, sizeof(tp_encoded));;\\n                n += TP_ENCODED_LEN;\\n                // Write the length of the hpack encoded traceparent field \\n                bpf_probe_write_user(buf_arr + (n logseq____&amp; 0x0ffff), logseq____&amp;val_len, sizeof(val_len));\\n                n++;\\n                bpf_probe_write_user(buf_arr + (n logseq____&amp; 0x0ffff), tp_str, sizeof(tp_str));\\n                n += TP_MAX_VAL_LENGTH;\\n                // Update the value of n in w to reflect the new size\\n                bpf_probe_write_user((void *)(w_ptr + io_writer_n_pos), logseq____&amp;n, sizeof(n));\\n\\n                // http2 encodes the length of the headers in the first 3 bytes of buf, we need to update those\\n                u8 size_1 = 0;\\n                u8 size_2 = 0;\\n                u8 size_3 = 0;\\n\\n                bpf_probe_read(logseq____&amp;size_1, sizeof(size_1), (void *)(buf_arr + initial_n));\\n                bpf_probe_read(logseq____&amp;size_2, sizeof(size_2), (void *)(buf_arr + initial_n + 1));\\n                bpf_probe_read(logseq____&amp;size_3, sizeof(size_3), (void *)(buf_arr + initial_n + 2));\\n\\n                bpf_dbg_printk(\\logseq____&quot;size 1:%x, 2:%x, 3:%x\\logseq____&quot;, size_1, size_2, size_3);\\n\\n                u32 original_size = ((u32)(size_1) logseq____&lt;logseq____&lt; 16) | ((u32)(size_2) logseq____&lt;logseq____&lt; 8) | size_3;\\n                u32 new_size = original_size + HTTP2_ENCODED_HEADER_LEN;\\n\\n                bpf_dbg_printk(\\logseq____&quot;Changing size from %d to %d\\logseq____&quot;, original_size, new_size);\\n                size_1 = (u8)(new_size logseq____&gt;logseq____&gt; 16);\\n                size_2 = (u8)(new_size logseq____&gt;logseq____&gt; 8);\\n                size_3 = (u8)(new_size);\\n\\n                bpf_probe_write_user((void *)(buf_arr + initial_n), logseq____&amp;size_1, sizeof(size_1));\\n                bpf_probe_write_user((void *)(buf_arr + initial_n +1), logseq____&amp;size_2, sizeof(size_2));\\n                bpf_probe_write_user((void *)(buf_arr + initial_n + 2), logseq____&amp;size_3, sizeof(size_3));\\n            }\\n```logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1612,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1612,logseq____&quot;^Flogseq____&quot;,1626,536870967]],[logseq____&quot;^15logseq____&quot;,[1612,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1612,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1612,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1612,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2a4e-4b8b-ba74-80e20ac86c82logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1613,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n    void *framer = GO_PARAM1(ctx);\\n    u64 stream_id = (u64)GO_PARAM2(ctx);\\n\\n    bpf_printk(\\logseq____&quot;framer=%llx, stream_id=%lld\\logseq____&quot;, framer, ((u64)stream_id));\\n\\n    u32 stream_lookup = (u32)stream_id;\\n\\n    void **go_ptr = bpf_map_lookup_elem(logseq____&amp;http2_req_map, logseq____&amp;stream_lookup);\\n\\n    if (go_ptr) {\\n        void *go_addr = *go_ptr;\\n        bpf_dbg_printk(\\logseq____&quot;Found existing stream data goaddr = %llx\\logseq____&quot;, go_addr);\\n\\n        http_func_invocation_t *info = bpf_map_lookup_elem(logseq____&amp;ongoing_http_client_requests, logseq____&amp;go_addr);\\n\\n        if (info) {\\n            bpf_dbg_printk(\\logseq____&quot;Found func info %llx\\logseq____&quot;, info);\\n            void *goroutine_addr = GOROUTINE_PTR(ctx);\\n```logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1613,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1613,logseq____&quot;^Flogseq____&quot;,1585,536870967]],[logseq____&quot;^15logseq____&quot;,[1613,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1613,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1613,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1613,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-17c4-4516-aa75-1e9697a12b42logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1614,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;將`tp`, `n`, `framer`位址紀錄在`framer_invocation_map`中。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1614,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1614,logseq____&quot;^Flogseq____&quot;,1602,536870967]],[logseq____&quot;^15logseq____&quot;,[1614,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1614,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1614,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1614,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-ee83-486b-8866-3a528be556fblogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870967]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^Flogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^:logseq____&quot;,true,536870967]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870967]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-44ab-4a46-a9de-223144280cfblogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1616,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`make_tp_string`將`func_inv-logseq____&gt;tp`的內容寫入`buf`。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1616,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1616,logseq____&quot;^Flogseq____&quot;,1622,536870967]],[logseq____&quot;^15logseq____&quot;,[1616,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1616,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1616,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1616,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-cc10-44cd-b91d-c916de00d1bblogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1617,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1617,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1617,logseq____&quot;^Flogseq____&quot;,1611,536870967]],[logseq____&quot;^15logseq____&quot;,[1617,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1617,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1617,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1617,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4b7f-4233-ac43-bec1a654f768logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1618,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1618,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1618,logseq____&quot;^Flogseq____&quot;,1584,536870967]],[logseq____&quot;^15logseq____&quot;,[1618,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1618,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1618,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1618,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5c6b-472e-8127-053af27d832dlogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1619,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (f *Framer) WriteHeaders(p HeadersFrameParam) error`logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1619,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1619,logseq____&quot;^Flogseq____&quot;,1596,536870967]],[logseq____&quot;^15logseq____&quot;,[1619,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1619,logseq____&quot;^Vlogseq____&quot;,1596,536870967]],[logseq____&quot;^15logseq____&quot;,[1619,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1619,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-a506-46b6-b64e-796718ab4a50logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1620,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;利用`w_ptr + io_writer_buf_ptr_pos`讀入`buf` array；`w_ptr + io_writer_n_pos`讀入`n`；`w_ptr + io_writer_buf_ptr_pos + 16`讀入`buf`的capability。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1620,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1620,logseq____&quot;^Flogseq____&quot;,1607,536870967]],[logseq____&quot;^15logseq____&quot;,[1620,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1620,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1620,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1620,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-017c-438f-acdc-0517fee241aclogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1621,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;利用`framer + framer_w_pos`是取得在Framer的[w](https://github.com/grafana/beyla/blob/77a6758fa2f461fbc85fdf0c4c09d751dd836a8b/vendor/golang.org/x/net/http2/frame.go#L290)的interface，而`framer + framer_w_pos + 8`取得實作`io.Writer` interface的struct，也就是[bufio.Writer](https://github.com/golang/go/blob/cf97cd317be0d5fc1fa7b861f143060d7fd9b361/src/bufio/bufio.go#L576)。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1621,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1621,logseq____&quot;^Flogseq____&quot;,1613,536870967]],[logseq____&quot;^15logseq____&quot;,[1621,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1621,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1621,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1621,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1f80-4420-a465-59b815096079logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1622,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n    bpf_dbg_printk(\\logseq____&quot;=== uprobe/proc header writeSubset === \\logseq____&quot;);\\n\\n    void *header_addr = GO_PARAM1(ctx);\\n    void *io_writer_addr = GO_PARAM3(ctx);\\n\\n    bpf_dbg_printk(\\logseq____&quot;goroutine_addr %lx, header ptr %llx\\logseq____&quot;, GOROUTINE_PTR(ctx), header_addr);\\n\\n    u64 *request_goaddr = bpf_map_lookup_elem(logseq____&amp;header_req_map, logseq____&amp;header_addr);\\n\\n    if (!request_goaddr) {\\n        bpf_dbg_printk(\\logseq____&quot;Canlogseq____&apos;t find parent go routine for header %llx\\logseq____&quot;, header_addr);\\n        return 0;\\n    }\\n\\n    u64 parent_goaddr = *request_goaddr;\\n\\n    http_func_invocation_t *func_inv = bpf_map_lookup_elem(logseq____&amp;ongoing_http_client_requests, logseq____&amp;parent_goaddr);\\n    if (!func_inv) {\\n        bpf_dbg_printk(\\logseq____&quot;Canlogseq____&apos;t find client request for goroutine %llx\\logseq____&quot;, parent_goaddr);\\n        goto done;\\n    }\\n```logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1622,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1622,logseq____&quot;^Flogseq____&quot;,1605,536870967]],[logseq____&quot;^15logseq____&quot;,[1622,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1622,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1622,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1622,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-efce-4138-a439-a9a947736650logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;key literal (8 bytes，encoded過後的`traceparent`，參考 ((66e6f150-bd0f-4908-a65d-c94c2d3ecc58)) )\\nlogseq.order-list-type:: numberlogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^Flogseq____&quot;,1627,536870967]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^Vlogseq____&quot;,1589,536870967]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1logseq____&lt;logseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^Hlogseq____&quot;,1588,536870967]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-3bb0-4986-aa21-9d1901e09305logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1624,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果目前`buf`的size (`n`)加上encoded過後的`traceparent`後(長度為66)，則寫入`traceparent` header。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1624,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1624,logseq____&quot;^Flogseq____&quot;,1630,536870967]],[logseq____&quot;^15logseq____&quot;,[1624,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1624,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1624,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1624,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4c98-408f-b079-e9322512aa6blogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1625,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.Header.writeSubset`logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1625,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1625,logseq____&quot;^Flogseq____&quot;,1618,536870967]],[logseq____&quot;^15logseq____&quot;,[1625,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1625,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1625,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1625,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b434-48ac-8dde-db86534e0f5blogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1626,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;golang在實作http2時，保留`wbuf`前三個bytes當作header的長度，可以參考[這裡](https://github.com/grafana/beyla/blob/77a6758fa2f461fbc85fdf0c4c09d751dd836a8b/vendor/golang.org/x/net/http2/frame.go#L363)。這邊也要將新的header size更新回去，長度表示是8進位。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1626,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1626,logseq____&quot;^Flogseq____&quot;,1600,536870967]],[logseq____&quot;^15logseq____&quot;,[1626,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1626,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1626,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1626,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-e2aa-4d82-9283-b91553d9f426logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;key length (1 byte，最高位元如果是1，代表是Huffman Encoded)\\nlogseq.order-list-type:: numberlogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^Flogseq____&quot;,1594,536870967]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^Vlogseq____&quot;,1589,536870967]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1logseq____&lt;logseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b1b2-4ff3-8e95-72df5b30d9e1logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; A slice is a descriptor of an array segment. It consists of a pointer to the array, the length of the segment, and its capacity (the maximum length of the segment). [ref](https://go.dev/blog/slices-intro)logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^Flogseq____&quot;,1620,536870967]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^Vlogseq____&quot;,1620,536870967]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-cf4a-47bf-b261-b7714cc4d966logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1629,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1629,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1629,logseq____&quot;^Flogseq____&quot;,1591,536870967]],[logseq____&quot;^15logseq____&quot;,[1629,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1629,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1629,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1629,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-75df-4b8c-84c0-49092ac0e817logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1630,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\nSEC(\\logseq____&quot;uprobe/http2FramerWriteHeaders_returns\\logseq____&quot;)\\nint uprobe_http2FramerWriteHeaders_returns(struct pt_regs *ctx) {\\n    bpf_dbg_printk(\\logseq____&quot;=== uprobe/proc http2 Framer writeHeaders returns === \\logseq____&quot;);\\n\\n    void *goroutine_addr = GOROUTINE_PTR(ctx);\\n\\n    framer_func_invocation_t *f_info = bpf_map_lookup_elem(logseq____&amp;framer_invocation_map, logseq____&amp;goroutine_addr);\\n\\n    if (f_info) {\\n        void *w_ptr = 0;\\n        bpf_probe_read(logseq____&amp;w_ptr, sizeof(w_ptr), (void *)(f_info-logseq____&gt;framer_ptr + framer_w_pos + 8));\\n\\n        if (w_ptr) {\\n            void *buf_arr = 0;\\n            s64 n = 0;\\n            s64 cap = 0;\\n            s64 initial_n = f_info-logseq____&gt;initial_n;\\n            bpf_probe_read(logseq____&amp;buf_arr, sizeof(buf_arr), (void *)(w_ptr + io_writer_buf_ptr_pos));\\n            bpf_probe_read(logseq____&amp;n, sizeof(n), (void *)(w_ptr + io_writer_n_pos));\\n            bpf_probe_read(logseq____&amp;cap, sizeof(cap), (void *)(w_ptr + io_writer_buf_ptr_pos + 16));\\n\\n            bpf_clamp_umax(initial_n, MAX_W_PTR_N);\\n```logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1630,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1630,logseq____&quot;^Flogseq____&quot;,1620,536870967]],[logseq____&quot;^15logseq____&quot;,[1630,logseq____&quot;^Xlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1630,logseq____&quot;^Vlogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1630,logseq____&quot;^Ulogseq____&quot;,1481,536870967]],[logseq____&quot;^15logseq____&quot;,[1630,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-db83-495c-83d2-cdf93e8fdf90logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^Flogseq____&quot;,1646,536870968]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-758e-4978-a2dd-16d47d8aa1cblogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1633,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;接著在 ((66dde60b-8c09-417a-823b-c44a5ae7a75d)) 中寫入的 `ongoing_server_connections`中拿到正在進行的連線 `info`，如果存在，則把`info`寫入`trace`中。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1633,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1633,logseq____&quot;^Flogseq____&quot;,1746,536870968]],[logseq____&quot;^15logseq____&quot;,[1633,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1633,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1633,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1633,logseq____&quot;^Hlogseq____&quot;,1719,536870968]],[logseq____&quot;^15logseq____&quot;,[1633,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-cc03-497d-83a8-4b9c0e99fc64logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1634,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[Init connReader (c.r)](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L1962)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1634,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1634,logseq____&quot;^Flogseq____&quot;,1644,536870968]],[logseq____&quot;^15logseq____&quot;,[1634,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1634,logseq____&quot;^Vlogseq____&quot;,1644,536870968]],[logseq____&quot;^15logseq____&quot;,[1634,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1634,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-80f3-4a7d-a5e9-3f8268bac21dlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1635,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nstatic __always_inline void* unwrap_tls_conn_info(void *conn_ptr, void *tls_state) {\\n    if (conn_ptr logseq____&amp;logseq____&amp; tls_state) {\\n        void *c_ptr = 0;\\n        bpf_probe_read(logseq____&amp;c_ptr, sizeof(c_ptr), (void *)(conn_ptr)); // unwrap conn\\n\\n        bpf_dbg_printk(\\logseq____&quot;unwrapped conn ptr %llx\\logseq____&quot;, c_ptr);\\n\\n        if (c_ptr) {\\n            return c_ptr + 8;\\n        }\\n    }\\n\\n    return conn_ptr;\\n}\\n```logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1635,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1635,logseq____&quot;^Flogseq____&quot;,1728,536870968]],[logseq____&quot;^15logseq____&quot;,[1635,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1635,logseq____&quot;^Vlogseq____&quot;,1652,536870968]],[logseq____&quot;^15logseq____&quot;,[1635,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1635,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4a5b-4eb9-b09a-bfb4077ada37logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;與 ((66df3711-3158-4373-8ba4-8bc5074a1ca1)) 一樣，使用 `get_conn_info`取得 `conn`，並更新到 `ongoing_server_connections`。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^Flogseq____&quot;,1679,536870968]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^Hlogseq____&quot;,1663,536870968]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-f6eb-4032-8e33-cf6d13c44643logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^Flogseq____&quot;,1716,536870968]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-53a6-4df1-aed0-dc275c1979f7logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1638,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1638,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1638,logseq____&quot;^Flogseq____&quot;,1690,536870968]],[logseq____&quot;^15logseq____&quot;,[1638,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1638,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1638,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1638,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b109-400e-800f-7e312e69b972logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1639,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;取得目前的go routine address，並將 `ongoing_server_connections`對應的`connection_info_t`清掉。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1639,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1639,logseq____&quot;^Flogseq____&quot;,1749,536870968]],[logseq____&quot;^15logseq____&quot;,[1639,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1639,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1639,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1639,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-68f0-4523-af2d-9d5c56c61235logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (c *conn) readRequest(ctx context.Context) (w *response, err error)`logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^Flogseq____&quot;,1740,536870968]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^Vlogseq____&quot;,1740,536870968]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4f78-45b2-85d6-16342668b398logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*conn).serve`logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^Flogseq____&quot;,1713,536870968]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-c411-46c7-8062-288db021b846logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;最後會清理 `ongoing_http_server_requests`及`ongoing_server_connections` map。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^Flogseq____&quot;,1766,536870968]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-0be3-48a0-810f-72924f2b79fclogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1643,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1643,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1643,logseq____&quot;^Flogseq____&quot;,1656,536870968]],[logseq____&quot;^15logseq____&quot;,[1643,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1643,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1643,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1643,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1bfc-4a05-9bf8-9eed23324768logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[net/http.(*conn).serve](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L1888) (Serve a new connection.) -logseq____&gt;logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^Flogseq____&quot;,1756,536870968]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^Vlogseq____&quot;,1756,536870968]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-c76c-41f2-8530-d123169766d0logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;receiver:logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^Flogseq____&quot;,1681,536870968]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^Vlogseq____&quot;,1681,536870968]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-89d7-4148-bde2-e4088e467b47logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1646,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[http.serverHandler.ServeHTTP](https://cs.opensource.google/go/go/+/refs/tags/go1.23.1:src/net/http/server.go;l=3201)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1646,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1646,logseq____&quot;^Flogseq____&quot;,1655,536870968]],[logseq____&quot;^15logseq____&quot;,[1646,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1646,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1646,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1646,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-3bd1-44f2-b994-0e9a57635f47logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## pointer type\\nid:: 6636fff3-c75e-4031-8041-d568c3966625logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^Flogseq____&quot;,1889,536870974]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6636fff3-c75e-4031-8041-d568c3966625logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870974]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870974]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6636fff3-c75e-4031-8041-d568c3966625logseq____&quot;],536870974]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u6636fff3-c75e-4031-8041-d568c3966625logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;有關http 1.1的`net.Conn`可以參考 ((66df3335-a983-4290-bf3a-7bebfc9b5c79))。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^Flogseq____&quot;,1730,536870968]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^Hlogseq____&quot;,1662,536870968]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-f054-4cad-8132-4d4bceda8348logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`*Request`是`ServeHTTP`第四個參數(`GO_PARAM4`)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^Flogseq____&quot;,1734,536870968]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^Vlogseq____&quot;,1722,536870968]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8e68-4298-b367-5c3e9dc0b5aalogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## HTTP1logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^Flogseq____&quot;,1755,536870968]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870968]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^Jlogseq____&quot;,[],536870968]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-0755-4d79-b419-e9ed873b1e4flogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1651,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`context.Context`的vtable pointer，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8))，是`readRequest`第二個參數(`GO_PARAM2`)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1651,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1651,logseq____&quot;^Flogseq____&quot;,1709,536870968]],[logseq____&quot;^15logseq____&quot;,[1651,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1651,logseq____&quot;^Vlogseq____&quot;,1685,536870968]],[logseq____&quot;^15logseq____&quot;,[1651,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1651,logseq____&quot;^Hlogseq____&quot;,1666,536870968]],[logseq____&quot;^15logseq____&quot;,[1651,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2179-4bea-a86a-290d25fbacbelogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;所以會另外呼叫`unwrap_tls_conn_info`去把`tls.Conn`中的`conn`欄位取出。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^Flogseq____&quot;,1658,536870968]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-cef6-4c86-abe4-048bfdec8934logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1653,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[(*.conn).readRequest](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L975)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1653,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1653,logseq____&quot;^Flogseq____&quot;,1748,536870968]],[logseq____&quot;^15logseq____&quot;,[1653,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1653,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1653,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1653,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-d99c-468a-95ed-834a688e6fc5logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;根據 ((6636fff3-c75e-4031-8041-d568c3966625)) ，占 8 byteslogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^Flogseq____&quot;,1708,536870968]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^Vlogseq____&quot;,1708,536870968]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^Hlogseq____&quot;,1647,536870968]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-e3c9-466e-b31d-b3039460bd85logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1655,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.serverHandler.ServeHTTP`logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1655,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1655,logseq____&quot;^Flogseq____&quot;,1742,536870968]],[logseq____&quot;^15logseq____&quot;,[1655,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1655,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1655,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1655,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2e0d-4626-a733-372d47d0b1fdlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## netFdReadlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^Flogseq____&quot;,1639,536870968]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870968]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^Jlogseq____&quot;,[],536870968]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1725-4afc-86ca-b1e2be3efa8clogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (sh serverHandler) ServeHTTP(rw ResponseWriter, req *Request)`logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^Flogseq____&quot;,1707,536870968]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^Vlogseq____&quot;,1707,536870968]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-a1dc-47d0-9678-4222d74cb1e6logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在這邊會另外去讀`*tls.ConnectionState`欄位(`tlsState`)，如同上面`conn struct`註解中的說明，當`tlsState`不是nil時，則該連線有啟用TLS。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Flogseq____&quot;,1648,536870968]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-cda5-4616-ab63-f3b550d9d671logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1659,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1659,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1659,logseq____&quot;^Flogseq____&quot;,1719,536870968]],[logseq____&quot;^15logseq____&quot;,[1659,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1659,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1659,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1659,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-9556-4a23-8a14-be783e759e4dlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1660,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1660,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1660,logseq____&quot;^Flogseq____&quot;,1721,536870968]],[logseq____&quot;^15logseq____&quot;,[1660,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1660,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1660,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1660,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-96ac-4ef8-b4fb-b804af1327ablogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1661,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;根據 ((66370235-abe8-4707-b6c1-07285b460e5a))，透過`GOROUTINE_PTR`，取得go routine的pointer；使用`GO_PARAM4`取得`*Request`。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1661,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1661,logseq____&quot;^Flogseq____&quot;,1683,536870968]],[logseq____&quot;^15logseq____&quot;,[1661,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1661,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1661,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1661,logseq____&quot;^Hlogseq____&quot;,1680,536870968]],[logseq____&quot;^15logseq____&quot;,[1661,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-d831-4b3f-b4b8-7a7c5244f2c4logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# http1 net.Conn\\nid:: 66df3335-a983-4290-bf3a-7bebfc9b5c79logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^Flogseq____&quot;,1930,536870976]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66df3335-a983-4290-bf3a-7bebfc9b5c79logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870976]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870976]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66df3335-a983-4290-bf3a-7bebfc9b5c79logseq____&quot;],536870976]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66df3335-a983-4290-bf3a-7bebfc9b5c79logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`net.TCPConn`的位置存在，則進一步取得`net.conn`的struct，也進一步呼叫`get_conn_info`以及`get_conn_info_from_fd`分別取得[fd](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/net.go#L167)(`net.netFD`型態)以及[net.netFD](https://github.com/golang/go/blob/master/src/net/fd_posix.go#L17) 中的IP與port，並寫到`connection_info_t`中，最後將`connection_info_t`更新到`ongoing_server_connections` map中。\\nid:: 66df3711-3158-4373-8ba4-8bc5074a1ca1logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^Flogseq____&quot;,1652,536870968]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66df3711-3158-4373-8ba4-8bc5074a1ca1logseq____&quot;],536870968]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870968]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66df3711-3158-4373-8ba4-8bc5074a1ca1logseq____&quot;],536870968]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66df3711-3158-4373-8ba4-8bc5074a1ca1logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1664,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`net/http.(*http2serverConn).runHandler`logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1664,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1664,logseq____&quot;^Flogseq____&quot;,1723,536870968]],[logseq____&quot;^15logseq____&quot;,[1664,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1664,logseq____&quot;^Vlogseq____&quot;,1723,536870968]],[logseq____&quot;^15logseq____&quot;,[1664,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1664,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-be45-4212-a8df-80dd9552b3e2logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1665,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1665,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1665,logseq____&quot;^Flogseq____&quot;,1702,536870968]],[logseq____&quot;^15logseq____&quot;,[1665,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1665,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1665,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1665,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7f64-48c7-ba02-a5a2ec0d69ddlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## interface type\\nid:: 66370018-6208-4dc1-88da-b8c5856ecba8logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^Flogseq____&quot;,1875,536870974]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370018-6208-4dc1-88da-b8c5856ecba8logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870974]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870974]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370018-6208-4dc1-88da-b8c5856ecba8logseq____&quot;],536870974]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66370018-6208-4dc1-88da-b8c5856ecba8logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;根據 ((66370235-abe8-4707-b6c1-07285b460e5a))，透過`GOROUTINE_PTR`，取得go routine的pointer。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^Flogseq____&quot;,1681,536870968]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^Hlogseq____&quot;,1680,536870968]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-33b6-4438-9528-fd0dd4b1024flogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1668,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\nSEC(\\logseq____&quot;uprobe/readRequest\\logseq____&quot;)\\nint uprobe_readRequestReturns(struct pt_regs *ctx) {\\n    bpf_dbg_printk(\\logseq____&quot;=== uprobe/proc readRequest returns === \\logseq____&quot;);\\n\\n    void *goroutine_addr = GOROUTINE_PTR(ctx);\\n    bpf_dbg_printk(\\logseq____&quot;goroutine_addr %lx\\logseq____&quot;, goroutine_addr);\\n```logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1668,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1668,logseq____&quot;^Flogseq____&quot;,1667,536870968]],[logseq____&quot;^15logseq____&quot;,[1668,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1668,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1668,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1668,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-eaf1-4797-b7d1-ef023eaf9858logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[readRequest(c.bufr)](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L1004)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^Flogseq____&quot;,1706,536870968]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^Vlogseq____&quot;,1706,536870968]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-e80c-4c7b-bb63-86acfc14015blogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (sc *serverConn) runHandler(rw *responseWriter, req *http.Request, handler func(http.ResponseWriter, *http.Request))`logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^Flogseq____&quot;,1665,536870968]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^Vlogseq____&quot;,1665,536870968]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-fec2-47a4-89cc-df4e121bf129logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## receiver\\nid:: 66370276-921c-4a97-9864-19b04feb2fb1logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^Flogseq____&quot;,1883,536870974]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370276-921c-4a97-9864-19b04feb2fb1logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870974]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870974]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370276-921c-4a97-9864-19b04feb2fb1logseq____&quot;],536870974]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66370276-921c-4a97-9864-19b04feb2fb1logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^Flogseq____&quot;,1764,536870968]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-bf69-4625-9a8f-324350cf3d1flogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*conn).readRequest`logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^Flogseq____&quot;,1659,536870968]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-0f41-4505-b23b-89e7072634b8logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1674,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[read in background cr.conn.rwc.Read](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L789)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1674,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1674,logseq____&quot;^Flogseq____&quot;,1687,536870968]],[logseq____&quot;^15logseq____&quot;,[1674,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1674,logseq____&quot;^Vlogseq____&quot;,1687,536870968]],[logseq____&quot;^15logseq____&quot;,[1674,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1674,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-484d-45eb-8edd-90d959d81bd9logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`readRequest`是method，根據 ((66370276-921c-4a97-9864-19b04feb2fb1)) ，receiver是`readRequest`第一個參數(`GO_PARAM1`)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^Flogseq____&quot;,1682,536870968]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^Vlogseq____&quot;,1645,536870968]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^Hlogseq____&quot;,1671,536870968]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-edaa-4c50-b2c5-a321af00172clogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1676,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;一開始使用`server_trace_parent`去取得request header中trace相關的header，logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1676,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1676,logseq____&quot;^Flogseq____&quot;,1701,536870968]],[logseq____&quot;^15logseq____&quot;,[1676,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1676,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1676,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1676,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-6314-4d79-8afb-11712367ac99logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1677,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[net.(*netFD).Read](https://github.com/golang/go/blob/42f9ee904caf6681ee32e7b048f15ab7cddf3eb3/src/net/fd_posix.go#L65)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1677,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1677,logseq____&quot;^Flogseq____&quot;,1737,536870968]],[logseq____&quot;^15logseq____&quot;,[1677,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1677,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1677,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1677,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5c60-437f-9ed5-f8adf27a5073logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1678,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[net/http.serverHandler.ServeHTTP](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L2042)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1678,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1678,logseq____&quot;^Flogseq____&quot;,1687,536870968]],[logseq____&quot;^15logseq____&quot;,[1678,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1678,logseq____&quot;^Vlogseq____&quot;,1644,536870968]],[logseq____&quot;^15logseq____&quot;,[1678,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1678,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-558c-46c1-ae45-5d1580c7ae3blogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1679,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`sc + sc_conn_pos + 8`取得實現`net.Conn`的struct，跟 ((66df3335-a983-4290-bf3a-7bebfc9b5c79)) 一樣，實現 `net.Conn`的struct是[tls.Conn](https://github.com/golang/go/blob/1e12eab8705d1d8d7472be9147a39caa1c8380db/src/crypto/tls/conn.go#L28)跟[net.TCPConn](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/tcpsock.go#L112)。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1679,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1679,logseq____&quot;^Flogseq____&quot;,1757,536870968]],[logseq____&quot;^15logseq____&quot;,[1679,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1679,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1679,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1679,logseq____&quot;^Hlogseq____&quot;,1662,536870968]],[logseq____&quot;^15logseq____&quot;,[1679,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-0a39-4c42-8d59-ac22b94a7441logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## amd64 arch\\nid:: 66370235-abe8-4707-b6c1-07285b460e5alogseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^Flogseq____&quot;,1890,536870974]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370235-abe8-4707-b6c1-07285b460e5alogseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870974]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870974]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370235-abe8-4707-b6c1-07285b460e5alogseq____&quot;],536870974]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66370235-abe8-4707-b6c1-07285b460e5alogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1681,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;arguments:logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1681,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1681,logseq____&quot;^Flogseq____&quot;,1753,536870968]],[logseq____&quot;^15logseq____&quot;,[1681,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1681,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1681,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1681,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5ad1-410a-8076-945589af2224logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1682,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;根據 ((6636fff3-c75e-4031-8041-d568c3966625)) ，占 8 byteslogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1682,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1682,logseq____&quot;^Flogseq____&quot;,1645,536870968]],[logseq____&quot;^15logseq____&quot;,[1682,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1682,logseq____&quot;^Vlogseq____&quot;,1645,536870968]],[logseq____&quot;^15logseq____&quot;,[1682,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1682,logseq____&quot;^Hlogseq____&quot;,1647,536870968]],[logseq____&quot;^15logseq____&quot;,[1682,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-c657-4346-b979-a7537a84519elogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1683,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;arguments:logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1683,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1683,logseq____&quot;^Flogseq____&quot;,1632,536870968]],[logseq____&quot;^15logseq____&quot;,[1683,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1683,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1683,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1683,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2759-466a-b64a-8accdc7e2af9logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`traceparent` header的pointer不存在，則在`ongoing_server_connections` map中查`goroutine_addr`對應的`connection_info_t`，如果存在，則利用`connection_info_t`在`trace_map`中取得`traceparent`相關的資訊。如果找不到，則同樣設定亂數的trace ID及將parent ID設定成0。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^Flogseq____&quot;,1697,536870968]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^Vlogseq____&quot;,1676,536870968]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-af58-4520-b7bd-d64695818402logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;context.Contextlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^Flogseq____&quot;,1708,536870968]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^Vlogseq____&quot;,1762,536870968]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-80ce-4330-b6dd-15429c49264elogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;實現`ResponseWriter`的struct pointer，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8))，是`ServeHTTP`第三個參數(`GO_PARAM3`)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^Flogseq____&quot;,1751,536870968]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^Vlogseq____&quot;,1717,536870968]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^Hlogseq____&quot;,1666,536870968]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-d254-4e33-b7b0-a3d84d429fdalogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1687,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[start background read for connReader](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L2028-L2032)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1687,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1687,logseq____&quot;^Flogseq____&quot;,1706,536870968]],[logseq____&quot;^15logseq____&quot;,[1687,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1687,logseq____&quot;^Vlogseq____&quot;,1644,536870968]],[logseq____&quot;^15logseq____&quot;,[1687,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1687,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-f8ef-4f33-8bba-10c95952050clogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1688,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (fd *netFD) Read(p []byte) (n int, err error)`logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1688,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1688,logseq____&quot;^Flogseq____&quot;,1699,536870968]],[logseq____&quot;^15logseq____&quot;,[1688,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1688,logseq____&quot;^Vlogseq____&quot;,1699,536870968]],[logseq____&quot;^15logseq____&quot;,[1688,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1688,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-779e-4d44-ab49-3d137ab1893dlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1689,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;取得目前的go routine address，並將 `ongoing_server_connections`對應的`connection_info_t`寫成空值。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1689,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1689,logseq____&quot;^Flogseq____&quot;,1660,536870968]],[logseq____&quot;^15logseq____&quot;,[1689,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1689,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1689,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1689,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-058d-4d86-88cb-a5db8eff4f02logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## http2serverConn_runHandlerlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^Flogseq____&quot;,1642,536870968]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870968]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^Jlogseq____&quot;,[],536870968]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-3350-47b0-8c19-dff018b6b63dlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;receiver:logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^Flogseq____&quot;,1683,536870968]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^Vlogseq____&quot;,1683,536870968]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-f02a-447a-92a4-4a9c6e28896dlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;實現`context.Context`的struct pointer，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8))，是`readRequest`第三個參數(`GO_PARAM3`)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^Flogseq____&quot;,1752,536870968]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^Vlogseq____&quot;,1758,536870968]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^Hlogseq____&quot;,1666,536870968]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-728b-4fcc-b3ea-cc7f310d9a0flogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1693,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// A conn represents the server side of an HTTP connection.\\ntype conn struct {\\n...\\n\\n\\t// rwc is the underlying network connection.\\n\\t// This is never wrapped by other types and is the value given out\\n\\t// to CloseNotifier callers. It is usually of type *net.TCPConn or\\n\\t// *tls.Conn.\\n\\trwc net.Conn\\n  \\n...\\n\\n\\t// tlsState is the TLS connection state when using TLS.\\n\\t// nil means not TLS.\\n\\ttlsState *tls.ConnectionState\\n\\n    ...\\n }\\n```logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1693,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1693,logseq____&quot;^Flogseq____&quot;,1730,536870968]],[logseq____&quot;^15logseq____&quot;,[1693,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1693,logseq____&quot;^Vlogseq____&quot;,1730,536870968]],[logseq____&quot;^15logseq____&quot;,[1693,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1693,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7b19-4049-a71f-685166bf4762logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1694,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;取得目前的go routine address，並在 `ongoing_server_connections`查詢對應的`connection_info_t`。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1694,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1694,logseq____&quot;^Flogseq____&quot;,1699,536870968]],[logseq____&quot;^15logseq____&quot;,[1694,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1694,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1694,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1694,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-10a4-4a5a-8e87-23046558905dlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n/* HTTP Server */\\n\\n// This instrumentation attaches uprobe to the following function:\\n// func (mux *ServeMux) ServeHTTP(w ResponseWriter, r *Request)\\n// or other functions sharing the same signature (e.g http.Handler.ServeHTTP)\\nSEC(\\logseq____&quot;uprobe/ServeHTTP\\logseq____&quot;)\\nint uprobe_ServeHTTP(struct pt_regs *ctx) {\\n    bpf_dbg_printk(\\logseq____&quot;=== uprobe/ServeHTTP === \\logseq____&quot;);\\n    void *goroutine_addr = GOROUTINE_PTR(ctx);\\n    bpf_dbg_printk(\\logseq____&quot;goroutine_addr %lx\\logseq____&quot;, goroutine_addr);\\n\\n    void *req = GO_PARAM4(ctx);\\n\\n    server_http_func_invocation_t invocation = {\\n        .start_monotime_ns = bpf_ktime_get_ns(),\\n        .tp = {0},\\n        .status = 0,\\n        .content_length = 0,\\n    };\\n\\n    invocation.method[0] = 0;\\n    invocation.path[0] = 0;\\n```logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^Flogseq____&quot;,1738,536870968]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-e0ff-4d54-8703-744a21e5299blogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (c *conn) serve(ctx context.Context)`logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^Flogseq____&quot;,1660,536870968]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^Vlogseq____&quot;,1660,536870968]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8c51-4e6d-8603-1f9dd0444417logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;呼叫`extract_traceparent_from_req_headers`取得`traceparent` header的內容。如果讀取header失敗，則這筆request應該是root span，所以利用亂數生成trace ID，並將該筆trace的parent ID設定成0。如果讀取成功，則使用`decode_go_traceparent`將`buf`內容寫到`tp` pointer中。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^Flogseq____&quot;,1676,536870968]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^Vlogseq____&quot;,1676,536870968]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b0c6-4526-8301-382099ed5aa7logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## HTTP2logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^Flogseq____&quot;,1756,536870968]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870968]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^Jlogseq____&quot;,[],536870968]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-dfef-41f8-aad1-750d4640dfedlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^Flogseq____&quot;,1677,536870968]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-db4b-422c-9b54-f395bac8aa52logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1700,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[Set request body reader](https://github.com/golang/go/blob/6425749695130f2032ac9cfdf5407b6a322534db/src/net/http/transfer.go#L563-L583)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1700,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1700,logseq____&quot;^Flogseq____&quot;,1705,536870968]],[logseq____&quot;^15logseq____&quot;,[1700,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1700,logseq____&quot;^Vlogseq____&quot;,1705,536870968]],[logseq____&quot;^15logseq____&quot;,[1700,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1700,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5853-46da-bd42-4aaf5b427724logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\ntypedef struct server_http_func_invocation {\\n    u64 start_monotime_ns;\\n    tp_info_t tp;\\n    u8  method[METHOD_MAX_LEN];\\n    u8  path[PATH_MAX_LEN];\\n    u64 content_length;\\n\\n    u64 status;\\n} server_http_func_invocation_t;\\n```logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^Flogseq____&quot;,1718,536870968]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-09af-432d-9a85-b9febe9a9b62logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1702,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[http2.*serverConn.runHandler](https://github.com/golang/net/blob/3c333c0c5288a7cf127e427ddda5b1b54020a2b4/http2/server.go#L2388)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1702,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1702,logseq____&quot;^Flogseq____&quot;,1743,536870968]],[logseq____&quot;^15logseq____&quot;,[1702,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1702,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1702,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1702,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b47f-44da-a478-73a554fbadeelogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1703,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\ntype serverConn struct {\\n\\t// Immutable:\\n\\tsrv              *Server\\n\\ths               *http.Server\\n\\tconn             net.Conn\\n\\tbw               *bufferedWriter // writing to conn\\n```logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1703,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1703,logseq____&quot;^Flogseq____&quot;,1757,536870968]],[logseq____&quot;^15logseq____&quot;,[1703,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1703,logseq____&quot;^Vlogseq____&quot;,1757,536870968]],[logseq____&quot;^15logseq____&quot;,[1703,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1703,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7a98-4b04-9f4e-acfe41a6c952logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果 `connection_info_t`存在，則利用 `GO_PARAM1`取得receiver，即為 `*net.FD`，並呼叫 `get_conn_info_from_fd`取得連線的IP即port，並寫到 `connection_info_t`裡。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^Flogseq____&quot;,1694,536870968]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-3313-415f-a139-3fb1e2d4012flogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1705,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[readTransfer(req, b)](https://github.com/golang/go/blob/6425749695130f2032ac9cfdf5407b6a322534db/src/net/http/request.go#L1158)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1705,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1705,logseq____&quot;^Flogseq____&quot;,1669,536870968]],[logseq____&quot;^15logseq____&quot;,[1705,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1705,logseq____&quot;^Vlogseq____&quot;,1669,536870968]],[logseq____&quot;^15logseq____&quot;,[1705,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1705,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-32e8-455e-a195-9cc39642701dlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1706,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[net/http.(*conn).readRequest](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L1967) (Read next request from connection.)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1706,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1706,logseq____&quot;^Flogseq____&quot;,1767,536870968]],[logseq____&quot;^15logseq____&quot;,[1706,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1706,logseq____&quot;^Vlogseq____&quot;,1644,536870968]],[logseq____&quot;^15logseq____&quot;,[1706,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1706,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-40eb-49e5-babd-c0830af9c11dlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^Flogseq____&quot;,1747,536870968]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-3912-4c5d-acbf-ef05238eee66logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1708,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;receiver:logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1708,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1708,logseq____&quot;^Flogseq____&quot;,1762,536870968]],[logseq____&quot;^15logseq____&quot;,[1708,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1708,logseq____&quot;^Vlogseq____&quot;,1762,536870968]],[logseq____&quot;^15logseq____&quot;,[1708,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1708,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-3a81-4724-9443-d99c83f7da8flogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[context.Context](https://pkg.go.dev/context#Context)是interface，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8)) ，占 8*2 = 16 byteslogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^Flogseq____&quot;,1685,536870968]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^Vlogseq____&quot;,1685,536870968]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^Hlogseq____&quot;,1666,536870968]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-53f2-4d31-b51c-d723ddcf73a3logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1710,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Acceptlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1710,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1710,logseq____&quot;^Flogseq____&quot;,1759,536870968]],[logseq____&quot;^15logseq____&quot;,[1710,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1710,logseq____&quot;^Vlogseq____&quot;,1759,536870968]],[logseq____&quot;^15logseq____&quot;,[1710,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1710,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8a14-4ca2-9809-183f58a46a7blogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1711,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;最後將設定好的trace的span ID亂數生成，也將trace寫到`go_trace_map`中。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1711,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1711,logseq____&quot;^Flogseq____&quot;,1684,536870968]],[logseq____&quot;^15logseq____&quot;,[1711,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1711,logseq____&quot;^Vlogseq____&quot;,1676,536870968]],[logseq____&quot;^15logseq____&quot;,[1711,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1711,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7e0a-425f-bfa2-242f2fec3a16logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`req` pointer不為NULL，則從`req`中讀入method, url以及content length，並寫到`invocation` pointer中。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^Flogseq____&quot;,1676,536870968]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4954-4335-863a-feb8523f91c5logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1713,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1713,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1713,logseq____&quot;^Flogseq____&quot;,1745,536870968]],[logseq____&quot;^15logseq____&quot;,[1713,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1713,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1713,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1713,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-c44a-4c28-8ee9-742c9b7c3be6logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`readRequest`是method，根據 ((66370276-921c-4a97-9864-19b04feb2fb1)) ，receiver是`readRequest`第一個參數(`GO_PARAM1`)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^Flogseq____&quot;,1654,536870968]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^Vlogseq____&quot;,1708,536870968]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^Hlogseq____&quot;,1671,536870968]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-84ef-4726-82d8-7c935dac2d95logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1715,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;根據 ((66370235-abe8-4707-b6c1-07285b460e5a))，透過`GOROUTINE_PTR`，取得go routine的pointer。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1715,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1715,logseq____&quot;^Flogseq____&quot;,1762,536870968]],[logseq____&quot;^15logseq____&quot;,[1715,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1715,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1715,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1715,logseq____&quot;^Hlogseq____&quot;,1680,536870968]],[logseq____&quot;^15logseq____&quot;,[1715,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-319f-45e1-a875-a6d28f853248logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## ServeHTTP_retlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^Flogseq____&quot;,1731,536870968]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870968]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^Jlogseq____&quot;,[],536870968]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7162-427d-b24b-d17891df9a3elogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1717,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;ResponseWriterlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1717,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1717,logseq____&quot;^Flogseq____&quot;,1691,536870968]],[logseq____&quot;^15logseq____&quot;,[1717,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1717,logseq____&quot;^Vlogseq____&quot;,1683,536870968]],[logseq____&quot;^15logseq____&quot;,[1717,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1717,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5709-4c7d-965d-9d2e4e5dfe91logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1718,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`server_http_func_invocation_t` structlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1718,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1718,logseq____&quot;^Flogseq____&quot;,1695,536870968]],[logseq____&quot;^15logseq____&quot;,[1718,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1718,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1718,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1718,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-828c-4d12-94a3-c8f50085d465logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## readRequest\\nid:: 66dde60b-8c09-417a-823b-c44a5ae7a75dlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^Flogseq____&quot;,1760,536870968]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66dde60b-8c09-417a-823b-c44a5ae7a75dlogseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870968]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870968]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66dde60b-8c09-417a-823b-c44a5ae7a75dlogseq____&quot;],536870968]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66dde60b-8c09-417a-823b-c44a5ae7a75dlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1720,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[http.*conn.serve](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L1888)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1720,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1720,logseq____&quot;^Flogseq____&quot;,1741,536870968]],[logseq____&quot;^15logseq____&quot;,[1720,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1720,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1720,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1720,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1115-47e9-b19a-a09f2885d492logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1721,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[http.*conn.serve](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L1888)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1721,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1721,logseq____&quot;^Flogseq____&quot;,1641,536870968]],[logseq____&quot;^15logseq____&quot;,[1721,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1721,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1721,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1721,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2e1b-4d88-a6d3-939c8800a4c8logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1722,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;*Requestlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1722,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1722,logseq____&quot;^Flogseq____&quot;,1717,536870968]],[logseq____&quot;^15logseq____&quot;,[1722,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1722,logseq____&quot;^Vlogseq____&quot;,1683,536870968]],[logseq____&quot;^15logseq____&quot;,[1722,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1722,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-9a73-4abc-836a-e979067d79b5logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1723,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Serverlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1723,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1723,logseq____&quot;^Flogseq____&quot;,1710,536870968]],[logseq____&quot;^15logseq____&quot;,[1723,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1723,logseq____&quot;^Vlogseq____&quot;,1710,536870968]],[logseq____&quot;^15logseq____&quot;,[1723,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1723,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-59f0-4063-86e4-e95cf0617abclogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`ServeHTTP`是method，根據 ((66370276-921c-4a97-9864-19b04feb2fb1)) ，receiver是`ServeHTTP`第一個參數(`GO_PARAM1`)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^Flogseq____&quot;,1750,536870968]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^Vlogseq____&quot;,1691,536870968]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^Hlogseq____&quot;,1671,536870968]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1cec-418b-b791-c0f529aa3df4logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[ResponseWriter](https://pkg.go.dev/net/http#ResponseWriter)是interface，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8)) ，占 8*2 = 16 byteslogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^Flogseq____&quot;,1717,536870968]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^Vlogseq____&quot;,1717,536870968]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^Hlogseq____&quot;,1666,536870968]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-87dd-4037-91d2-ad53a722324dlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1726,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;實現`context.Context`的struct pointer，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8))，是`readRequest`第三個參數(`GO_PARAM3`)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1726,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1726,logseq____&quot;^Flogseq____&quot;,1651,536870968]],[logseq____&quot;^15logseq____&quot;,[1726,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1726,logseq____&quot;^Vlogseq____&quot;,1685,536870968]],[logseq____&quot;^15logseq____&quot;,[1726,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1726,logseq____&quot;^Hlogseq____&quot;,1666,536870968]],[logseq____&quot;^15logseq____&quot;,[1726,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-217d-437b-b628-335b77cbafb8logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1727,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[net.(*netFD).Read, POSIX read](https://github.com/golang/go/blob/42f9ee904caf6681ee32e7b048f15ab7cddf3eb3/src/net/fd_posix.go#L65)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1727,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1727,logseq____&quot;^Flogseq____&quot;,1674,536870968]],[logseq____&quot;^15logseq____&quot;,[1727,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1727,logseq____&quot;^Vlogseq____&quot;,1674,536870968]],[logseq____&quot;^15logseq____&quot;,[1727,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1727,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-91fc-491d-aa7a-2db229e03d62logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`conn`恰好在`tls.Conn`的第一個field，所以offset為0，直接將`conn` interface取出。最後的位置再加上8得到實現`net.Conn`的struct(應該為`net.TCPConn`) [[Beyla/Assertion]] 。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^Flogseq____&quot;,1652,536870968]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^Vlogseq____&quot;,1652,536870968]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^Ulogseq____&quot;,1392,536870968]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^Ulogseq____&quot;,1496,536870968]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^Hlogseq____&quot;,1392,536870968]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^Hlogseq____&quot;,1496,536870968]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-a2c2-4aa4-9ded-31ac6e790817logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1729,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[(*.conn).readRequest](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L975)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1729,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1729,logseq____&quot;^Flogseq____&quot;,1673,536870968]],[logseq____&quot;^15logseq____&quot;,[1729,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1729,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1729,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1729,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-0815-4d91-b532-641d071f04cflogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1730,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`GO_PARAM1`取得[*http.conn](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L252) ，再計算`net.Conn`在該struct中的位置(`rwc`欄位)，[net.Conn](https://github.com/golang/go/blob/master/src/net/net.go#L119)是一個interface。最後使用`c_ptr + 8 + c_rwc_pos`取得實現`net.Conn` interface的struct，通常是由`*net.TCPConn`或是`*tls.Conn`所實現，如`net.Conn`在`net.conn`註解中所述。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1730,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1730,logseq____&quot;^Flogseq____&quot;,1715,536870968]],[logseq____&quot;^15logseq____&quot;,[1730,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1730,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1730,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1730,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5c7d-41a6-92f7-c51f87da6a9dlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1731,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`ongoing_goroutines`使用`*goroutine_addr`查`*g_metadata`存不存在，如果不存在，則更新`ongoing_goroutines` table。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1731,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1731,logseq____&quot;^Flogseq____&quot;,1668,536870968]],[logseq____&quot;^15logseq____&quot;,[1731,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1731,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1731,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1731,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-0305-4524-9cee-f798d74f1c00logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.serverHandler.ServeHTTP`logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^Flogseq____&quot;,1637,536870968]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-0778-4273-87a5-e22704c29415logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1733,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;利用`goroutine_addr`去在 ((6636e390-9236-4c1f-93dd-53eeedcfedc5)) 寫入的`ongoing_http_server_requests`查詢先前的request，如果查到的`invocation`為空，則去查parent go routine的`invocation`。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1733,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1733,logseq____&quot;^Flogseq____&quot;,1707,536870968]],[logseq____&quot;^15logseq____&quot;,[1733,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1733,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1733,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1733,logseq____&quot;^Hlogseq____&quot;,1739,536870968]],[logseq____&quot;^15logseq____&quot;,[1733,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-aa0a-4024-ae8d-6a12821b6a87logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1734,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`*Request`是pointer`，根據 ((6636fff3-c75e-4031-8041-d568c3966625)) ，占 8 byteslogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1734,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1734,logseq____&quot;^Flogseq____&quot;,1722,536870968]],[logseq____&quot;^15logseq____&quot;,[1734,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1734,logseq____&quot;^Vlogseq____&quot;,1722,536870968]],[logseq____&quot;^15logseq____&quot;,[1734,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1734,logseq____&quot;^Hlogseq____&quot;,1647,536870968]],[logseq____&quot;^15logseq____&quot;,[1734,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1bbc-42cc-9543-bbfd5f677a75logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1735,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1735,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1735,logseq____&quot;^Flogseq____&quot;,1759,536870968]],[logseq____&quot;^15logseq____&quot;,[1735,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1735,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1735,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1735,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-6e75-4361-9666-a4e84e73c22elogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1736,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1736,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1736,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870968]],[logseq____&quot;^15logseq____&quot;,[1736,logseq____&quot;^Flogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1736,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1736,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1736,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1736,logseq____&quot;^:logseq____&quot;,true,536870968]],[logseq____&quot;^15logseq____&quot;,[1736,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870968]],[logseq____&quot;^15logseq____&quot;,[1736,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870968]],[logseq____&quot;^15logseq____&quot;,[1736,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870968]],[logseq____&quot;^15logseq____&quot;,[1736,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-ecfc-4dfe-842b-e7c64ffad26dlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net.(*netFD).Read`logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^Flogseq____&quot;,1643,536870968]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-76f0-4480-9f8d-e5a09560ac64logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1738,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;建立`invocation` struct，將`resp` pointer的address存入`invocation.response`裡。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1738,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1738,logseq____&quot;^Flogseq____&quot;,1661,536870968]],[logseq____&quot;^15logseq____&quot;,[1738,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1738,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1738,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1738,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-6d4a-4b21-9b04-269307f63649logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## ServeHTTP\\nid:: 6636e390-9236-4c1f-93dd-53eeedcfedc5logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^Flogseq____&quot;,1736,536870968]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6636e390-9236-4c1f-93dd-53eeedcfedc5logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870968]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870968]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6636e390-9236-4c1f-93dd-53eeedcfedc5logseq____&quot;],536870968]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u6636e390-9236-4c1f-93dd-53eeedcfedc5logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1740,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1740,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1740,logseq____&quot;^Flogseq____&quot;,1729,536870968]],[logseq____&quot;^15logseq____&quot;,[1740,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1740,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1740,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1740,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4463-4c7c-9eaa-1ee0dca36c5elogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1741,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*conn).serve`logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1741,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1741,logseq____&quot;^Flogseq____&quot;,1672,536870968]],[logseq____&quot;^15logseq____&quot;,[1741,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1741,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1741,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1741,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1073-47d0-b3de-3bb375e3675elogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^Flogseq____&quot;,1739,536870968]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-bb9a-480c-9a0d-f30be1e46a68logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*http2serverConn).runHandler`logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^Flogseq____&quot;,1638,536870968]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-33ea-442c-af89-57334afc1adclogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## readRequest (returns)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^Flogseq____&quot;,1663,536870968]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870968]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^Jlogseq____&quot;,[],536870968]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-a9e0-44f3-bfc0-0f02bbc45eb2logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## connServelogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^Flogseq____&quot;,1636,536870968]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870968]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^Jlogseq____&quot;,[],536870968]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4cd8-4f15-a1b9-8560123b2aa3logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在ringbuffer中保留型態為`*http_request_trace`的`trace`，接著將開始，結束時間，及trace type紀錄 `trace` 裡面。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^Flogseq____&quot;,1733,536870968]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b060-4318-af3d-39c8d8404ec1logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1747,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[http.serverHandler.ServeHTTP](https://cs.opensource.google/go/go/+/refs/tags/go1.23.1:src/net/http/server.go;l=3201)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1747,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1747,logseq____&quot;^Flogseq____&quot;,1732,536870968]],[logseq____&quot;^15logseq____&quot;,[1747,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1747,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1747,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1747,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1b7d-4714-88ac-360802528926logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*conn).readRequest`logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^Flogseq____&quot;,1761,536870968]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-05b7-4273-a5a7-ee5f962fed8dlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1749,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1749,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1749,logseq____&quot;^Flogseq____&quot;,1720,536870968]],[logseq____&quot;^15logseq____&quot;,[1749,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1749,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1749,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1749,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-ca11-49ab-8516-f65d2f54f6a6logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1750,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;receiver是 `serverHandler`，雖然是struct，但field只有`*Server`，全部占 8 byteslogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1750,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1750,logseq____&quot;^Flogseq____&quot;,1691,536870968]],[logseq____&quot;^15logseq____&quot;,[1750,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1750,logseq____&quot;^Vlogseq____&quot;,1691,536870968]],[logseq____&quot;^15logseq____&quot;,[1750,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1750,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-bcc8-4237-b0f8-ba2666d3b323logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`ResponseWriter`的vtable pointer，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8))，是`ServeHTTP`第二個參數(`GO_PARAM2`)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^Flogseq____&quot;,1725,536870968]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^Vlogseq____&quot;,1717,536870968]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^Hlogseq____&quot;,1666,536870968]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1811-4b65-8e88-3f939f790ddclogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1752,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`context.Context`的vtable pointer，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8))，是`readRequest`第二個參數(`GO_PARAM2`)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1752,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1752,logseq____&quot;^Flogseq____&quot;,1765,536870968]],[logseq____&quot;^15logseq____&quot;,[1752,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1752,logseq____&quot;^Vlogseq____&quot;,1758,536870968]],[logseq____&quot;^15logseq____&quot;,[1752,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1752,logseq____&quot;^Hlogseq____&quot;,1666,536870968]],[logseq____&quot;^15logseq____&quot;,[1752,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-e57f-405c-8eb0-0f4c8a393328logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^Flogseq____&quot;,1653,536870968]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-c381-4aa6-bef9-41b1d4c51502logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (c *conn) serve(ctx context.Context)`logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^Flogseq____&quot;,1749,536870968]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^Vlogseq____&quot;,1749,536870968]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-f12c-452b-b302-e6b52650f373logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^Flogseq____&quot;,1704,536870968]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b1aa-4542-aba9-d1d89c84f4ealogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;*Server.Serve  (Serve accepts incoming connections on the Listener)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^Flogseq____&quot;,1650,536870968]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-636c-4ae3-805c-3634e644becalogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;首先使用`GO_PARAM1`取得pointer型態的receiver `*serverConn`，該struct被定義在[這裡](https://github.com/golang/net/blob/3c333c0c5288a7cf127e427ddda5b1b54020a2b4/http2/server.go#L592)。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^Flogseq____&quot;,1665,536870968]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-223d-494c-a3d1-2eb265a97bb2logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;context.Contextlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^Flogseq____&quot;,1645,536870968]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^Vlogseq____&quot;,1681,536870968]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-340a-4e03-952b-09af77b7a548logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1759,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Listenlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1759,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1759,logseq____&quot;^Flogseq____&quot;,1698,536870968]],[logseq____&quot;^15logseq____&quot;,[1759,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1759,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1759,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1759,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5f98-4fd2-a848-78eed172267flogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;最後更新`ongoing_http_server_requests`，key為目前的go routine pointer，value為`invocation` pointer。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^Flogseq____&quot;,1712,536870968]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8c8b-4365-84a0-3a1f4c7aaccclogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1761,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1761,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1761,logseq____&quot;^Flogseq____&quot;,1744,536870968]],[logseq____&quot;^15logseq____&quot;,[1761,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1761,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1761,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1761,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-04ba-4bba-b2d6-17efc1300497logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;arguments:logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^Flogseq____&quot;,1740,536870968]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-aad4-43a2-936d-2a3dfa77ea61logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1763,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (sh serverHandler) ServeHTTP(rw ResponseWriter, req *Request)`logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1763,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1763,logseq____&quot;^Flogseq____&quot;,1632,536870968]],[logseq____&quot;^15logseq____&quot;,[1763,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1763,logseq____&quot;^Vlogseq____&quot;,1632,536870968]],[logseq____&quot;^15logseq____&quot;,[1763,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1763,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-6398-4c99-af81-2b316533c791logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## connServeRetlogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^Flogseq____&quot;,1689,536870968]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870968]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^Jlogseq____&quot;,[],536870968]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8762-4300-89a2-acbeb0e832d0logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[context.Context](https://pkg.go.dev/context#Context)是interface，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8)) ，占 8*2 = 16 byteslogseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^Flogseq____&quot;,1758,536870968]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^Vlogseq____&quot;,1758,536870968]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^Hlogseq____&quot;,1666,536870968]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-ae85-4f30-aba8-f1fada13e2e9logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;接著把`invocation`中的trace parent header, content length, method, path及status寫到trace中，並送給ringbuffer。logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^Flogseq____&quot;,1633,536870968]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^Vlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-812f-4c30-b525-721df4bf9628logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[init bufio reader from connReader (c.bufr)](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L1963)logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^Flogseq____&quot;,1634,536870968]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^Vlogseq____&quot;,1644,536870968]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-fe73-4e16-b31c-980323d80ee1logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1768,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (c *conn) readRequest(ctx context.Context) (w *response, err error)`logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1768,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1768,logseq____&quot;^Flogseq____&quot;,1753,536870968]],[logseq____&quot;^15logseq____&quot;,[1768,logseq____&quot;^Xlogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1768,logseq____&quot;^Vlogseq____&quot;,1753,536870968]],[logseq____&quot;^15logseq____&quot;,[1768,logseq____&quot;^Ulogseq____&quot;,1479,536870968]],[logseq____&quot;^15logseq____&quot;,[1768,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-bbb4-4f7e-b12b-aa1430d6be26logseq____&quot;,536870968]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^Klogseq____&quot;,1766477702499,536870969]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^@logseq____&quot;,false,536870969]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/http_ssllogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^Alogseq____&quot;,1392,536870969]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/http_ssllogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870969]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^Blogseq____&quot;,1766477702499,536870969]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-78e5-4924-86cf-0b64521475a2logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## SSL_do_handshakelogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^Flogseq____&quot;,1774,536870969]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^Xlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^Vlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^Ulogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870969]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^Jlogseq____&quot;,[],536870969]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-fe90-4280-8c69-6e132d4b7062logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1772,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1772,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1772,logseq____&quot;^Flogseq____&quot;,1780,536870969]],[logseq____&quot;^15logseq____&quot;,[1772,logseq____&quot;^Xlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1772,logseq____&quot;^Vlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1772,logseq____&quot;^Ulogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1772,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8380-49e2-af0a-d2068a085ff4logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[SSL_do_handshake](https://www.openssl.org/docs/manmaster/man3/SSL_do_handshake.html)logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^Flogseq____&quot;,1782,536870969]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^Xlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^Vlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^Ulogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-ed1f-485e-b28f-09d46e5e4da7logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870969]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^Flogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^Xlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^Vlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^Ulogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^:logseq____&quot;,true,536870969]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870969]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1c7d-41f3-92f9-700b6f538970logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1775,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`int SSL_do_handshake(SSL *ssl)`logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1775,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1775,logseq____&quot;^Flogseq____&quot;,1779,536870969]],[logseq____&quot;^15logseq____&quot;,[1775,logseq____&quot;^Xlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1775,logseq____&quot;^Vlogseq____&quot;,1779,536870969]],[logseq____&quot;^15logseq____&quot;,[1775,logseq____&quot;^Ulogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1775,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2f5f-421b-b48b-0bf666fc7507logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1776,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1776,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1776,logseq____&quot;^Flogseq____&quot;,1784,536870969]],[logseq____&quot;^15logseq____&quot;,[1776,logseq____&quot;^Xlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1776,logseq____&quot;^Vlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1776,logseq____&quot;^Ulogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1776,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-f833-4109-a9b3-bedd30827d26logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`SSL_read`logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^Flogseq____&quot;,1776,536870969]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^Xlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^Vlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^Ulogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-331f-43f3-b6ad-2a16e555a324logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1778,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`int SSL_read(SSL *ssl, void *buf, int num);`logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1778,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1778,logseq____&quot;^Flogseq____&quot;,1780,536870969]],[logseq____&quot;^15logseq____&quot;,[1778,logseq____&quot;^Xlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1778,logseq____&quot;^Vlogseq____&quot;,1780,536870969]],[logseq____&quot;^15logseq____&quot;,[1778,logseq____&quot;^Ulogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1778,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-172c-4dfb-9fd9-251e0dd0f661logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1779,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1779,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1779,logseq____&quot;^Flogseq____&quot;,1773,536870969]],[logseq____&quot;^15logseq____&quot;,[1779,logseq____&quot;^Xlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1779,logseq____&quot;^Vlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1779,logseq____&quot;^Ulogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1779,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-fc08-44a7-b4d0-d314ec33ecf2logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1780,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1780,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1780,logseq____&quot;^Flogseq____&quot;,1783,536870969]],[logseq____&quot;^15logseq____&quot;,[1780,logseq____&quot;^Xlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1780,logseq____&quot;^Vlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1780,logseq____&quot;^Ulogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1780,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-c417-4433-bf71-2e9154946c93logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^Flogseq____&quot;,1771,536870969]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^Xlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^Vlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^Ulogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5a53-401a-aab8-ffb1f148a844logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1782,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`SSL_do_handshake`logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1782,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1782,logseq____&quot;^Flogseq____&quot;,1781,536870969]],[logseq____&quot;^15logseq____&quot;,[1782,logseq____&quot;^Xlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1782,logseq____&quot;^Vlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1782,logseq____&quot;^Ulogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1782,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8b08-43de-adcf-5908a5cbfd5elogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1783,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[SSL_read](https://www.openssl.org/docs/man1.1.1/man3/SSL_read.html)logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1783,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1783,logseq____&quot;^Flogseq____&quot;,1777,536870969]],[logseq____&quot;^15logseq____&quot;,[1783,logseq____&quot;^Xlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1783,logseq____&quot;^Vlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1783,logseq____&quot;^Ulogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1783,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-89eb-4223-940d-a387b978bb9clogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## SSL_readlogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^Flogseq____&quot;,1779,536870969]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^Xlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^Vlogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^Ulogseq____&quot;,1770,536870969]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870969]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^Jlogseq____&quot;,[],536870969]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-6cd3-4cc7-be78-717663489d03logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^Klogseq____&quot;,1766477702551,536870970]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^@logseq____&quot;,false,536870970]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/load_ebpflogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^Alogseq____&quot;,1392,536870970]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/load_ebpflogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870970]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^Blogseq____&quot;,1766477702551,536870970]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5a68-4f7d-ab67-a583126be6e1logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1787,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;pkg/internal/ebpf/instrumenter.gologseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1787,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1787,logseq____&quot;^Flogseq____&quot;,1814,536870970]],[logseq____&quot;^15logseq____&quot;,[1787,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1787,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1787,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1787,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-6a36-4183-ae19-ea3bc1c081c2logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### tracers\\nid:: 663672eb-8811-4916-a7ad-a09b5ac3b8e0logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^Flogseq____&quot;,1803,536870970]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;663672eb-8811-4916-a7ad-a09b5ac3b8e0logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870970]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;663672eb-8811-4916-a7ad-a09b5ac3b8e0logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u663672eb-8811-4916-a7ad-a09b5ac3b8e0logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`beyla`在`pkg/internal/ebpf/tracer.go`定義了 `Tracer` interface，每一個beyla的ebpg的程式都需要實現這個interface。其中比較重要的method為`Constants`及`GoProbes`。\\nid:: 665211c8-158b-4d58-9d5e-9299735e6acdlogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^Flogseq____&quot;,1791,536870970]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;665211c8-158b-4d58-9d5e-9299735e6acdlogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;665211c8-158b-4d58-9d5e-9299735e6acdlogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u665211c8-158b-4d58-9d5e-9299735e6acdlogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^Flogseq____&quot;,1806,536870970]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-badb-4aa5-bc8e-ed3a374e14a5logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870970]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^Flogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^:logseq____&quot;,true,536870970]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870970]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-d5ea-40d8-bc12-2f95454c183blogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1792,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\ntitan@DESKTOP:~/sources/beyla$ ls pkg/internal/ebpf/nethttp/\\nbpf_bpfel_arm64.go  bpf_bpfel_x86.o           bpf_debug_bpfel_x86.go  bpf_tp_bpfel_arm64.o  bpf_tp_debug_bpfel_arm64.go  bpf_tp_debug_bpfel_x86.o\\nbpf_bpfel_arm64.o   bpf_debug_bpfel_arm64.go  bpf_debug_bpfel_x86.o   bpf_tp_bpfel_x86.go   bpf_tp_debug_bpfel_arm64.o   nethttp.go\\nbpf_bpfel_x86.go    bpf_debug_bpfel_arm64.o   bpf_tp_bpfel_arm64.go   bpf_tp_bpfel_x86.o    bpf_tp_debug_bpfel_x86.go\\n```logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1792,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1792,logseq____&quot;^Flogseq____&quot;,1813,536870970]],[logseq____&quot;^15logseq____&quot;,[1792,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1792,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1792,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1792,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4bf4-4f31-b24a-567dffe20bdclogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1793,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;`bpf2go` compiles a C source file into eBPF bytecode and then emits a Go file containing the eBPF. The goal is to avoid loading the eBPF from disk at runtime and to minimise the amount of manual work required to interact with eBPF programs.logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1793,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1793,logseq____&quot;^Flogseq____&quot;,1809,536870970]],[logseq____&quot;^15logseq____&quot;,[1793,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1793,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1793,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1793,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-e394-4d58-abef-b902042d740elogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1794,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在 `pkg/internal/ebpf/nethttp/nethttp.go`中，有是否啟用`HEADER_PROPAGATION`以及`BPF_DEBUG`共四種go generate組合，bpf的來源來自`/bpf`資料夾下的`go_nethttp.c`。logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1794,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1794,logseq____&quot;^Flogseq____&quot;,1793,536870970]],[logseq____&quot;^15logseq____&quot;,[1794,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1794,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1794,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1794,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b489-458d-9ab8-5756e08425cclogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1795,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// tracers returns Tracer implementer for each discovered eBPF traceable source: GRPC, HTTP...\\nfunc (pt *ProcessTracer) tracers() ([]Tracer, error) {\\n\\tloadMux.Lock()\\n\\tdefer loadMux.Unlock()\\n\\tvar log = ptlog()\\n\\n\\t// tracerFuncs contains the eBPF Programs (HTTP, GRPC tracers...)\\n\\tvar tracers []Tracer\\n\\n\\tfor _, p := range pt.Programs {\\n\\t\\tplog := log.With(\\logseq____&quot;program\\logseq____&quot;, reflect.TypeOf(p))\\n\\t\\tplog.Debug(\\logseq____&quot;loading eBPF program\\logseq____&quot;, \\logseq____&quot;PinPath\\logseq____&quot;, pt.PinPath, \\logseq____&quot;pid\\logseq____&quot;, pt.ELFInfo.Pid, \\logseq____&quot;cmd\\logseq____&quot;, pt.ELFInfo.CmdExePath)\\n\\t\\tspec, err := pt.loadSpec(p)\\n\\t\\tif err != nil {\\n\\t\\t\\treturn nil, err\\n\\t\\t}\\n\\t\\tif err := spec.LoadAndAssign(p.BpfObjects(), logseq____&amp;ebpf.CollectionOptions{\\n\\t\\t\\tPrograms: ebpf.ProgramOptions{LogSize: 640 * 1024},\\n\\t\\t\\tMaps: ebpf.MapOptions{\\n\\t\\t\\t\\tPinPath: pt.PinPath,\\n\\t\\t\\t}}); err != nil {\\n```logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1795,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1795,logseq____&quot;^Flogseq____&quot;,1800,536870970]],[logseq____&quot;^15logseq____&quot;,[1795,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1795,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1795,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1795,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-3a32-40d7-9214-ff239bb5dec1logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (pt *ProcessTracer) loadSpec(p Tracer) (*ebpf.CollectionSpec, error) {\\n\\tspec, err := p.Load()\\n\\tif err != nil {\\n\\t\\treturn nil, fmt.Errorf(\\logseq____&quot;loading eBPF program: %w\\logseq____&quot;, err)\\n\\t}\\n\\tif err := spec.RewriteConstants(p.Constants(pt.ELFInfo, pt.Goffsets)); err != nil {\\n\\t\\treturn nil, fmt.Errorf(\\logseq____&quot;rewriting BPF constants definition: %w\\logseq____&quot;, err)\\n\\t}\\n\\n\\treturn spec, nil\\n}\\n```logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^Flogseq____&quot;,1811,536870970]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-a13d-4e7b-87d9-c0ac60fd1b51logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1797,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n//go:generate $BPF2GO -cc $BPF_CLANG -cflags $BPF_CFLAGS -target amd64,arm64 bpf ../../../../bpf/go_nethttp.c -- -I../../../../bpf/headers -DNO_HEADER_PROPAGATION\\n//go:generate $BPF2GO -cc $BPF_CLANG -cflags $BPF_CFLAGS -target amd64,arm64 bpf_debug ../../../../bpf/go_nethttp.c -- -I../../../../bpf/headers -DBPF_DEBUG -DNO_HEADER_PROPAGATION\\n//go:generate $BPF2GO -cc $BPF_CLANG -cflags $BPF_CFLAGS -target amd64,arm64 bpf_tp ../../../../bpf/go_nethttp.c -- -I../../../../bpf/headers\\n//go:generate $BPF2GO -cc $BPF_CLANG -cflags $BPF_CFLAGS -target amd64,arm64 bpf_tp_debug ../../../../bpf/go_nethttp.c -- -I../../../../bpf/headers -DBPF_DEBUG\\n```logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1797,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1797,logseq____&quot;^Flogseq____&quot;,1794,536870970]],[logseq____&quot;^15logseq____&quot;,[1797,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1797,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1797,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1797,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-92d7-4b9c-a548-fcdc8c2f0145logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1798,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`bpf_*.go`還有些關於`map`以及`program`的struct，會在bpf相關的c程式中再回頭看。logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1798,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1798,logseq____&quot;^Flogseq____&quot;,1815,536870970]],[logseq____&quot;^15logseq____&quot;,[1798,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1798,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1798,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1798,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5acf-49e2-a831-64c4efb63b6blogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## struct member offsetlogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^Flogseq____&quot;,1801,536870970]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870970]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^Jlogseq____&quot;,[],536870970]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-fea3-4469-a337-28697469dbc5logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在每一個ebpf程式中，都有一個`Tracer` struct實現`Tracer` interface，其中`Tracer` struct有一個private member是`bpfObjects`，會在`BpfObjects` method中expose `bpfObjects`的pointer。這個pointer會在`pkg/internal/ebpf/tracer_linux.go`中的`tracers`被使用到，並使用`cilium/ebpf`的`*ebpf.CollectionSpec`呼叫[LoadAndAssign](https://pkg.go.dev/github.com/cilium/ebpf#CollectionSpec.LoadAndAssign) method將`Map`跟`Programs`載入kernel，並指定給`p.BpfObjects()`pointer。\\nid:: 6631311c-967c-4902-a94a-30a1c17f6bdalogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^Flogseq____&quot;,1788,536870970]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6631311c-967c-4902-a94a-30a1c17f6bdalogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6631311c-967c-4902-a94a-30a1c17f6bdalogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u6631311c-967c-4902-a94a-30a1c17f6bdalogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`Constants` method定義了一個map，key為常數的名稱，value是這個常數的值。在 ((66313365-7bb8-4b8d-9264-1761f7c4181e))，可以把各個struct member的offset定義在`Constants`裡面，之後會透過`cilium/ebpf`的`*ebpf.CollectionSpec`呼叫[RewriteConstants](https://pkg.go.dev/github.com/cilium/ebpf#CollectionSpec.RewriteConstants) method，將常數寫到ebpf程式中。logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^Flogseq____&quot;,1812,536870970]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^Hlogseq____&quot;,1413,536870970]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-e7f4-41bc-b805-53adee5e881alogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1802,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`bpf_*.go`定義了各類的program及map的specs及objects，可以直接在其他go檔案中調用。如在 ((663672eb-8811-4916-a7ad-a09b5ac3b8e0)) 中提到的 `tracer` struct中，`bpfObjects` private member的型態就來自於 `bpf_*.go`中的`bpfObjects`。logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1802,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1802,logseq____&quot;^Flogseq____&quot;,1792,536870970]],[logseq____&quot;^15logseq____&quot;,[1802,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1802,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1802,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1802,logseq____&quot;^Hlogseq____&quot;,1788,536870970]],[logseq____&quot;^15logseq____&quot;,[1802,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-a8c0-4115-beab-c6c6a0256e63logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1803,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (i *instrumenter) goprobe(probe ebpfcommon.Probe) error {\\n\\t// Attach BPF programs as start and return probes\\n\\tif probe.Programs.Start != nil {\\n\\t\\tup, err := i.exe.Uprobe(\\logseq____&quot;\\logseq____&quot;, probe.Programs.Start, logseq____&amp;link.UprobeOptions{\\n\\t\\t\\tAddress: probe.Offsets.Start,\\n\\t\\t})\\n\\t\\tif err != nil {\\n\\t\\t\\treturn fmt.Errorf(\\logseq____&quot;setting uprobe: %w\\logseq____&quot;, err)\\n\\t\\t}\\n\\t\\ti.closables = append(i.closables, up)\\n\\t}\\n\\n\\tif probe.Programs.End != nil {\\n\\t\\t// Go wonlogseq____&apos;t work with Uretprobes because of the way Go manages the stack. We need to set uprobes just before the return\\n\\t\\t// values: https://github.com/iovisor/bcc/issues/1320\\n\\t\\tfor _, ret := range probe.Offsets.Returns {\\n\\t\\t\\turp, err := i.exe.Uprobe(\\logseq____&quot;\\logseq____&quot;, probe.Programs.End, logseq____&amp;link.UprobeOptions{\\n\\t\\t\\t\\tAddress: ret,\\n\\t\\t\\t})\\n\\t\\t\\tif err != nil {\\n\\t\\t\\t\\treturn fmt.Errorf(\\logseq____&quot;setting uretprobe: %w\\logseq____&quot;, err)\\n\\t\\t\\t}\\n\\t\\t\\ti.closables = append(i.closables, urp)\\n\\t\\t}\\n\\t}\\n\\n\\treturn nil\\n}\\n```logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1803,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1803,logseq____&quot;^Flogseq____&quot;,1787,536870970]],[logseq____&quot;^15logseq____&quot;,[1803,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1803,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1803,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1803,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-0ef3-4e39-b0f4-8444b41c12d7logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1804,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; \\t// UProbes returns a map with the module name mapping to the uprobes that need to be\\n\\t// tapped into. Start matches uprobe, End matches uretprobe\\n\\tUProbes() map[string]map[string]ebpfcommon.FunctionProgramslogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1804,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1804,logseq____&quot;^Flogseq____&quot;,1810,536870970]],[logseq____&quot;^15logseq____&quot;,[1804,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1804,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1804,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1804,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-08b6-4ede-ac5e-5c08600e3c20logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### bpf2gologseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^Flogseq____&quot;,1795,536870970]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870970]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^Jlogseq____&quot;,[],536870970]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-3876-40b0-8dc3-ee5842ca5633logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1806,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\ntitan@DESKTOP:~/sources/beyla$ file pkg/internal/ebpf/nethttp/bpf_bpfel_x86.o\\npkg/internal/ebpf/nethttp/bpf_bpfel_x86.o: ELF 64-bit LSB relocatable, eBPF, version 1 (SYSV), not stripped\\n```logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1806,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1806,logseq____&quot;^Flogseq____&quot;,1807,536870970]],[logseq____&quot;^15logseq____&quot;,[1806,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1806,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1806,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1806,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-553c-400f-b064-4858c9d45c5clogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`bpf_*.o`是c code經過編譯之後，生成出的ebpf檔案，用`file`指令查看其中一個object檔可以看到有ePBF的內容。logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^Flogseq____&quot;,1798,536870970]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2d83-4d6d-8016-6f4105d833c2logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## `Constants`logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^Flogseq____&quot;,1789,536870970]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870970]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^Jlogseq____&quot;,[],536870970]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-c4b7-45c7-b8c7-a6b28098ae3clogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在每個ebpf program中，都會有一連的go generate，呼叫[bpfto2]([bpf2go command - github.com/cilium/ebpf/cmd/bpf2go - Go Packages](https://pkg.go.dev/github.com/cilium/ebpf/cmd/bpf2go))，官方說明提到logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^Flogseq____&quot;,1805,536870970]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5bb7-4c16-8b74-5d1cde1197a7logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1810,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`UProbes`logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1810,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1810,logseq____&quot;^Flogseq____&quot;,1796,536870970]],[logseq____&quot;^15logseq____&quot;,[1810,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1810,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1810,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1810,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-ee55-49ca-9e25-6b9cdf02cbb7logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1811,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;pkg/internal/ebpf/tracer_linux.gologseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1811,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1811,logseq____&quot;^Flogseq____&quot;,1799,536870970]],[logseq____&quot;^15logseq____&quot;,[1811,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1811,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1811,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1811,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2a50-4c38-9363-513ad452fb7alogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1812,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;\\t// Constants returns a map of constants to be overriden into the eBPF program.\\n\\t// The key is the constant name and the value is the value to overwrite.\\n\\tConstants(*exec.FileInfo, *goexec.Offsets) map[string]anylogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1812,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1812,logseq____&quot;^Flogseq____&quot;,1808,536870970]],[logseq____&quot;^15logseq____&quot;,[1812,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1812,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1812,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1812,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-d08c-45d4-884b-7ffd145771b5logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;可以看到在 `pkg/internal/ebpf/nethttp`中，有各種`bpf_*.go`以及`bpf_*.o`的檔案，這些檔案都是透過`bpf2go`產生的。logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^Flogseq____&quot;,1797,536870970]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8f10-4b47-b818-4074acaf4256logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1814,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`UProbes` method定義一個key為function的完整module name，如`net/http.serverHandler.ServeHTTP`，value為uprobe對應的function開始及結束的ebpf golang symbol name，如`p.bpfObjects.UprobeServeHTTP`。這之後同樣透過`cilium/ebpf`的[*link.Executable.Uprobe](https://pkg.go.dev/github.com/cilium/ebpf@v0.15.0/link#Executable.Uprobe)將ebpf程式 attach。logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1814,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1814,logseq____&quot;^Flogseq____&quot;,1804,536870970]],[logseq____&quot;^15logseq____&quot;,[1814,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1814,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1814,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1814,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b683-4a57-9723-95568d277265logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1815,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// bpfObjects contains all objects after they have been loaded into the kernel.\\n//\\n// It can be passed to loadBpfObjects or ebpf.CollectionSpec.LoadAndAssign.\\ntype bpfObjects struct {\\n\\tbpfPrograms\\n\\tbpfMaps\\n}\\n```logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1815,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1815,logseq____&quot;^Flogseq____&quot;,1802,536870970]],[logseq____&quot;^15logseq____&quot;,[1815,logseq____&quot;^Xlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1815,logseq____&quot;^Vlogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1815,logseq____&quot;^Ulogseq____&quot;,1786,536870970]],[logseq____&quot;^15logseq____&quot;,[1815,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-cb65-4941-81c2-11127d9aea95logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1817,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`ctx`logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1817,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1817,logseq____&quot;^Flogseq____&quot;,1832,536870971]],[logseq____&quot;^15logseq____&quot;,[1817,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1817,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1817,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1817,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-97de-4d0a-9499-fb07426ae6eflogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1818,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1818,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1818,logseq____&quot;^Flogseq____&quot;,1821,536870971]],[logseq____&quot;^15logseq____&quot;,[1818,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1818,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1818,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1818,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-ca5d-4eaa-abf9-2309dc6116a5logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1819,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1819,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1819,logseq____&quot;^Flogseq____&quot;,1826,536870971]],[logseq____&quot;^15logseq____&quot;,[1819,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1819,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1819,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1819,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-ccd2-4394-83a4-f736bb662136logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`query`是string，占第6與7個GO_PARAMlogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^Flogseq____&quot;,1830,536870971]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b49e-4ced-8d3e-2c8144bd086clogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1821,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[execDC](https://github.com/golang/go/blob/0d018b49e33b1383dc0ae5cc968e800dffeeaf7d/src/database/sql/sql.go#L1685-L1686)logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1821,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1821,logseq____&quot;^Flogseq____&quot;,1841,536870971]],[logseq____&quot;^15logseq____&quot;,[1821,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1821,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1821,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1821,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-9d6c-4ea1-b82b-143ee9b5e90dlogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1822,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1822,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1822,logseq____&quot;^Flogseq____&quot;,1836,536870971]],[logseq____&quot;^15logseq____&quot;,[1822,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1822,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1822,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1822,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-0405-4239-91c0-eb0cbb1c8230logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1823,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`releaseConn`是function pointer，第7個GO_PAGRAMlogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1823,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1823,logseq____&quot;^Flogseq____&quot;,1838,536870971]],[logseq____&quot;^15logseq____&quot;,[1823,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1823,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1823,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1823,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-a88e-4bbd-8171-f546c074664dlogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1824,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\nSEC(\\logseq____&quot;uprobe/queryDC\\logseq____&quot;)\\nint uprobe_queryDC(struct pt_regs *ctx) {\\n    bpf_dbg_printk(\\logseq____&quot;=== uprobe/queryDC === \\logseq____&quot;);\\n    void *goroutine_addr = GOROUTINE_PTR(ctx);\\n    bpf_dbg_printk(\\logseq____&quot;goroutine_addr %lx\\logseq____&quot;, goroutine_addr);\\n\\n    void *sql_param = GO_PARAM8(ctx);\\n    void *query_len = GO_PARAM9(ctx);\\n    set_sql_info(goroutine_addr, sql_param, query_len);\\n    return 0;\\n}\\n```logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1824,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1824,logseq____&quot;^Flogseq____&quot;,1835,536870971]],[logseq____&quot;^15logseq____&quot;,[1824,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1824,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1824,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1824,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2430-4d23-a51a-23081461e105logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870971]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^Flogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^:logseq____&quot;,true,536870971]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870971]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870971]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870971]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-afdc-425f-a1cc-9633743c0f4blogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; // queryDC executes a query on the given connection.logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^Flogseq____&quot;,1843,536870971]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-47cd-4c5f-9a61-612caf7a4167logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1827,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (db *DB) execDC(ctx context.Context, dc *driverConn, release func(error), query string, args []any) (res Result, err error)`logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1827,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1827,logseq____&quot;^Flogseq____&quot;,1818,536870971]],[logseq____&quot;^15logseq____&quot;,[1827,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1827,logseq____&quot;^Vlogseq____&quot;,1818,536870971]],[logseq____&quot;^15logseq____&quot;,[1827,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1827,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-ab6a-4b8d-8c95-f50f3ae48b07logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`context.Context`是interface，所以分別占第2, 3個GO_PARAMlogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^Flogseq____&quot;,1817,536870971]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^Vlogseq____&quot;,1817,536870971]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-e0bb-4ec1-8d77-6fded64ac638logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1829,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (db *DB) queryDC(ctx, txctx context.Context, dc *driverConn, releaseConn func(error), query string, args []any) (*Rows, error)`logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1829,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1829,logseq____&quot;^Flogseq____&quot;,1822,536870971]],[logseq____&quot;^15logseq____&quot;,[1829,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1829,logseq____&quot;^Vlogseq____&quot;,1822,536870971]],[logseq____&quot;^15logseq____&quot;,[1829,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1829,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-85b6-48a7-aefe-a6c843b9595elogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1830,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`releaseConn`是function pointer，第5個GO_PAGRAMlogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1830,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1830,logseq____&quot;^Flogseq____&quot;,1833,536870971]],[logseq____&quot;^15logseq____&quot;,[1830,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1830,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1830,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1830,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-90da-4405-9cc2-54e05d4c5da8logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1831,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1831,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1831,logseq____&quot;^Flogseq____&quot;,1837,536870971]],[logseq____&quot;^15logseq____&quot;,[1831,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1831,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1831,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1831,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-07b2-49a2-a31d-596c47958739logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1832,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`execDC`是method，根據 ((66370276-921c-4a97-9864-19b04feb2fb1)) ，receiver是`execDC`第一個參數(`GO_PARAM1`)logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1832,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1832,logseq____&quot;^Flogseq____&quot;,1818,536870971]],[logseq____&quot;^15logseq____&quot;,[1832,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1832,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1832,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1832,logseq____&quot;^Hlogseq____&quot;,1671,536870971]],[logseq____&quot;^15logseq____&quot;,[1832,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7b8d-485a-b4a4-563202707897logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1833,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`*driverConn`是pointer，第4個GO_PARAMlogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1833,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1833,logseq____&quot;^Flogseq____&quot;,1817,536870971]],[logseq____&quot;^15logseq____&quot;,[1833,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1833,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1833,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1833,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-39b3-4383-ad2d-be28d37e046clogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1834,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\nSEC(\\logseq____&quot;uprobe/execDC\\logseq____&quot;)\\nint uprobe_execDC(struct pt_regs *ctx) {\\n    bpf_dbg_printk(\\logseq____&quot;=== uprobe/execDC === \\logseq____&quot;);\\n    void *goroutine_addr = GOROUTINE_PTR(ctx);\\n    bpf_dbg_printk(\\logseq____&quot;goroutine_addr %lx\\logseq____&quot;, goroutine_addr);\\n\\n    void *sql_param = GO_PARAM6(ctx);\\n    void *query_len = GO_PARAM7(ctx);\\n    set_sql_info(goroutine_addr, sql_param, query_len);\\n    return 0;\\n}\\n```logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1834,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1834,logseq____&quot;^Flogseq____&quot;,1820,536870971]],[logseq____&quot;^15logseq____&quot;,[1834,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1834,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1834,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1834,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-ba86-443a-a02c-df22fdb6569alogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1835,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`query`是string，占第8與9個GO_PARAM，分別是`query` array pointer與`query` array length。logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1835,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1835,logseq____&quot;^Flogseq____&quot;,1823,536870971]],[logseq____&quot;^15logseq____&quot;,[1835,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1835,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1835,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1835,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-3118-41d9-9da7-d2308f29090dlogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[queryDC](https://github.com/golang/go/blob/0d018b49e33b1383dc0ae5cc968e800dffeeaf7d/src/database/sql/sql.go#L1761)logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^Flogseq____&quot;,1842,536870971]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-26c4-492b-a784-130071063a44logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1837,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## uprobe_execDClogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1837,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1837,logseq____&quot;^Flogseq____&quot;,1824,536870971]],[logseq____&quot;^15logseq____&quot;,[1837,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1837,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1837,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1837,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870971]],[logseq____&quot;^15logseq____&quot;,[1837,logseq____&quot;^Jlogseq____&quot;,[],536870971]],[logseq____&quot;^15logseq____&quot;,[1837,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7465-41a2-a9b2-82a47ae98510logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1838,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`*driverConn`是pointer，第6個GO_PARAMlogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1838,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1838,logseq____&quot;^Flogseq____&quot;,1844,536870971]],[logseq____&quot;^15logseq____&quot;,[1838,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1838,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1838,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1838,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-bc94-4a8e-8be4-8c800dbee04dlogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1839,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`queryDC`是method，根據 ((66370276-921c-4a97-9864-19b04feb2fb1)) ，receiver是`queryDC`第一個參數(`GO_PARAM1`)logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1839,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1839,logseq____&quot;^Flogseq____&quot;,1822,536870971]],[logseq____&quot;^15logseq____&quot;,[1839,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1839,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1839,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1839,logseq____&quot;^Hlogseq____&quot;,1671,536870971]],[logseq____&quot;^15logseq____&quot;,[1839,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-66d7-4694-a184-c92e04d9d857logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1840,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`context.Context`是interface，所以分別占第2, 3, 4, 5個GO_PARAMlogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1840,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1840,logseq____&quot;^Flogseq____&quot;,1844,536870971]],[logseq____&quot;^15logseq____&quot;,[1840,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1840,logseq____&quot;^Vlogseq____&quot;,1844,536870971]],[logseq____&quot;^15logseq____&quot;,[1840,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1840,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b5ae-408c-b53c-e888d3dc23b7logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1841,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`database/sql.(*DB).execDC`logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1841,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1841,logseq____&quot;^Flogseq____&quot;,1831,536870971]],[logseq____&quot;^15logseq____&quot;,[1841,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1841,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1841,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1841,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-aa42-456a-b4d6-26891a084067logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1842,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`database/sql.(*DB).queryDC`logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1842,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1842,logseq____&quot;^Flogseq____&quot;,1819,536870971]],[logseq____&quot;^15logseq____&quot;,[1842,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1842,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1842,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1842,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b31d-4376-893f-88770bec657dlogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## uprobe_queryDClogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^Flogseq____&quot;,1825,536870971]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870971]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^Jlogseq____&quot;,[],536870971]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-d04b-4419-96f1-94e1f286ab74logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1844,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`ctx`, `txctx`logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1844,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1844,logseq____&quot;^Flogseq____&quot;,1839,536870971]],[logseq____&quot;^15logseq____&quot;,[1844,logseq____&quot;^Xlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1844,logseq____&quot;^Vlogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1844,logseq____&quot;^Ulogseq____&quot;,1482,536870971]],[logseq____&quot;^15logseq____&quot;,[1844,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-c36b-4f41-88a9-f4e8b30627calogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^Klogseq____&quot;,1766477702637,536870972]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^@logseq____&quot;,false,536870972]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/traceslogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^Alogseq____&quot;,1392,536870972]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/traceslogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870972]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870972]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^Blogseq____&quot;,1766477702637,536870972]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-bf02-45a7-98bc-8e2224d123c5logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`pkg/internal/ebpf/tracer_linux.go`中`ProcessTracer.Run`會針對每一個`Tracer`，一樣將span channel傳給`Tracer.Run`。`Tracer`即是在 ((665211c8-158b-4d58-9d5e-9299735e6acd)) 提到的`Tracer` interface，也需要實現`Run` method。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^Flogseq____&quot;,1855,536870972]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^Xlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^Vlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^Ulogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^Hlogseq____&quot;,1789,536870972]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-641c-4fa0-a700-290e6e6ed991logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1848,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`readAndForwardInner`是從ringbuffer讀trace的核心function，會將ringbuffer傳來的內容轉成span並放入`spansChan`，flush的時機是使用者設定的timeout或是buffer已滿。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1848,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1848,logseq____&quot;^Flogseq____&quot;,1849,536870972]],[logseq____&quot;^15logseq____&quot;,[1848,logseq____&quot;^Xlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1848,logseq____&quot;^Vlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1848,logseq____&quot;^Ulogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1848,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-936b-4cd9-ab23-9b79a184f0e9logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1849,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (rbf *ringBufForwarder) sharedReadAndForward(ctx context.Context, closers []io.Closer, spansChan chanlogseq____&lt;- []request.Span) {\\n\\trbf.logger.Debug(\\logseq____&quot;start reading and forwarding\\logseq____&quot;)\\n\\t// BPF will send each measured trace via Ring Buffer, so we listen for them from the\\n\\t// user space.\\n\\teventsReader, err := readerFactory(rbf.ringbuffer)\\n\\tif err != nil {\\n\\t\\trbf.logger.Error(\\logseq____&quot;creating perf reader. Exiting\\logseq____&quot;, err)\\n\\t\\treturn\\n\\t}\\n\\trbf.spans = make([]request.Span, rbf.cfg.BatchLength)\\n\\trbf.spansLen = 0\\n\\n\\t// If the underlying context is closed, it closes the objects we have allocated for this bpf program\\n\\tgo rbf.bgListenSharedContextCancelation(ctx, closers)\\n\\trbf.readAndForwardInner(eventsReader, spansChan)\\n}\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1849,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1849,logseq____&quot;^Flogseq____&quot;,1862,536870972]],[logseq____&quot;^15logseq____&quot;,[1849,logseq____&quot;^Xlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1849,logseq____&quot;^Vlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1849,logseq____&quot;^Ulogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1849,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-fc26-4582-9fa5-b3febf758ba7logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## 追蹤在Beyla的user side如何接收從BPF傳來的span (event source)logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^Flogseq____&quot;,1858,536870972]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^Xlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^Vlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^Ulogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870972]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-dbcf-4a5d-aee8-03529274b658logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`pkg/internal/appolly/appolly.go`中的`FindAndInstrument` function，會將span channel傳給`ProcessTracer.Run`。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^Flogseq____&quot;,1850,536870972]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^Xlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^Vlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^Ulogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-08e3-46bc-8d6e-26d43dabeeb7logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1852,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (p *Tracer) Run(ctx context.Context, eventsChan chanlogseq____&lt;- []request.Span) {\\n\\t// At this point we now have loaded the bpf objects, which means we should insert any\\n\\t// pids that are allowed into the bpf map\\n\\tif p.bpfObjects.ValidPids != nil {\\n\\t\\tp.rebuildValidPids()\\n\\t} else {\\n\\t\\tp.log.Error(\\logseq____&quot;BPF Pids map is not created yet, this is a bug.\\logseq____&quot;)\\n\\t}\\n\\n\\ttimeoutTicker := time.NewTicker(2 * time.Second)\\n\\n\\tgo p.watchForMisclassifedEvents()\\n\\tgo p.lookForTimeouts(timeoutTicker, eventsChan)\\n\\tdefer timeoutTicker.Stop()\\n\\n\\tebpfcommon.SharedRingbuf(\\n\\t\\tlogseq____&amp;p.cfg.EBPF,\\n\\t\\tp.pidsFilter,\\n\\t\\tp.bpfObjects.Events,\\n\\t\\tp.metrics,\\n\\t)(ctx, append(p.closers, logseq____&amp;p.bpfObjects), eventsChan)\\n}\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1852,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1852,logseq____&quot;^Flogseq____&quot;,1854,536870972]],[logseq____&quot;^15logseq____&quot;,[1852,logseq____&quot;^Xlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1852,logseq____&quot;^Vlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1852,logseq____&quot;^Ulogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1852,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7238-431f-98dd-cca70ea749e8logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1853,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (rbf *ringBufForwarder) readAndForwardInner(eventsReader ringBufReader, spansChan chanlogseq____&lt;- []request.Span) {\\n\\t// Forwards periodically on timeout, if the batch is not full\\n\\tif rbf.cfg.BatchTimeout logseq____&gt; 0 {\\n\\t\\trbf.ticker = time.NewTicker(rbf.cfg.BatchTimeout)\\n\\t\\tgo rbf.bgFlushOnTimeout(spansChan)\\n\\t}\\n\\n\\trbf.logger.Debug(\\logseq____&quot;starting to read ring buffer\\logseq____&quot;)\\n\\trecord, err := eventsReader.Read()\\n\\tfor {\\n\\t\\tif err != nil {\\n\\t\\t\\tif errors.Is(err, ringbuf.ErrClosed) {\\n\\t\\t\\t\\trbf.logger.Debug(\\logseq____&quot;ring buffer is closed\\logseq____&quot;)\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\trbf.logger.Error(\\logseq____&quot;error reading from perf reader\\logseq____&quot;, err)\\n\\t\\t\\tcontinue\\n\\t\\t}\\n\\t\\trbf.processAndForward(record, spansChan)\\n\\n\\t\\t// read another event before the next loop iteration\\n\\t\\trecord, err = eventsReader.Read()\\n\\t}\\n}\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1853,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1853,logseq____&quot;^Flogseq____&quot;,1848,536870972]],[logseq____&quot;^15logseq____&quot;,[1853,logseq____&quot;^Xlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1853,logseq____&quot;^Vlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1853,logseq____&quot;^Ulogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1853,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-9a35-49d4-bfbe-bef6c94578ablogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1854,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;先看到`pkg/internal/ebpf/httpfltr/httpfltr.go`中實現的Run method。主要是在`p.lookForTimeouts(timeoutTicker, eventsChan)`把BPF map內容讀出來，轉成span再丟入channel。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1854,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1854,logseq____&quot;^Flogseq____&quot;,1864,536870972]],[logseq____&quot;^15logseq____&quot;,[1854,logseq____&quot;^Xlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1854,logseq____&quot;^Vlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1854,logseq____&quot;^Ulogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1854,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-d0c2-4809-9ded-8db7358a2a5dlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n\\t\\t\\tcase pt := logseq____&lt;-foundProcesses:\\n\\t\\t\\t\\tlog.Debug(\\logseq____&quot;running tracer for new process\\logseq____&quot;,\\n\\t\\t\\t\\t\\t\\logseq____&quot;inode\\logseq____&quot;, pt.ELFInfo.Ino, \\logseq____&quot;pid\\logseq____&quot;, pt.ELFInfo.Pid, \\logseq____&quot;exec\\logseq____&quot;, pt.ELFInfo.CmdExePath)\\n\\t\\t\\t\\tcctx, ok := contexts[pt.ELFInfo.Ino]\\n\\t\\t\\t\\tif !ok {\\n\\t\\t\\t\\t\\tcctx.ctx, cctx.cancel = context.WithCancel(i.ctx)\\n\\t\\t\\t\\t\\tcontexts[pt.ELFInfo.Ino] = cctx\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tgo pt.Run(cctx.ctx, i.tracesInput)\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^Flogseq____&quot;,1851,536870972]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^Xlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^Vlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^Ulogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8163-448e-8b37-28d44127cc6blogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在初始化`ringBufForwarder` (`rbf`)時候，是將`ReadBPFTraceAsSpan` function覆寫到`reader` field。`ReadBPFTraceAsSpan` function負責將ringbuffer的record依照event type，轉化給各式各樣的span。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^Flogseq____&quot;,1860,536870972]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^Xlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^Vlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^Ulogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2948-4f65-9618-6199688ee26elogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1857,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`rbf.processAndForward`中，利用`rbf.reader`將ringbuffer的record轉成span，再把span放在`spans` array的最後面。如果span長度達到batch的上限，則直接flush並更新ticker。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1857,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1857,logseq____&quot;^Flogseq____&quot;,1853,536870972]],[logseq____&quot;^15logseq____&quot;,[1857,logseq____&quot;^Xlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1857,logseq____&quot;^Vlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1857,logseq____&quot;^Ulogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1857,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8e3e-4dbb-8044-40d928ef8eb9logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870972]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^Flogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^Xlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^Vlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^Ulogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^:logseq____&quot;,true,536870972]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870972]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870972]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870972]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-040d-4303-b170-13e5a2c1ba9elogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (p *Tracer) lookForTimeouts(ticker *time.Ticker, eventsChan chanlogseq____&lt;- []request.Span) {\\n\\tfor t := range ticker.C {\\n\\t\\tif p.bpfObjects.OngoingHttp != nil {\\n\\t\\t\\ti := p.bpfObjects.OngoingHttp.Iterate()\\n\\t\\t\\tvar k bpfPidConnectionInfoT\\n\\t\\t\\tvar v bpfHttpInfoT\\n\\t\\t\\tfor i.Next(logseq____&amp;k, logseq____&amp;v) {\\n\\t\\t\\t\\t// Check if we have a lingering request which welogseq____&apos;ve completed, as in it has EndMonotimeNs\\n\\t\\t\\t\\t// but it hasnlogseq____&apos;t been posted yet, likely missed by the logic that looks at finishing requests\\n\\t\\t\\t\\t// where we track the full response. If we havenlogseq____&apos;t updated the EndMonotimeNs in more than some\\n\\t\\t\\t\\t// short interval, we are likely not going to finish this request from eBPF, so letlogseq____&apos;s do it here.\\n\\t\\t\\t\\tif v.EndMonotimeNs != 0 logseq____&amp;logseq____&amp; t.After(kernelTime(v.EndMonotimeNs).Add(2*time.Second)) {\\n\\t\\t\\t\\t\\t// Must use unsafe here, the two bpfHttpInfoTs are the same but generated from different\\n\\t\\t\\t\\t\\t// ebpf2go outputs\\n\\t\\t\\t\\t\\ts, ignore, err := ebpfcommon.HTTPInfoEventToSpan(*(*ebpfcommon.BPFHTTPInfo)(unsafe.Pointer(logseq____&amp;v)))\\n\\t\\t\\t\\t\\tif !ignore logseq____&amp;logseq____&amp; err == nil {\\n\\t\\t\\t\\t\\t\\teventsChan logseq____&lt;- p.pidsFilter.Filter([]request.Span{s})\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tif err := p.bpfObjects.OngoingHttp.Delete(k); err != nil {\\n\\t\\t\\t\\t\\t\\tp.log.Debug(\\logseq____&quot;Error deleting ongoing request\\logseq____&quot;, \\logseq____&quot;error\\logseq____&quot;, err)\\n\\t\\t\\t\\t\\t}\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^Flogseq____&quot;,1861,536870972]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^Xlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^Vlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^Ulogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-bb88-4ba8-bfc0-27c733ff7867logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1860,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (rbf *ringBufForwarder) processAndForward(record ringbuf.Record, spansChan chanlogseq____&lt;- []request.Span) {\\n\\trbf.access.Lock()\\n\\tdefer rbf.access.Unlock()\\n\\ts, ignore, err := rbf.reader(logseq____&amp;record, rbf.filter)\\n\\tif err != nil {\\n\\t\\trbf.logger.Error(\\logseq____&quot;error parsing perf event\\logseq____&quot;, err)\\n\\t\\treturn\\n\\t}\\n\\tif ignore {\\n\\t\\treturn\\n\\t}\\n\\tif !s.IsValid() {\\n\\t\\trbf.logger.Debug(\\logseq____&quot;invalid span\\logseq____&quot;, \\logseq____&quot;span\\logseq____&quot;, s)\\n\\t\\treturn\\n\\t}\\n\\trbf.spans[rbf.spansLen] = s\\n\\t// we need to decorate each span with the tracerlogseq____&apos;s service name\\n\\t// if this information is not forwarded from eBPF\\n\\trbf.spansLen++\\n\\tif rbf.spansLen == rbf.cfg.BatchLength {\\n\\t\\trbf.logger.Debug(\\logseq____&quot;submitting traces after batch is full\\logseq____&quot;, \\logseq____&quot;len\\logseq____&quot;, rbf.spansLen)\\n\\t\\trbf.flushEvents(spansChan)\\n\\t\\tif rbf.ticker != nil {\\n\\t\\t\\trbf.ticker.Reset(rbf.cfg.BatchTimeout)\\n\\t\\t}\\n\\t}\\n}\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1860,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1860,logseq____&quot;^Flogseq____&quot;,1857,536870972]],[logseq____&quot;^15logseq____&quot;,[1860,logseq____&quot;^Xlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1860,logseq____&quot;^Vlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1860,logseq____&quot;^Ulogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1860,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-e967-4924-981f-61cbb5b10ceelogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`Tracer.lookForTimeouts`中，在ticker每隔2秒的時間時，會iterate `OngoingHttp` BPF map的內容，嘗試透過`ebpfcommon.HTTPInfoEventToSpan`將value轉成span，再丟入channel內，而後將key從`OngoingHttp`刪除掉。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^Flogseq____&quot;,1852,536870972]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^Xlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^Vlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^Ulogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-e230-459b-9447-4975067336ealogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;---\\n\\n在`ebpfcommon.SharedRingbuf`最終會呼叫`sharedReadAndForward`，這function主要在user space聆聽ring buffer傳來的trace。會先預先準備`BatchLength`長度的array，並傳給`rbf.readAndForwardInner`執行。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^Flogseq____&quot;,1859,536870972]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^Xlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^Vlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^Ulogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-a77e-41f8-ad6e-ff0848793332logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1863,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1863,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1863,logseq____&quot;^Flogseq____&quot;,1856,536870972]],[logseq____&quot;^15logseq____&quot;,[1863,logseq____&quot;^Xlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1863,logseq____&quot;^Vlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1863,logseq____&quot;^Ulogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1863,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-f4ac-40a3-9060-1773674e013dlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (pt *ProcessTracer) Run(ctx context.Context, out chanlogseq____&lt;- []request.Span) {\\n\\tpt.log = ptlog().With(\\logseq____&quot;path\\logseq____&quot;, pt.ELFInfo.CmdExePath, \\logseq____&quot;pid\\logseq____&quot;, pt.ELFInfo.Pid)\\n\\n\\tpt.log.Debug(\\logseq____&quot;starting process tracer\\logseq____&quot;)\\n\\t// Searches for traceable functions\\n\\ttrcrs, err := pt.tracers()\\n\\tif err != nil {\\n\\t\\tpt.log.Error(\\logseq____&quot;couldnlogseq____&apos;t trace process. Stopping process tracer\\logseq____&quot;, \\logseq____&quot;error\\logseq____&quot;, err)\\n\\t\\treturn\\n\\t}\\n\\n\\tfor _, t := range trcrs {\\n\\t\\tgo t.Run(ctx, out)\\n\\t}\\n\\tgo func() {\\n\\t\\tlogseq____&lt;-ctx.Done()\\n\\t}()\\n}\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^Flogseq____&quot;,1847,536870972]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^Xlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^Vlogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^Ulogseq____&quot;,1846,536870972]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-ed29-46a2-8737-73312602e3d5logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^Klogseq____&quot;,1766477702684,536870974]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^@logseq____&quot;,false,536870974]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;go/abilogseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^Alogseq____&quot;,1870,536870974]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^11logseq____&quot;,logseq____&quot;Go/ABIlogseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870974]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870974]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^Blogseq____&quot;,1766477702684,536870974]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-9d7e-49f2-8ebd-d7169823be1flogseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1871,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; The slice type `[]T` is a sequence of a `*[cap]T` pointer to the slice backing store, an `int` giving the `len` of the slice, and an `int` giving the `cap` of the slice.logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1871,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1871,logseq____&quot;^Flogseq____&quot;,1891,536870974]],[logseq____&quot;^15logseq____&quot;,[1871,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1871,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1871,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1871,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-242b-49af-9e05-41463e75af09logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1872,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;| Register | Call meaning | Return meaning | Body meaning |\\n| ---- | ---- | ---- |\\n| RSP | Stack pointer | Same | Same |\\n| RBP | Frame pointer | Same | Same |\\n| RDX | Closure context pointer | Scratch | Scratch |\\n| R12 | Scratch | Scratch | Scratch |\\n| R13 | Scratch | Scratch | Scratch |\\n| R14 | Current goroutine | Same | Same |\\n| R15 | GOT reference temporary if dynlink | Same | Same |\\n| X15 | Zero value (*) | Same | Scratch |logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1872,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1872,logseq____&quot;^Flogseq____&quot;,1887,536870974]],[logseq____&quot;^15logseq____&quot;,[1872,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1872,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1872,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1872,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8cce-4cb4-8351-544cdbcb378flogseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The amd64 architecture uses the following sequence of 9 registers for integer arguments and results:logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^Flogseq____&quot;,1680,536870974]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-915e-46b2-ba37-feb796bd9a09logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n#define GO_PARAM1(x) ((void*)(x)-logseq____&gt;ax)\\n#define GO_PARAM2(x) ((void*)(x)-logseq____&gt;bx)\\n#define GO_PARAM3(x) ((void*)(x)-logseq____&gt;cx)\\n#define GO_PARAM4(x) ((void*)(x)-logseq____&gt;di)\\n#define GO_PARAM5(x) ((void*)(x)-logseq____&gt;si)\\n#define GO_PARAM6(x) ((void*)(x)-logseq____&gt;r8)\\n#define GO_PARAM7(x) ((void*)(x)-logseq____&gt;r9)\\n#define GO_PARAM8(x) ((void*)(x)-logseq____&gt;r10)\\n#define GO_PARAM9(x) ((void*)(x)-logseq____&gt;r11)\\n\\n// In x86, current goroutine is pointed by r14, according to\\n// https://go.googlesource.com/go/+/refs/heads/dev.regabi/src/cmd/compile/internal-abi.md#amd64-architecture\\n#define GOROUTINE_PTR(x) ((void*)(x)-logseq____&gt;r14)\\n```logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^Flogseq____&quot;,1885,536870974]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-c3f3-4105-ab8f-6a2234275831logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1875,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;| Type | 64-bit |  | 32-bit |  |\\n| ---- | ---- |\\n|  | Size | Align | Size | Align |\\n| int, uint | 8 | 8 | 4 | 4 |logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1875,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1875,logseq____&quot;^Flogseq____&quot;,1888,536870974]],[logseq____&quot;^15logseq____&quot;,[1875,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1875,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1875,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1875,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-6a6d-418c-8d88-5592e14ca586logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1876,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; The `string` type is a sequence of a `*[len]byte` pointer to the string backing store, and an `int` giving the `len` of the string.logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1876,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1876,logseq____&quot;^Flogseq____&quot;,1871,536870974]],[logseq____&quot;^15logseq____&quot;,[1876,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1876,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1876,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1876,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-45f7-4928-9a64-b9a3f68ace47logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## array typelogseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^Flogseq____&quot;,1876,536870974]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870974]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^Jlogseq____&quot;,[],536870974]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-9fac-40b4-a733-3175aa682452logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; The receiver, arguments, and results of function or method F are assigned to registers or the stack using the following algorithm:\\n1. ...\\n2. If F is a method, assign F’s receiver.logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^Flogseq____&quot;,1671,536870974]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-bb52-4ef2-896e-31026965fcc8logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1879,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; The layout of `map`, `chan`, and `func` types is equivalent to *T.logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1879,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1879,logseq____&quot;^Flogseq____&quot;,1895,536870974]],[logseq____&quot;^15logseq____&quot;,[1879,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1879,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1879,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1879,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1371-432a-b96c-c5866d3feefelogseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;The `interface{}` type is a sequence of 1. a pointer to the runtime type description for the interface’s dynamic type and 2. an `unsafe.Pointer` data field. Any other interface type (besides the empty interface) is a sequence of 1. a pointer to the runtime “itab” that gives the method pointers and the type of the data field and 2. an `unsafe.Pointer` data field. An interface can be “direct” or “indirect” depending on the dynamic type: a direct interface stores the value directly in the data field, and an indirect interface stores a pointer to the value in the data field. An interface can only be direct if the value consists of a single pointer word.logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^Flogseq____&quot;,1666,536870974]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-53a2-42fd-ba19-ed2f54068e8elogseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870974]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^Flogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^:logseq____&quot;,true,536870974]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870974]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870974]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870974]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-91c7-47da-b712-2f1b09b7aed7logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://research.swtch.com/interfaceslogseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^Flogseq____&quot;,1889,536870974]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^Vlogseq____&quot;,1889,536870974]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1e42-47d4-99cc-934ce1744c69logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;| Type | 64-bit |  | 32-bit |  |\\n| ---- | ---- |\\n|  | Size | Align | Size | Align |\\n| uintptr, *T, unsafe.Pointer | 8 | 8 | 4 | 4 |logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^Flogseq____&quot;,1647,536870974]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-34d6-43aa-9cca-d9dc45774895logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[Go internal ABI specification](https://tip.golang.org/src/cmd/compile/abi-internal)logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^Flogseq____&quot;,1881,536870974]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-ab22-415f-86df-8f7d36c20b7alogseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1885,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`bpf/headers/utils.h`定義了macro，取得argument以及go routine pointer。logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1885,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1885,logseq____&quot;^Flogseq____&quot;,1872,536870974]],[logseq____&quot;^15logseq____&quot;,[1885,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1885,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1885,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1885,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1297-41f4-b1b1-454c54d66d59logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1886,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nRAX, RBX, RCX, RDI, RSI, R8, R9, R10, R11\\n```logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1886,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1886,logseq____&quot;^Flogseq____&quot;,1873,536870974]],[logseq____&quot;^15logseq____&quot;,[1886,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1886,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1886,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1886,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-02b2-4200-8f58-962a2b199668logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1887,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Special-purpose registers are as follows:logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1887,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1887,logseq____&quot;^Flogseq____&quot;,1886,536870974]],[logseq____&quot;^15logseq____&quot;,[1887,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1887,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1887,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1887,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5f8d-4a84-906a-e6146de6db0elogseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## int typelogseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^Flogseq____&quot;,1884,536870974]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870974]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^Jlogseq____&quot;,[],536870974]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-759a-41fa-a763-8ae67e04fc15logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;參考logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^Flogseq____&quot;,1892,536870974]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-e674-4c90-894e-31af242fc670logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1890,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://go.dev/blog/slices-intrologseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1890,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1890,logseq____&quot;^Flogseq____&quot;,1877,536870974]],[logseq____&quot;^15logseq____&quot;,[1890,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1890,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1890,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1890,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-240b-49b5-9249-4e96aed8da45logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## string typelogseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^Flogseq____&quot;,1879,536870974]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870974]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^Jlogseq____&quot;,[],536870974]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4514-4365-9d9a-51ef3c125c43logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1892,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;第一個pointer是指向vtable，第二個pointer是指向實現interface的structlogseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1892,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1892,logseq____&quot;^Flogseq____&quot;,1880,536870974]],[logseq____&quot;^15logseq____&quot;,[1892,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1892,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1892,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1892,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-bf23-4bbf-9245-47205f2065c7logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1893,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[go/src/runtime/iface.go](https://github.com/golang/go/blob/master/src/runtime/iface.go)logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1893,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1893,logseq____&quot;^Flogseq____&quot;,1882,536870974]],[logseq____&quot;^15logseq____&quot;,[1893,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1893,logseq____&quot;^Vlogseq____&quot;,1889,536870974]],[logseq____&quot;^15logseq____&quot;,[1893,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1893,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-6a9d-4387-b555-a12037252627logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1894,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1894,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1894,logseq____&quot;^Flogseq____&quot;,1874,536870974]],[logseq____&quot;^15logseq____&quot;,[1894,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1894,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1894,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1894,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-3dfa-43b7-8030-b30ce9907b2flogseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## function type\\nid:: 66370734-e368-4c5f-813d-8afd569e965alogseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^Flogseq____&quot;,1878,536870974]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^Xlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^Vlogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^Ulogseq____&quot;,1869,536870974]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370734-e368-4c5f-813d-8afd569e965alogseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870974]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870974]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370734-e368-4c5f-813d-8afd569e965alogseq____&quot;],536870974]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66370734-e368-4c5f-813d-8afd569e965alogseq____&quot;,536870974]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^Klogseq____&quot;,1766477702725,536870975]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^@logseq____&quot;,false,536870975]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;go/internallogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^Alogseq____&quot;,1870,536870975]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^11logseq____&quot;,logseq____&quot;Go/internallogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870975]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^Blogseq____&quot;,1766477702725,536870975]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1c61-44c5-a7e9-b91c2121391elogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nconst (\\n\\t// Maximum number of key/elem pairs a bucket can hold.\\n\\tbucketCntBits = abi.MapBucketCountBits\\n\\tbucketCnt     = abi.MapBucketCount\\n  \\n```logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^Flogseq____&quot;,1907,536870975]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^Xlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^Vlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^Ulogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-6e74-43e5-9b76-160e891ec78dlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1899,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;參考資料logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1899,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1899,logseq____&quot;^Flogseq____&quot;,1904,536870975]],[logseq____&quot;^15logseq____&quot;,[1899,logseq____&quot;^Xlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1899,logseq____&quot;^Vlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1899,logseq____&quot;^Ulogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1899,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-eb5c-44d2-97da-6e6ad0a4aafalogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1900,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;source code: https://go.dev/src/runtime/map.gologseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1900,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1900,logseq____&quot;^Flogseq____&quot;,1501,536870975]],[logseq____&quot;^15logseq____&quot;,[1900,logseq____&quot;^Xlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1900,logseq____&quot;^Vlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1900,logseq____&quot;^Ulogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1900,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-73ee-45a0-8b3d-3ddc8e0f7689logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[Internals of Map in Golang](https://phati-sawant.medium.com/internals-of-map-in-golang-33db6e25b3f8)logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^Flogseq____&quot;,1906,536870975]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^Xlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^Vlogseq____&quot;,1899,536870975]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^Ulogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5f75-4d3b-90ee-aceda3ef8cb5logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1902,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// A bucket for a Go map.\\ntype bmap struct {\\n\\t// tophash generally contains the top byte of the hash value\\n\\t// for each key in this bucket. If tophash[0] logseq____&lt; minTopHash,\\n\\t// tophash[0] is a bucket evacuation state instead.\\n\\ttophash [bucketCnt]uint8\\n\\t// Followed by bucketCnt keys and then bucketCnt elems.\\n\\t// NOTE: packing all the keys together and then all the elems together makes the\\n\\t// code a bit more complicated than alternating key/elem/key/elem/... but it allows\\n\\t// us to eliminate padding which would be needed for, e.g., map[int64]int8.\\n\\t// Followed by an overflow pointer.\\n}\\n```logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1902,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1902,logseq____&quot;^Flogseq____&quot;,1909,536870975]],[logseq____&quot;^15logseq____&quot;,[1902,logseq____&quot;^Xlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1902,logseq____&quot;^Vlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1902,logseq____&quot;^Ulogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1902,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5dcd-4588-9f1d-0f63c855458alogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1903,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nconst (\\n\\tMapBucketCountBits = 3 // log2 of number of elements in a bucket.\\n\\tMapBucketCount     = 1 logseq____&lt;logseq____&lt; MapBucketCountBits\\n...\\n)\\n```logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1903,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1903,logseq____&quot;^Flogseq____&quot;,1525,536870975]],[logseq____&quot;^15logseq____&quot;,[1903,logseq____&quot;^Xlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1903,logseq____&quot;^Vlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1903,logseq____&quot;^Ulogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1903,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-d8d0-44d7-95fc-3e997bc9d6b6logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n\\t// Possible tophash values. We reserve a few possibilities for special marks.\\n\\t// Each bucket (including its overflow buckets, if any) will have either all or none of its\\n\\t// entries in the evacuated* states (except during the evacuate() method, which only happens\\n\\t// during map writes and thus no one else can observe the map during that time).\\n\\temptyRest      = 0 // this cell is empty, and there are no more non-empty cells at higher indexes or overflows.\\n    emptyOne       = 1 // this cell is empty\\n```logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^Flogseq____&quot;,1911,536870975]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^Xlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^Vlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^Ulogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-305f-43a4-9d4f-4d4025c200b2logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1905,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://themsaid.com/map-internals-go-1-24logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1905,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1905,logseq____&quot;^Flogseq____&quot;,1901,536870975]],[logseq____&quot;^15logseq____&quot;,[1905,logseq____&quot;^Xlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1905,logseq____&quot;^Vlogseq____&quot;,1899,536870975]],[logseq____&quot;^15logseq____&quot;,[1905,logseq____&quot;^Ulogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1905,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-6dfb-42d0-b982-02043d2c10d5logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[GopherCon 2016: Keith Randall - Inside the Map Implementation](https://www.youtube.com/watch?v=Tl7mi9QmLns)logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^Flogseq____&quot;,1899,536870975]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^Xlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^Vlogseq____&quot;,1899,536870975]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^Ulogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2833-42b2-9f76-820bafb14bd6logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1907,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;每一個bucket的entry數量上限由`bucketCnt`定義logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1907,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1907,logseq____&quot;^Flogseq____&quot;,1908,536870975]],[logseq____&quot;^15logseq____&quot;,[1907,logseq____&quot;^Xlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1907,logseq____&quot;^Vlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1907,logseq____&quot;^Ulogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1907,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-9d07-435c-afff-495e308666d3logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// A header for a Go map.\\ntype hmap struct {\\n\\t// Note: the format of the hmap is also encoded in cmd/compile/internal/reflectdata/reflect.go.\\n\\t// Make sure this stays in sync with the compilerlogseq____&apos;s definition.\\n\\tcount     int // # live cells == size of map.  Must be first (used by len() builtin)\\n...\\n\\tB         uint8  // log_2 of # of buckets (can hold up to loadFactor * 2^B items)\\n...\\n\\n\\tbuckets    unsafe.Pointer // array of 2^B Buckets. may be nil if count==0.\\n...\\n}\\n\\n```logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^Flogseq____&quot;,1533,536870975]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^Xlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^Vlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^Ulogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-f678-4adb-8e4b-d0dcd0028f2clogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;bucket的主要結構是`bmap`，在struct中只定義了`tophash` member，註解有提到接著是`bucketCnt`個`keys`以及`bucketCnt`個`elems`，最後是`overflow` pointer。\\nid:: 66424a8b-6b55-4842-848e-2c75ef257c7alogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^Flogseq____&quot;,1903,536870975]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^Xlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^Vlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^Ulogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66424a8b-6b55-4842-848e-2c75ef257c7alogseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66424a8b-6b55-4842-848e-2c75ef257c7alogseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66424a8b-6b55-4842-848e-2c75ef257c7alogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870975]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^Flogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^Xlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^Vlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^Ulogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^:logseq____&quot;,true,536870975]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870975]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-fe06-4ce9-b394-f75fe6263956logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`tophash[i]`值是1，則這cell為空值  [參考](https://github.com/golang/go/blob/9050ce9b334419066c364e747499a2faf4425dad/src/runtime/map.go#L87)\\nid:: 66375d2e-4f0d-4bcf-8e29-60920f0b0d00logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^Flogseq____&quot;,1526,536870975]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^Xlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^Vlogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^Ulogseq____&quot;,1897,536870975]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66375d2e-4f0d-4bcf-8e29-60920f0b0d00logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66375d2e-4f0d-4bcf-8e29-60920f0b0d00logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66375d2e-4f0d-4bcf-8e29-60920f0b0d00logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^Klogseq____&quot;,1766477702773,536870976]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^@logseq____&quot;,false,536870976]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;go/netlogseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^Alogseq____&quot;,1870,536870976]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^11logseq____&quot;,logseq____&quot;Go/netlogseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870976]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870976]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^Blogseq____&quot;,1766477702773,536870976]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-364b-4570-8668-f3f50cfee955logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc Server(conn net.Conn, config *Config) *Conn {\\n\\tc := logseq____&amp;Conn{\\n\\t\\tconn:   conn,\\n\\t\\tconfig: config,\\n\\t}\\n\\tc.handshakeFn = c.serverHandshake\\n\\treturn c\\n}\\n\\n```logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^Flogseq____&quot;,1935,536870976]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-51cb-4720-bd3c-181ae29fd32alogseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1915,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// A Conn represents a secured connection.\\n// It implements the net.Conn interface.\\ntype Conn struct {\\n\\t// constant\\n\\tconn        net.Conn\\n\\tisClient    bool\\n\\thandshakeFn func(context.Context) error // (*Conn).clientHandshake or serverHandshake\\n\\tquic        *quicState                  // nil for non-QUIC connections\\n```logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1915,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1915,logseq____&quot;^Flogseq____&quot;,1922,536870976]],[logseq____&quot;^15logseq____&quot;,[1915,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1915,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1915,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1915,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8825-4af6-bfaf-aa891de9ff17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1916,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Server會在 `listener.Accept`被回傳，其中的`c`就是會被傳入`Server` function的`net.Conn`logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1916,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1916,logseq____&quot;^Flogseq____&quot;,1914,536870976]],[logseq____&quot;^15logseq____&quot;,[1916,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1916,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1916,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1916,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-864e-42f4-b033-55dcdf86ff04logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`listener`可以透過[Listen](https://github.com/golang/go/blob/a0da9c00aeb51261b9845a46fbc9878870884ab6/src/crypto/tls/tls.go#L88) function建立，其中的`network`可以選擇`tcp`。logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^Flogseq____&quot;,1933,536870976]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4000-412a-aae1-af2e1c305333logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## [tls.Conn](https://github.com/golang/go/blob/1e12eab8705d1d8d7472be9147a39caa1c8380db/src/crypto/tls/conn.go#L28)logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^Flogseq____&quot;,1931,536870976]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870976]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^Jlogseq____&quot;,[],536870976]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-273d-4d69-9b0b-d29a0f26370alogseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## `tls.Conn`logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^Flogseq____&quot;,1921,536870976]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870976]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^Jlogseq____&quot;,[],536870976]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2683-4d0b-a997-6b3f9ae13cdblogseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1920,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`net.TCPConn`包含一個embed struct `conn`，`conn`就是[net.conn](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/net.go#L166)，也同樣實作`net.Conn` interface。logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1920,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1920,logseq____&quot;^Flogseq____&quot;,1929,536870976]],[logseq____&quot;^15logseq____&quot;,[1920,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1920,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1920,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1920,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-473d-44e7-b872-8ec1f33f1275logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1921,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`ServeConn`其中的參數就是`net.Conn` interface。[tls.Conn](https://github.com/golang/go/blob/1e12eab8705d1d8d7472be9147a39caa1c8380db/src/crypto/tls/conn.go#L28)跟[net.TCPConn](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/tcpsock.go#L112)都有實作`net.Conn` interface，都能夠傳入。logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1921,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1921,logseq____&quot;^Flogseq____&quot;,1923,536870976]],[logseq____&quot;^15logseq____&quot;,[1921,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1921,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1921,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1921,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-6847-490e-8ab9-d49622386635logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1922,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`tls.Conn` struct裡面的`conn`，又是另一個`net.Conn` interface。logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1922,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1922,logseq____&quot;^Flogseq____&quot;,1919,536870976]],[logseq____&quot;^15logseq____&quot;,[1922,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1922,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1922,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1922,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-0db3-40c5-ae95-41132fd2547blogseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1923,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;http2中的[serverConn](https://github.com/golang/net/blob/7fa635bd2621428e6b8528111446dcdd91910203/http2/server.go#L406)會在[ServeConn](https://github.com/golang/go/blob/d6c972ad41043f38bfa31f3c7036e6d8a3361f2d/src/net/http/h2_bundle.go#L4215)被建立，其中有`net.Conn` interface型態的`conn` member。logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1923,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1923,logseq____&quot;^Flogseq____&quot;,1926,536870976]],[logseq____&quot;^15logseq____&quot;,[1923,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1923,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1923,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1923,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7476-4e68-87ac-f541a8e1f5a3logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870976]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^Flogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^:logseq____&quot;,true,536870976]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870976]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870976]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870976]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b469-44e9-be8e-1718ed6706calogseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1925,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// TCPConn is an implementation of the [Conn] interface for TCP network\\n// connections.\\ntype TCPConn struct {\\n\\tconn\\n}\\n```logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1925,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1925,logseq____&quot;^Flogseq____&quot;,1934,536870976]],[logseq____&quot;^15logseq____&quot;,[1925,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1925,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1925,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1925,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-dffd-4447-8b58-945ec99d941elogseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# http2 net.Conn\\nid:: 663efa9b-0732-4601-ab4b-474f1349059clogseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^Flogseq____&quot;,1924,536870976]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;663efa9b-0732-4601-ab4b-474f1349059clogseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870976]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870976]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;663efa9b-0732-4601-ab4b-474f1349059clogseq____&quot;],536870976]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u663efa9b-0732-4601-ab4b-474f1349059clogseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1927,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// A Conn represents a secured connection.\\n// It implements the net.Conn interface.\\ntype Conn struct {\\n\\t// constant\\n\\tconn        net.Conn\\n\\tisClient    bool\\n\\thandshakeFn func(context.Context) error // (*Conn).clientHandshake or serverHandshake\\n\\tquic        *quicState                  // nil for non-QUIC connections\\n    ...\\n}\\n```logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1927,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1927,logseq____&quot;^Flogseq____&quot;,1932,536870976]],[logseq____&quot;^15logseq____&quot;,[1927,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1927,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1927,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1927,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-eb4c-481a-acb4-158cb4232d44logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## `TCPConn`logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^Flogseq____&quot;,1917,536870976]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870976]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^Jlogseq____&quot;,[],536870976]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1f4d-4589-bd70-7cef90076a34logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## [net.TCPConn](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/tcpsock.go#L112)logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^Flogseq____&quot;,1662,536870976]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870976]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^Jlogseq____&quot;,[],536870976]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-e5d0-40d3-acc7-124917b6cc56logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^Flogseq____&quot;,1925,536870976]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-aa10-483b-b178-4ba96a5ad8fblogseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// TCPConn is an implementation of the [Conn] interface for TCP network\\n// connections.\\ntype TCPConn struct {\\n\\tconn\\n}\\n```logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^Flogseq____&quot;,1920,536870976]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5169-4d7f-a570-1c3c3a7a6272logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1932,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`tls.Conn`包含一個`net.Conn` interface `conn`。logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1932,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1932,logseq____&quot;^Flogseq____&quot;,1918,536870976]],[logseq____&quot;^15logseq____&quot;,[1932,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1932,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1932,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1932,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7f33-4174-9ee5-a95b83244920logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1933,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (l *listener) Accept() (net.Conn, error) {\\n\\tc, err := l.Listener.Accept()\\n\\tif err != nil {\\n\\t\\treturn nil, err\\n\\t}\\n\\treturn Server(c, l.config), nil\\n}\\n```logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1933,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1933,logseq____&quot;^Flogseq____&quot;,1916,536870976]],[logseq____&quot;^15logseq____&quot;,[1933,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1933,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1933,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1933,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-16c3-4dd7-8a2a-292af36e872blogseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1934,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`network`是`tcp`，則會在`l.Listener.Accept`回傳實作`net.Conn`的[net.TCPConn](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/tcpsock.go#L112)。`conn`就是[net.conn](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/net.go#L166)，也同樣實作`net.Conn` interface，以embed struct形式在`TCPConn`內。logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1934,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1934,logseq____&quot;^Flogseq____&quot;,1928,536870976]],[logseq____&quot;^15logseq____&quot;,[1934,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1934,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1934,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1934,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-6528-4040-a0a1-223ba5c1fdaflogseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在建立http2 server時，是使用[tls.Server](https://github.com/golang/go/blob/a0da9c00aeb51261b9845a46fbc9878870884ab6/src/crypto/tls/tls.go#L34)建立[tls.Conn](https://github.com/golang/go/blob/1e12eab8705d1d8d7472be9147a39caa1c8380db/src/crypto/tls/conn.go#L28) struct。logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^Flogseq____&quot;,1915,536870976]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^Xlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^Vlogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^Ulogseq____&quot;,1913,536870976]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-41a5-4240-88e3-0b59da9f712flogseq____&quot;,536870976]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## compactor及retentionlogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^Flogseq____&quot;,1946,536870977]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870977]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^Jlogseq____&quot;,[],536870977]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-c23c-4f02-b7af-e2e7f0c6107dlogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1938,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;最佳化chunk使用率logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1938,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1938,logseq____&quot;^Flogseq____&quot;,1983,536870977]],[logseq____&quot;^15logseq____&quot;,[1938,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1938,logseq____&quot;^Vlogseq____&quot;,1983,536870977]],[logseq____&quot;^15logseq____&quot;,[1938,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1938,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-44c6-405c-bacc-9644424be5c5logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;chunk會有多的原因會被flushlogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^Flogseq____&quot;,1962,536870977]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-f946-4790-8b1d-602cbbc157a0logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1940,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果ingester的replica一多，在restart ingester statefulset時候預設會去檢查ingester ring上的健康程度，這時等待單顆ingester可能就會長達10分鐘，這時可以考慮將`ingester.readiness-check-ring-health`改成false，加速ready等待時間到2分鐘。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1940,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1940,logseq____&quot;^Flogseq____&quot;,2001,536870977]],[logseq____&quot;^15logseq____&quot;,[1940,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1940,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1940,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1940,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-14f2-43b5-b3d9-9246f0950c73logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1941,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在ingester restart過程中，distributor仍會向ingester要最新的stream消化程度，其中distributor會每隔`distributor.client-cleanup-period`，更新一次最新的ingester server endpoint，如果時間太長，將會導致distributor有些許的error產生（distributor沒發現ingester還沒ready，但已經把log丟給他）。這時可以考慮把時間調短，從預設的`15s`改成`5s`，更早發現不健康的ingester以免誤送。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1941,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1941,logseq____&quot;^Flogseq____&quot;,1986,536870977]],[logseq____&quot;^15logseq____&quot;,[1941,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1941,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1941,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1941,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-9652-4d75-8d67-6eddeccc01d5logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;ingestion rate limit: 因為label變少導致stream數量變少，變相導致每一條stream送的量變多，這時會遇到ingester的rate limit。這時可以調整limits_config裡面的`per_stream_rate_limit`以及`per_stream_rate_limit_burst`，有global以及每一位loki tenant的runtime config可供調整。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^Flogseq____&quot;,2003,536870977]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1b07-407e-8d5a-ff50fb46d883logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 成效logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^Flogseq____&quot;,1958,536870977]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870977]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^Jlogseq____&quot;,[],536870977]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-72d9-4e79-bf2a-87747f5a39e1logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 目標logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^Flogseq____&quot;,1948,536870977]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870977]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^Jlogseq____&quot;,[],536870977]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-f44d-4485-bbe6-35a4d7fa7539logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1945,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://grafana.com/blog/2023/08/23/how-we-scaled-grafana-cloud-logs-memcached-cluster-to-50tb-and-improved-reliability/logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1945,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1945,logseq____&quot;^Flogseq____&quot;,2004,536870977]],[logseq____&quot;^15logseq____&quot;,[1945,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1945,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1945,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1945,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-a19b-4c06-832c-605378972f1flogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1946,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;調整適當的`querier.max-concurrent`，`querier.tsdb-max-query-parallelism`以及querier的replicas數量。`querier.tsdb-max-query-parallelism`是一個global的queue代表現在等待被處理的subquery，`querier.max-concurrent`代表一個querier能同時處理的的subquery上限，所以querier replicas * `querier.max-concurrent`要大於 `querier.tsdb-max-query-parallelism`才代表query任務能順利被消化。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1946,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1946,logseq____&quot;^Flogseq____&quot;,1992,536870977]],[logseq____&quot;^15logseq____&quot;,[1946,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1946,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1946,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1946,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-27db-45db-aa39-d460130cf894logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1947,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;其中app可以是deplyoment, daemonset名稱，或者是helm chart名稱logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1947,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1947,logseq____&quot;^Flogseq____&quot;,1996,536870977]],[logseq____&quot;^15logseq____&quot;,[1947,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1947,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1947,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1947,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-232e-41c3-aa32-853a5a04aee6logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果stream的label一多，那就非常有可能會遇到max-age問題。另外如果當log的源頭是cronjob或是job的話，就有可能會遇到idle（排程可能一天一次而已）。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^Flogseq____&quot;,1939,536870977]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-9463-42e3-a299-a4aeb4e4f17clogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1949,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;![image.png](../assets/image_1737517693938_0.png)logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1949,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1949,logseq____&quot;^Flogseq____&quot;,1974,536870977]],[logseq____&quot;^15logseq____&quot;,[1949,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1949,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1949,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1949,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-6505-4251-8594-648fe2aac852logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1950,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```yaml\\n    retention_stream:\\n    - selector: logseq____&apos;{cluster=\\logseq____&quot;cluster-prod\\logseq____&quot;, app=\\logseq____&quot;nginx\\logseq____&quot;}logseq____&apos;\\n      period: 168h # 1w\\n      priority: 1\\n    - selector: logseq____&apos;{cluster=\\logseq____&quot;cluster-dev\\logseq____&quot;, app=\\logseq____&quot;nginx\\logseq____&quot;}logseq____&apos;\\n      period: 168h # 1w\\n      priority: 1\\n```logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1950,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1950,logseq____&quot;^Flogseq____&quot;,1980,536870977]],[logseq____&quot;^15logseq____&quot;,[1950,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1950,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1950,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1950,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-d03c-49af-91ed-13f8eace4737logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870977]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^Flogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^:logseq____&quot;,true,536870977]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870977]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870977]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870977]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2991-4128-9a6c-0e1d47689801logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1952,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;object storage遇到429比率近乎於0logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1952,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1952,logseq____&quot;^Flogseq____&quot;,1949,536870977]],[logseq____&quot;^15logseq____&quot;,[1952,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1952,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1952,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1952,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7ba1-4072-be02-5e3eab1f8c36logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1953,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```yaml\\ningester:\\n  replicas: 12\\n  zoneAwareReplication:\\n    zoneA:\\n      extraAffinity:\\n        nodeAffinity:\\n          requiredDuringSchedulingIgnoredDuringExecution:\\n            nodeSelectorTerms:\\n            - matchExpressions:\\n              - key: nodepool\\n                operator: In\\n                values:\\n                - loki\\n              - key: availability-zone\\n                operator: In\\n                values:\\n                - az-1\\n```logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1953,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1953,logseq____&quot;^Flogseq____&quot;,1993,536870977]],[logseq____&quot;^15logseq____&quot;,[1953,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1953,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1953,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1953,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-dbf3-492b-92f1-a48e7c07ae44logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1954,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n{cluster=\\logseq____&quot;dev\\logseq____&quot;, container=\\logseq____&quot;app\\logseq____&quot;, pod=\\logseq____&quot;app-123456\\logseq____&quot;}\\n```logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1954,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1954,logseq____&quot;^Flogseq____&quot;,2007,536870977]],[logseq____&quot;^15logseq____&quot;,[1954,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1954,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1954,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1954,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8501-4caf-b26b-69423cfec981logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```yml\\nchunk_store_config:\\n  chunk_cache_config:\\n    memcached:\\n      batch_size: 3\\n      parallelism: 2\\n    memcached_client:\\n      addresses: 127.0.0.1:11211\\n      timeout: 60s\\n    background:\\n      writeback_goroutines: 1\\n      writeback_buffer: 1000\\n      writeback_size_limit: 500MB\\n```logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^Flogseq____&quot;,1995,536870977]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4a57-4e02-806a-ebeff38569ddlogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## ingester configlogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^Flogseq____&quot;,1999,536870977]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870977]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^Jlogseq____&quot;,[],536870977]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-a414-4e32-9cb2-9841ee19e333logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://github.com/memcached/memcached/wiki/ConfiguringLokiExtstorelogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^Flogseq____&quot;,1945,536870977]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-552f-4477-ad00-38f6461370dblogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```bash\\nexport LOKI_ADDR=logseq____&lt;loki-gatewaylogseq____&gt;\\nexport LOKI_ORG_ID=logseq____&lt;tenant-idlogseq____&gt;\\nlogcli series logseq____&apos;{}logseq____&apos;\\n```logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^Flogseq____&quot;,2002,536870977]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1bc8-4b74-b5bf-bab282b591eelogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## object storagelogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^Flogseq____&quot;,1950,536870977]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870977]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^Jlogseq____&quot;,[],536870977]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-02f8-41d9-85ae-d2386b7a3852logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1960,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果要定時刪掉舊的log，讓index gateway認知到所要查詢的stream不存在的話，可以將`compactor.retention-enabled`設定成true，將`compactor.delete-request-store`指到存放chunk的storage name，並且將`store.retention`設定成預計的上限例如`28d`。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1960,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1960,logseq____&quot;^Flogseq____&quot;,1937,536870977]],[logseq____&quot;^15logseq____&quot;,[1960,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1960,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1960,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1960,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b32d-40e0-a1da-e8b8769dac02logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 背景logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^Flogseq____&quot;,1968,536870977]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870977]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^Jlogseq____&quot;,[],536870977]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-04dc-4364-97ff-ecfcc16d9bf1logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1962,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;chunk寫入的單位是tenant與steam，stream又會細分成多個label，如果stream的label都相同，就會被寫到同一個chunk。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1962,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1962,logseq____&quot;^Flogseq____&quot;,1972,536870977]],[logseq____&quot;^15logseq____&quot;,[1962,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1962,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1962,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1962,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-f3d8-4e74-a325-2c1273a11024logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;force: 當ingester被shutdown時候，裡面的chunk會被強制flushlogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^Flogseq____&quot;,2006,536870977]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^Vlogseq____&quot;,1939,536870977]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8fd2-4147-afc2-b6ad572c4a15logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1964,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;另外在loki config中，設定不要太大的batch size及parallelism，拉高timeout。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1964,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1964,logseq____&quot;^Flogseq____&quot;,2011,536870977]],[logseq____&quot;^15logseq____&quot;,[1964,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1964,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1964,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1964,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-22a7-48ae-8800-36a6831b0f26logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1965,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如[memcached文件所提](https://github.com/memcached/memcached/wiki/ConfiguringLokiExtstore)，讓`ingester.chunk-target-size` 以及在memcached的max item size (`-I`)不要太大，可以設定成`2MB`，同時在memcached加上extstore特別的參數。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1965,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1965,logseq____&quot;^Flogseq____&quot;,1987,536870977]],[logseq____&quot;^15logseq____&quot;,[1965,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1965,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1965,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1965,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2588-46a5-b784-96571a6a8005logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Loki允許設定[named storage](https://grafana.com/docs/loki/latest/configure/#named_stores_config)，如果要schema migration，例如從S3搬到GCS，或是從單一的bucket搬到多個bucket，都可以搭配[storage schema](https://grafana.com/docs/loki/latest/operations/storage/schema/)做到。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^Flogseq____&quot;,2013,536870977]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2f9e-43e9-834c-3e3a5f69bff9logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1967,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用query frontend的metrics去評估絕大部分使用者去query log的range時間，可能是近3小時，一天，又或是一週，利用這段時間加上每小時被寫入多少chunk去估cache size應該要多大。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1967,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1967,logseq____&quot;^Flogseq____&quot;,1969,536870977]],[logseq____&quot;^15logseq____&quot;,[1967,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1967,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1967,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1967,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b7d0-4999-898b-35c853fc71c0logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## memcached tuninglogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^Flogseq____&quot;,2009,536870977]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870977]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^Jlogseq____&quot;,[],536870977]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-c6bc-4e4d-9c33-378696764e10logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 目標logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^Flogseq____&quot;,2010,536870977]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870977]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^Jlogseq____&quot;,[],536870977]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8945-4029-9393-ebc703451ea8logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1970,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;減少object storage訪問次數，降低rate limit發生機會logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1970,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1970,logseq____&quot;^Flogseq____&quot;,1938,536870977]],[logseq____&quot;^15logseq____&quot;,[1970,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1970,logseq____&quot;^Vlogseq____&quot;,1983,536870977]],[logseq____&quot;^15logseq____&quot;,[1970,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1970,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-c3f0-47c8-8d60-290d56f9f5bblogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## chunk writelogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^Flogseq____&quot;,2000,536870977]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870977]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^Jlogseq____&quot;,[],536870977]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b39a-4a1f-81bf-622d9c6dd69blogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 背景logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^Flogseq____&quot;,1971,536870977]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870977]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^Jlogseq____&quot;,[],536870977]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-15f8-42b1-b9b3-b3d60d1e1083logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1973,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nmemcached -m 6000 -I 2m -o ext_path=/disk/extstore:500G,ext_wbuf_size=32,ext_threads=10,ext_max_sleep=10000,slab_automove_freeratio=0.10,ext_recache_rate=0\\n```logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1973,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1973,logseq____&quot;^Flogseq____&quot;,1965,536870977]],[logseq____&quot;^15logseq____&quot;,[1973,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1973,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1973,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1973,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-787b-4750-9d1f-bfe8987886d7logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果label處理得當，將可以讓chunk flush reason為full的比率高達95%以上logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^Flogseq____&quot;,1943,536870977]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-de91-4c97-a411-9b3e9e81ca6flogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1975,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;讓querier拿chunk cache時不會發生timeout，也就不用retry好幾次才去拿object storage裡面的chunk。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1975,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1975,logseq____&quot;^Flogseq____&quot;,1967,536870977]],[logseq____&quot;^15logseq____&quot;,[1975,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1975,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1975,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1975,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-a0a3-40f0-8b07-a6fa2a830a47logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;為ingester啟用WAL機制，並掛載PVC，讓接收到SIGTERM指令的ingester能將正在處理的chunk寫到WAL裡面，重啟之後能把先前的工作撿回來繼續做。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^Flogseq____&quot;,1940,536870977]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8d33-415d-9407-9b1016c2e8edlogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1977,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1977,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1977,logseq____&quot;^Flogseq____&quot;,1955,536870977]],[logseq____&quot;^15logseq____&quot;,[1977,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1977,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1977,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1977,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-d831-4646-98d2-879d02820bdflogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1978,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://grafana.com/blog/2023/12/28/the-concise-guide-to-loki-how-to-get-the-most-out-of-your-query-performance/logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1978,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1978,logseq____&quot;^Flogseq____&quot;,1979,536870977]],[logseq____&quot;^15logseq____&quot;,[1978,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1978,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1978,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1978,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-e4e6-4f28-872c-23f5cc3c44c3logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://grafana.com/blog/2023/12/20/the-concise-guide-to-grafana-loki-everything-you-need-to-know-about-labels/logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^Flogseq____&quot;,1984,536870977]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-f861-443a-a617-7e9ce433c944logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果有特定的stream想做特別的retention處理，可以設定`retention_stream`例如logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^Flogseq____&quot;,1960,536870977]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-cdc8-40fd-bb5a-a1679666013blogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1981,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;THENlogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1981,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1981,logseq____&quot;^Flogseq____&quot;,1954,536870977]],[logseq____&quot;^15logseq____&quot;,[1981,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1981,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1981,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1981,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-aa38-4e19-bf16-8bda69564120logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1982,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果ingester的request duration較長，可以稍微增加`distributor.rate-store.ingester-request-timeout`避免distributor發生錯誤。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1982,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1982,logseq____&quot;^Flogseq____&quot;,1941,536870977]],[logseq____&quot;^15logseq____&quot;,[1982,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1982,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1982,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1982,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-c235-4a88-ba95-bfde6454e870logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1983,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;讓chunk的flush reason盡可能是full，而不是idle跟max agelogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1983,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1983,logseq____&quot;^Flogseq____&quot;,1944,536870977]],[logseq____&quot;^15logseq____&quot;,[1983,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1983,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1983,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1983,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7f1e-42ed-a367-dc3e6703b845logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1984,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## 必讀文章logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1984,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1984,logseq____&quot;^Flogseq____&quot;,1977,536870977]],[logseq____&quot;^15logseq____&quot;,[1984,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1984,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1984,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1984,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870977]],[logseq____&quot;^15logseq____&quot;,[1984,logseq____&quot;^Jlogseq____&quot;,[],536870977]],[logseq____&quot;^15logseq____&quot;,[1984,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-eb83-4de0-947b-9d96b5d0cbf0logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1985,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;![image.png](../assets/image_1737521783152_0.png)logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1985,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1985,logseq____&quot;^Flogseq____&quot;,1952,536870977]],[logseq____&quot;^15logseq____&quot;,[1985,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1985,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1985,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1985,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4e29-4683-8521-b6ac5e3b6455logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1986,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## distributor configlogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1986,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1986,logseq____&quot;^Flogseq____&quot;,1953,536870977]],[logseq____&quot;^15logseq____&quot;,[1986,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1986,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1986,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1986,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870977]],[logseq____&quot;^15logseq____&quot;,[1986,logseq____&quot;^Jlogseq____&quot;,[],536870977]],[logseq____&quot;^15logseq____&quot;,[1986,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b5d6-4e14-a208-280c589a03e6logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1987,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 實現logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1987,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1987,logseq____&quot;^Flogseq____&quot;,1975,536870977]],[logseq____&quot;^15logseq____&quot;,[1987,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1987,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1987,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1987,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870977]],[logseq____&quot;^15logseq____&quot;,[1987,logseq____&quot;^Jlogseq____&quot;,[],536870977]],[logseq____&quot;^15logseq____&quot;,[1987,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-17c5-4b9a-b35d-2887e6028ba3logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1988,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`store.chunks-cache.memcached.timeout`的時間包含去memcached拿key，deserialize轉成loki懂的格式的時間，如果chunk的item size一大，或是batch size大的話會影響timeout時間。預設是`100ms`但強烈建議調整成較高的值例如`60s`。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1988,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1988,logseq____&quot;^Flogseq____&quot;,2008,536870977]],[logseq____&quot;^15logseq____&quot;,[1988,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1988,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1988,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1988,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-3e85-47e9-9e44-24f9f977a0a5logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1989,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;full: 當chunk的size到達 `ingester.chunk-target-size` 就會被flushlogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1989,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1989,logseq____&quot;^Flogseq____&quot;,1939,536870977]],[logseq____&quot;^15logseq____&quot;,[1989,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1989,logseq____&quot;^Vlogseq____&quot;,1939,536870977]],[logseq____&quot;^15logseq____&quot;,[1989,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1989,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8de6-4852-aa6e-76f500d1195blogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1990,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;max-age: 當chunk的時間長度到達 `ingester.max-chunk-age` 但是還沒滿，就會被flushlogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1990,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1990,logseq____&quot;^Flogseq____&quot;,1989,536870977]],[logseq____&quot;^15logseq____&quot;,[1990,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1990,logseq____&quot;^Vlogseq____&quot;,1939,536870977]],[logseq____&quot;^15logseq____&quot;,[1990,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1990,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-9e49-4854-b486-f2f7dc7cf85blogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1991,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;大幅降低ingester的消耗記憶體及需要的replicalogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1991,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1991,logseq____&quot;^Flogseq____&quot;,1970,536870977]],[logseq____&quot;^15logseq____&quot;,[1991,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1991,logseq____&quot;^Vlogseq____&quot;,1983,536870977]],[logseq____&quot;^15logseq____&quot;,[1991,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1991,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-76a5-427e-9ba7-805242581a25logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1992,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;調整適當的`querier.split-queries-by-interval`，query frontend會根據這個數值將query切分成多的subquery進而去執行，如果log量大，可以縮減時間拆分更多subquery讓他們去執行。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1992,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1992,logseq____&quot;^Flogseq____&quot;,2012,536870977]],[logseq____&quot;^15logseq____&quot;,[1992,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1992,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1992,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1992,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7671-4067-b2ef-9fcfba4d9b19logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1993,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;考慮啟用zoneAwareReplication機制，`grafana/loki` helm chart已經針對這個config做上層封裝，管理者只要指定ingester數量以及affinity，就能將不同的ingester分別部到不同的AZ，能有更高可用性的寫入。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1993,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1993,logseq____&quot;^Flogseq____&quot;,1976,536870977]],[logseq____&quot;^15logseq____&quot;,[1993,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1993,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1993,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1993,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-072b-4146-9e35-88034ec6f45elogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1994,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`store.chunks-cache.memcached.batchsize`意思是memcached client一次拿多少個memcached keys，可以設定成memcached server的2倍數量，所以如果memcached server是5台的話可以設定成10。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1994,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1994,logseq____&quot;^Flogseq____&quot;,1964,536870977]],[logseq____&quot;^15logseq____&quot;,[1994,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1994,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1994,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1994,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-89c0-4d39-8790-434bfd004dcalogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1995,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`store.background.write-back-concurrency`代表寫入memcached的go routine數量，建議調整成1，避免太aggresive的寫入memcached，造成一些item被evict。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1995,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1995,logseq____&quot;^Flogseq____&quot;,2015,536870977]],[logseq____&quot;^15logseq____&quot;,[1995,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1995,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1995,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1995,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-353e-4330-9804-35c843cfe9aalogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1996,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n{cluster=\\logseq____&quot;dev\\logseq____&quot;, container=\\logseq____&quot;app\\logseq____&quot;, app=\\logseq____&quot;app\\logseq____&quot;}\\n```logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1996,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1996,logseq____&quot;^Flogseq____&quot;,1981,536870977]],[logseq____&quot;^15logseq____&quot;,[1996,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1996,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1996,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1996,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-281c-42ba-bcdb-56bea004dce2logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1997,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為存放chunk的bucket最外層分成許多tenant的資料夾(prefix)，可以在object storage的lifecycle中，針對特定的prefix去做處理，例如可以預設採用30天的retention，但如果針對特定的短週期tenant的話，再設定成較短的retention例如7天。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1997,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1997,logseq____&quot;^Flogseq____&quot;,1959,536870977]],[logseq____&quot;^15logseq____&quot;,[1997,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1997,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1997,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1997,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-70b1-4c0a-b21b-d69314fe0c2elogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1998,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;直接設定`ingester.chunk-encoding`成`snappy`，雖然不是最大的壓縮比，但是速度較快，壓縮比也能接受，[官方](https://grafana.com/docs/loki/latest/configure/bp-configure/#use-snappy-compression-algorithm)也推薦使用。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1998,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1998,logseq____&quot;^Flogseq____&quot;,1956,536870977]],[logseq____&quot;^15logseq____&quot;,[1998,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1998,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1998,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1998,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-03fc-4a1d-a159-28e165660ce5logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1999,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# Loki operation與tuninglogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1999,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[1999,logseq____&quot;^Flogseq____&quot;,1951,536870977]],[logseq____&quot;^15logseq____&quot;,[1999,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1999,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1999,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[1999,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870977]],[logseq____&quot;^15logseq____&quot;,[1999,logseq____&quot;^Jlogseq____&quot;,[],536870977]],[logseq____&quot;^15logseq____&quot;,[1999,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-210a-437f-81c8-4e3145eb4453logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2000,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```yaml\\n  schemaConfig:\\n    configs:\\n    - from: 2024-12-01\\n      store: tsdb\\n      object_store: shardv1\\n      schema: v13\\n      index:\\n        prefix: loki_index_\\n        period: 24h\\n   storage_config:\\n    named_stores:\\n      aws:\\n        shardv1:\\n          endpoint: logseq____&lt;s3-endpointlogseq____&gt;\\n          bucketnames: loki-shard-0,loki-shard-1\\n          access_key_id: ${ACCESS_KEY_ID}\\n          secret_access_key: ${SECRET_ACCESS_KEY}\\n          insecure: false\\n          signature_version: v4\\n          storage_class: STANDARD\\n          http_config:\\n            idle_conn_timeout: 90s\\n            response_header_timeout: 0s\\n            insecure_skip_verify: false\\n          s3forcepathstyle: true\\n```logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2000,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2000,logseq____&quot;^Flogseq____&quot;,1966,536870977]],[logseq____&quot;^15logseq____&quot;,[2000,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2000,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2000,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2000,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-422f-4b0e-aee6-c2cbf5b74e9flogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2001,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果ingester的資源充足的話，可以考慮將`ingester.max-chunk-age`拉大，除了讓chunk flush reason比較有機會從max-age改成full之外，也連帶增加[out of order write](https://grafana.com/docs/loki/latest/configure/#accept-out-of-order-writes)的寫入時間，讓舊的log有機會被寫入(也要配合log collector的tail log機制)，但應該會增加些許的memory使用。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2001,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2001,logseq____&quot;^Flogseq____&quot;,1998,536870977]],[logseq____&quot;^15logseq____&quot;,[2001,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2001,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2001,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2001,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-f400-466d-8ebc-6036eab6d396logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2002,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;透過`logcli series`可以查到目前的tenant的series有哪些，進而去處理這些labelslogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2002,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2002,logseq____&quot;^Flogseq____&quot;,1947,536870977]],[logseq____&quot;^15logseq____&quot;,[2002,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2002,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2002,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2002,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-de1c-4b9c-8d7e-4b12ce8d6d2elogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2003,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 補充logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2003,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2003,logseq____&quot;^Flogseq____&quot;,1985,536870977]],[logseq____&quot;^15logseq____&quot;,[2003,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2003,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2003,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2003,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870977]],[logseq____&quot;^15logseq____&quot;,[2003,logseq____&quot;^Jlogseq____&quot;,[],536870977]],[logseq____&quot;^15logseq____&quot;,[2003,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-f8ac-4e2f-a56e-8324367bdc3flogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2004,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://grafana.com/blog/2024/05/29/grafana-loki-query-acceleration-how-we-sped-up-queries-without-adding-resources/logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2004,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2004,logseq____&quot;^Flogseq____&quot;,1978,536870977]],[logseq____&quot;^15logseq____&quot;,[2004,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2004,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2004,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2004,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4182-40b7-8a05-aae9b951b3b8logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2005,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;可以在log collector端事前針對loki的label做處理，label盡量採用變化不太的，例如cluster, namespace, container, app等。pod不建議放在label因為他會帶suffix影響chunk flush reason。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2005,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2005,logseq____&quot;^Flogseq____&quot;,2014,536870977]],[logseq____&quot;^15logseq____&quot;,[2005,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2005,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2005,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2005,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4639-4494-a137-1b6135f32a13logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2006,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;idle: 當chunk有長達`ingester.chunks-idle-period`沒有steam被寫入的話，就會被flushlogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2006,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2006,logseq____&quot;^Flogseq____&quot;,1990,536870977]],[logseq____&quot;^15logseq____&quot;,[2006,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2006,logseq____&quot;^Vlogseq____&quot;,1939,536870977]],[logseq____&quot;^15logseq____&quot;,[2006,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2006,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7f6e-4c66-97f1-469690967c25logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2007,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;AS ISlogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2007,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2007,logseq____&quot;^Flogseq____&quot;,2005,536870977]],[logseq____&quot;^15logseq____&quot;,[2007,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2007,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2007,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2007,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5bd0-46cb-a79a-a8c087ffbbb3logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2008,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`store.chunks-cache.memcached.parallelism`目的是同時有多少的go routine是取得memcached keys，盡可能設定愈低的值，但如果網路頻寬允許的話可以拉高。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2008,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2008,logseq____&quot;^Flogseq____&quot;,1994,536870977]],[logseq____&quot;^15logseq____&quot;,[2008,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2008,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2008,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2008,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-99b5-4b60-8407-3dc3185b0914logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2009,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;shard streams: 如果某個stream的log量太大，這時可以考慮採用[shard stream](https://grafana.com/docs/loki/latest/operations/automatic-stream-sharding/)，透過提供預期的stream rate，他會在distributor那邊為每條stream附上新的`__stream_shard__` label，所以理順上這就會變成不同的stream，讓ingester有能力消化。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2009,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2009,logseq____&quot;^Flogseq____&quot;,1942,536870977]],[logseq____&quot;^15logseq____&quot;,[2009,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2009,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2009,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2009,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-bc81-4339-8cce-2f91a683af87logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2010,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;ingester的chunk在被flush前不僅會寫入object storage，也會寫入chunk cache，[這篇文章](https://grafana.com/blog/2023/08/23/how-we-scaled-grafana-cloud-logs-memcached-cluster-to-50tb-and-improved-reliability/)提到Grafana Cloud是使用extstore(SSD)去取代高價的memory，讓memcached能有更多的空間儲存chunk。但預設的memcached config有點太agressive，不太適合extstore使用，所以要做些調整。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2010,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2010,logseq____&quot;^Flogseq____&quot;,1961,536870977]],[logseq____&quot;^15logseq____&quot;,[2010,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2010,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2010,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2010,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2169-4ff5-8b80-f706c0dc39ddlogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2011,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2011,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2011,logseq____&quot;^Flogseq____&quot;,1973,536870977]],[logseq____&quot;^15logseq____&quot;,[2011,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2011,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2011,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2011,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-0c92-488f-bce4-9cb3f3cf7977logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2012,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## querier configlogseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2012,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2012,logseq____&quot;^Flogseq____&quot;,1982,536870977]],[logseq____&quot;^15logseq____&quot;,[2012,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2012,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2012,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2012,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870977]],[logseq____&quot;^15logseq____&quot;,[2012,logseq____&quot;^Jlogseq____&quot;,[],536870977]],[logseq____&quot;^15logseq____&quot;,[2012,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5095-4c02-ab94-4bbf4bed77e4logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2013,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Loki的`s3.buckets`允許一次設定多個bucket，使用逗號隔開，例如`loki-shard-0,loki-shard-1`。將chunk storage拆成多個bucket將可以分流request到多的bucket去，大幅降低發生429的機會。logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2013,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2013,logseq____&quot;^Flogseq____&quot;,1997,536870977]],[logseq____&quot;^15logseq____&quot;,[2013,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2013,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2013,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2013,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7799-488a-890f-42f4bb58c780logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2014,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 實現logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2014,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2014,logseq____&quot;^Flogseq____&quot;,1983,536870977]],[logseq____&quot;^15logseq____&quot;,[2014,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2014,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2014,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2014,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870977]],[logseq____&quot;^15logseq____&quot;,[2014,logseq____&quot;^Jlogseq____&quot;,[],536870977]],[logseq____&quot;^15logseq____&quot;,[2014,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-42c0-4974-8565-52d2906d0e25logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2015,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; Lokilogseq____&apos;s memcache client timeout is measuring the amount of time to *fetch and read and process the entire batch of keys from each host*.logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2015,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2015,logseq____&quot;^Flogseq____&quot;,1988,536870977]],[logseq____&quot;^15logseq____&quot;,[2015,logseq____&quot;^Xlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2015,logseq____&quot;^Vlogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2015,logseq____&quot;^Ulogseq____&quot;,273,536870977]],[logseq____&quot;^15logseq____&quot;,[2015,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b8e7-4fb2-95e7-e063b29b8253logseq____&quot;,536870977]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^Klogseq____&quot;,1766477702968,536870980]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^@logseq____&quot;,false,536870980]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;resource/http2/hpacklogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^Alogseq____&quot;,2065,536870980]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^11logseq____&quot;,logseq____&quot;Resource/http2/HPACKlogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870980]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870980]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^Blogseq____&quot;,1766477702968,536870980]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-bf93-4299-9491-3c335a0688fclogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2066,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b10001010 =logseq____&gt; 0x8clogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2066,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2066,logseq____&quot;^Flogseq____&quot;,2108,536870980]],[logseq____&quot;^15logseq____&quot;,[2066,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2066,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2066,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2066,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-c4ec-44a6-a6ae-b1f688ea4aablogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Literal Header Field Never Indexedlogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^Flogseq____&quot;,2076,536870980]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870980]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^Jlogseq____&quot;,[],536870980]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-54c5-41c6-ac8c-6194eba4ed9blogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2068,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nA string literal representation contains the following fields:\\n- H: A one-bit flag, H, indicating whether or not the octets of the\\n    string are Huffman encoded.\\n- String Length:  The number of octets used to encode the string\\n    literal, encoded as an integer with a 7-bit prefix\\n- String Data:  The encoded data of the string literal.  If H is logseq____&apos;0logseq____&apos;,\\n    then the encoded data is the raw octets of the string literal.  If\\n    H is logseq____&apos;1logseq____&apos;, then the encoded data is the Huffman encoding of the\\n    string literal.\\n```logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2068,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2068,logseq____&quot;^Flogseq____&quot;,2089,536870980]],[logseq____&quot;^15logseq____&quot;,[2068,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2068,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2068,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2068,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-72ce-4103-ad3a-610aa0069734logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2069,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b(0100 0000) =logseq____&gt; 0x40logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2069,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2069,logseq____&quot;^Flogseq____&quot;,2096,536870980]],[logseq____&quot;^15logseq____&quot;,[2069,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2069,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2069,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2069,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-bea8-44bf-a587-61d8a7992f83logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2070,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;1st 8 -logseq____&gt; 1000: Enable Huffman Encodinglogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2070,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2070,logseq____&quot;^Flogseq____&quot;,2090,536870980]],[logseq____&quot;^15logseq____&quot;,[2070,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2070,logseq____&quot;^Vlogseq____&quot;,2090,536870980]],[logseq____&quot;^15logseq____&quot;,[2070,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2070,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-f7b0-4eb9-b4d6-6131c972dde1logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2071,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2071,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2071,logseq____&quot;^Flogseq____&quot;,2091,536870980]],[logseq____&quot;^15logseq____&quot;,[2071,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2071,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2071,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2071,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b531-4a66-a790-76197fca8847logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## String literal encodinglogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^Flogseq____&quot;,2111,536870980]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870980]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^Jlogseq____&quot;,[],536870980]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5495-47ed-b699-d844cac034cclogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870980]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^Flogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^:logseq____&quot;,true,536870980]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870980]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870980]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870980]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-d88d-4836-bf7c-47c6dd4a10d9logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n0   1   2   3   4   5   6   7\\n +---+---+---+---+---+---+---+---+\\n | H |    String Length (7+)     |\\n +---+---------------------------+\\n |  String Data (Length octets)  |\\n +-------------------------------+\\n- Figure 4: String Literal Representation\\n```logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^Flogseq____&quot;,2072,536870980]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-9d08-4a7a-a117-b99519488eaalogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`traceparent`: `10884d83216b1d85a93f00`logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^Flogseq____&quot;,2086,536870980]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^Vlogseq____&quot;,1588,536870980]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-612b-4278-9b4c-649ab8890de2logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2076,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b(0000 0000) =logseq____&gt; (0x00)logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2076,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2076,logseq____&quot;^Flogseq____&quot;,2097,536870980]],[logseq____&quot;^15logseq____&quot;,[2076,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2076,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2076,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2076,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-ea88-4ee9-8ea4-c7f122fbddf7logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2077,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2077,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2077,logseq____&quot;^Flogseq____&quot;,2101,536870980]],[logseq____&quot;^15logseq____&quot;,[2077,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2077,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2077,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2077,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-d098-46e3-85f8-f6ef8d648c8alogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`traceparent` example\\nid:: 6642508b-09e2-4aee-b7a1-55a28a2b7631logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^Flogseq____&quot;,2112,536870980]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6642508b-09e2-4aee-b7a1-55a28a2b7631logseq____&quot;],536870980]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870980]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6642508b-09e2-4aee-b7a1-55a28a2b7631logseq____&quot;],536870980]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u6642508b-09e2-4aee-b7a1-55a28a2b7631logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2079,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b10001010 =logseq____&gt; 0x8c Huffman encoding + name lengthlogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2079,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2079,logseq____&quot;^Flogseq____&quot;,2088,536870980]],[logseq____&quot;^15logseq____&quot;,[2079,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2079,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2079,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2079,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-36f4-4170-b1fa-b8f47773ed31logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`01001` + `101100` + `00011` + `00100` + `00101` + `101011` + `00011` + `101100` + `00101` + `101010` + `01001` =logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^Flogseq____&quot;,2078,536870980]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-f38d-406c-90ff-04c73b069202logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2081,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;1st 8 -logseq____&gt; 1000: Enable Huffman Encodinglogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2081,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2081,logseq____&quot;^Flogseq____&quot;,2066,536870980]],[logseq____&quot;^15logseq____&quot;,[2081,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2081,logseq____&quot;^Vlogseq____&quot;,2066,536870980]],[logseq____&quot;^15logseq____&quot;,[2081,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2081,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-24c6-4e94-b525-c8a526990bc5logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;pad the rest of bits to 1logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^Flogseq____&quot;,2090,536870980]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-c9f9-4020-ac93-7ef473e1260blogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2083,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// encodeTypeByte returns type byte. If sensitive is true, type byte\\n// for \\logseq____&quot;Never Indexed\\logseq____&quot; representation is returned. If sensitive is\\n// false and indexing is true, type byte for \\logseq____&quot;Incremental Indexing\\logseq____&quot;\\n// representation is returned. Otherwise, type byte for \\logseq____&quot;Without\\n// Indexing\\logseq____&quot; is returned.\\nfunc encodeTypeByte(indexing, sensitive bool) byte {\\n\\tif sensitive {\\n\\t\\treturn 0x10\\n\\t}\\n\\tif indexing {\\n\\t\\treturn 0x40\\n\\t}\\n\\treturn 0\\n}\\n```logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2083,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2083,logseq____&quot;^Flogseq____&quot;,2092,536870980]],[logseq____&quot;^15logseq____&quot;,[2083,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2083,logseq____&quot;^Vlogseq____&quot;,1588,536870980]],[logseq____&quot;^15logseq____&quot;,[2083,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2083,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5a6b-473f-80ad-2a752c80c431logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2084,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`www.example.com`: `408cf1e3c2e5f23a6ba0ab90f4ff00`logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2084,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2084,logseq____&quot;^Flogseq____&quot;,2087,536870980]],[logseq____&quot;^15logseq____&quot;,[2084,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2084,logseq____&quot;^Vlogseq____&quot;,1588,536870980]],[logseq____&quot;^15logseq____&quot;,[2084,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2084,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-bc1f-4f5b-bfef-cc8d4d4b8ae1logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2085,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`www.example.com` examplelogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2085,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2085,logseq____&quot;^Flogseq____&quot;,2094,536870980]],[logseq____&quot;^15logseq____&quot;,[2085,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2085,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2085,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2085,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-a4d5-47d6-9121-8315ce810ff1logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2086,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`www.example.com`: `108cf1e3c2e5f23a6ba0ab90f4ff00`logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2086,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2086,logseq____&quot;^Flogseq____&quot;,2116,536870980]],[logseq____&quot;^15logseq____&quot;,[2086,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2086,logseq____&quot;^Vlogseq____&quot;,1588,536870980]],[logseq____&quot;^15logseq____&quot;,[2086,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2086,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1772-47a5-b72e-1fb7c592dec4logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2087,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;header field is not sensitive (incremental index):logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2087,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2087,logseq____&quot;^Flogseq____&quot;,2075,536870980]],[logseq____&quot;^15logseq____&quot;,[2087,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2087,logseq____&quot;^Vlogseq____&quot;,1588,536870980]],[logseq____&quot;^15logseq____&quot;,[2087,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2087,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7b99-47a9-89a4-4763e4e11cfflogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2088,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b(0001 0000) =logseq____&gt; 0x10logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2088,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2088,logseq____&quot;^Flogseq____&quot;,2110,536870980]],[logseq____&quot;^15logseq____&quot;,[2088,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2088,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2088,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2088,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-77b6-42e3-ad8a-a622e403e399logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2089,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2089,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2089,logseq____&quot;^Flogseq____&quot;,2074,536870980]],[logseq____&quot;^15logseq____&quot;,[2089,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2089,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2089,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2089,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1022-458e-a7c6-247b9794ba5dlogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2090,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b10001000 =logseq____&gt; 0x88logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2090,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2090,logseq____&quot;^Flogseq____&quot;,2095,536870980]],[logseq____&quot;^15logseq____&quot;,[2090,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2090,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2090,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2090,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5955-4195-a02a-87d022870eb0logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2091,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;f1e3 c2e5 f23a 6ba0 ab90 f4fflogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2091,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2091,logseq____&quot;^Flogseq____&quot;,2099,536870980]],[logseq____&quot;^15logseq____&quot;,[2091,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2091,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2091,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2091,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-bbe5-45b1-a85b-9c19f414b68dlogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2092,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[encode.go - Go (opensource.google)](https://cs.opensource.google/go/x/net/+/refs/tags/v0.29.0:http2/hpack/encode.go;l=232)logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2092,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2092,logseq____&quot;^Flogseq____&quot;,2106,536870980]],[logseq____&quot;^15logseq____&quot;,[2092,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2092,logseq____&quot;^Vlogseq____&quot;,1588,536870980]],[logseq____&quot;^15logseq____&quot;,[2092,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2092,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5591-4419-a5fe-24864c68516blogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2093,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n     0   1   2   3   4   5   6   7\\n   +---+---+---+---+---+---+---+---+\\n   | 0 | 1 |           0           |\\n   +---+---+-----------------------+\\n   | H |     Name Length (7+)      |\\n   +---+---------------------------+\\n   |  Name String (Length octets)  |\\n   +---+---------------------------+\\n   | H |     Value Length (7+)     |\\n   +---+---------------------------+\\n   | Value String (Length octets)  |\\n   +-------------------------------+\\n\\n   Figure 7: Literal Header Field with Incremental Indexing -- New Name\\n```logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2093,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2093,logseq____&quot;^Flogseq____&quot;,2098,536870980]],[logseq____&quot;^15logseq____&quot;,[2093,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2093,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2093,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2093,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-f0d3-4271-916a-91a08c5c64dalogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2094,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2094,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2094,logseq____&quot;^Flogseq____&quot;,2082,536870980]],[logseq____&quot;^15logseq____&quot;,[2094,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2094,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2094,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2094,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5511-4e4a-b417-75fd14715e2blogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2095,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0x(88 4D 83 21 6B 1D 85 A9 3F)logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2095,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2095,logseq____&quot;^Flogseq____&quot;,2077,536870980]],[logseq____&quot;^15logseq____&quot;,[2095,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2095,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2095,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2095,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b4a6-47aa-a25f-3187664b491flogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2096,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;New name for `www.example.com` =logseq____&gt;logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2096,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2096,logseq____&quot;^Flogseq____&quot;,2093,536870980]],[logseq____&quot;^15logseq____&quot;,[2096,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2096,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2096,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2096,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5324-4a6a-9592-47d5ce18cd04logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2097,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0x(f1 e3 c2 e5 f2 3a 6b a0 ab 90 f4 ff) name stringlogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2097,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2097,logseq____&quot;^Flogseq____&quot;,2109,536870980]],[logseq____&quot;^15logseq____&quot;,[2097,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2097,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2097,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2097,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-3a05-4044-81eb-228333186167logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2098,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Literal Header Field with Incremental Indexinglogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2098,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2098,logseq____&quot;^Flogseq____&quot;,2068,536870980]],[logseq____&quot;^15logseq____&quot;,[2098,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2098,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2098,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2098,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870980]],[logseq____&quot;^15logseq____&quot;,[2098,logseq____&quot;^Jlogseq____&quot;,[],536870980]],[logseq____&quot;^15logseq____&quot;,[2098,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b6b4-4b7e-9035-e54b8316c2b9logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2099,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;1111 0001, 1110 0011, 1100 0010, 1110 0101, 1111 0010, 0011 1010, 0110 1011, 1010 0000, 1010 1011, 1001 0000, 1111 0100, 1111 1111logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2099,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2099,logseq____&quot;^Flogseq____&quot;,2117,536870980]],[logseq____&quot;^15logseq____&quot;,[2099,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2099,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2099,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2099,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4d8c-4d8e-ba43-5d14dadaa7felogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2100,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;2nd 8-logseq____&gt; Number of octets to represent encoding `traceparent`logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2100,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2100,logseq____&quot;^Flogseq____&quot;,2070,536870980]],[logseq____&quot;^15logseq____&quot;,[2100,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2100,logseq____&quot;^Vlogseq____&quot;,2090,536870980]],[logseq____&quot;^15logseq____&quot;,[2100,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2100,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-a87e-4741-99e2-e6db55dbc584logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2101,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;4D 83 21 6B 1D 85 A9 3Flogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2101,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2101,logseq____&quot;^Flogseq____&quot;,2104,536870980]],[logseq____&quot;^15logseq____&quot;,[2101,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2101,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2101,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2101,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1091-4c2b-8cbd-2099f715f4e2logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2102,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n     0   1   2   3   4   5   6   7\\n   +---+---+---+---+---+---+---+---+\\n   | 0 | 0 | 0 | 1 |       0       |\\n   +---+---+-----------------------+\\n   | H |     Name Length (7+)      |\\n   +---+---------------------------+\\n   |  Name String (Length octets)  |\\n   +---+---------------------------+\\n   | H |     Value Length (7+)     |\\n   +---+---------------------------+\\n   | Value String (Length octets)  |\\n   +-------------------------------+\\n\\n         Figure 11: Literal Header Field Never Indexed -- New Name\\n```logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2102,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2102,logseq____&quot;^Flogseq____&quot;,2067,536870980]],[logseq____&quot;^15logseq____&quot;,[2102,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2102,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2102,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2102,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-1ded-467f-a374-79b6af4b492dlogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2103,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Huffman Encodinglogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2103,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2103,logseq____&quot;^Flogseq____&quot;,2115,536870980]],[logseq____&quot;^15logseq____&quot;,[2103,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2103,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2103,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2103,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870980]],[logseq____&quot;^15logseq____&quot;,[2103,logseq____&quot;^Jlogseq____&quot;,[],536870980]],[logseq____&quot;^15logseq____&quot;,[2103,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-8b1d-4c17-8854-38b3a2e989a3logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2104,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`0100 1101, 1000 0011, 0010 0001, 0110 1011, 0001 1101, 1000 0101, 1010 1001, 0011 1111`logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2104,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2104,logseq____&quot;^Flogseq____&quot;,2080,536870980]],[logseq____&quot;^15logseq____&quot;,[2104,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2104,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2104,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2104,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2130-40a1-a3d8-769a8f8665c6logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2105,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;1st c -logseq____&gt;Number of octets to represent encoding `www.example.com`logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2105,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2105,logseq____&quot;^Flogseq____&quot;,2081,536870980]],[logseq____&quot;^15logseq____&quot;,[2105,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2105,logseq____&quot;^Vlogseq____&quot;,2066,536870980]],[logseq____&quot;^15logseq____&quot;,[2105,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2105,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-5e98-481d-8b31-f1479a57e3e3logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2106,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\npackage main\\nimport \\logseq____&quot;golang.org/x/net/http2/hpack\\logseq____&quot;\\nimport \\logseq____&quot;bytes\\logseq____&quot;\\nimport \\logseq____&quot;fmt\\logseq____&quot;\\nimport \\logseq____&quot;encoding/hex\\logseq____&quot;\\n\\nfunc main() {\\n  buf := new(bytes.Buffer)\\n  encoder := hpack.NewEncoder(buf)\\n  header := \\logseq____&quot;traceparent\\logseq____&quot;\\n  encoder.WriteField(hpack.HeaderField{Name: header})\\n  hexBuf := hex.EncodeToString(buf.Bytes())\\n  fmt.Println(hexBuf)\\n}\\n```logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2106,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2106,logseq____&quot;^Flogseq____&quot;,1588,536870980]],[logseq____&quot;^15logseq____&quot;,[2106,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2106,logseq____&quot;^Vlogseq____&quot;,1588,536870980]],[logseq____&quot;^15logseq____&quot;,[2106,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2106,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-b288-4392-b9e5-586d77f82abelogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2107,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0x(f1 e3 c2 e5 f2 3a 6b a0 ab 90 f4 ff) name stringlogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2107,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2107,logseq____&quot;^Flogseq____&quot;,2079,536870980]],[logseq____&quot;^15logseq____&quot;,[2107,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2107,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2107,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2107,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-7b50-4586-ab2f-fb7de9c6befelogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2108,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0x(8c f1 e3 c2 e5 f2 3a 6b a0 ab 90 f4 ff)logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2108,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2108,logseq____&quot;^Flogseq____&quot;,2071,536870980]],[logseq____&quot;^15logseq____&quot;,[2108,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2108,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2108,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2108,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-2a5c-4e44-bc27-b86d4e0b216alogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2109,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b(10001010) =logseq____&gt; 0x8c Huffman encoding + name lengthlogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2109,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2109,logseq____&quot;^Flogseq____&quot;,2069,536870980]],[logseq____&quot;^15logseq____&quot;,[2109,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2109,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2109,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2109,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-efa6-4cc4-b1ac-2a4659ad7984logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2110,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;New name for `www.example.com` =logseq____&gt;logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2110,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2110,logseq____&quot;^Flogseq____&quot;,2102,536870980]],[logseq____&quot;^15logseq____&quot;,[2110,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2110,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2110,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2110,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-4a26-4dba-8776-f4227611fd70logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2111,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## [spec]([RFC 7541 - HPACK: Header Compression for HTTP/2 (ietf.org)](https://datatracker.ietf.org/doc/html/rfc7541))logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2111,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2111,logseq____&quot;^Flogseq____&quot;,2073,536870980]],[logseq____&quot;^15logseq____&quot;,[2111,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2111,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2111,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2111,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870980]],[logseq____&quot;^15logseq____&quot;,[2111,logseq____&quot;^Jlogseq____&quot;,[],536870980]],[logseq____&quot;^15logseq____&quot;,[2111,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-a2a9-42fa-9530-24392c632050logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2112,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[table](https://datatracker.ietf.org/doc/html/rfc7541#appendix-B)logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2112,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2112,logseq____&quot;^Flogseq____&quot;,2103,536870980]],[logseq____&quot;^15logseq____&quot;,[2112,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2112,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2112,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2112,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-3aa2-4259-8c02-9e50f36f13fclogseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2113,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;pad the rest of bits to 1logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2113,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2113,logseq____&quot;^Flogseq____&quot;,2066,536870980]],[logseq____&quot;^15logseq____&quot;,[2113,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2113,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2113,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2113,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-3578-4848-892b-b69feede52d3logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2114,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`traceparent`: `40884d83216b1d85a93f00`logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2114,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2114,logseq____&quot;^Flogseq____&quot;,2084,536870980]],[logseq____&quot;^15logseq____&quot;,[2114,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2114,logseq____&quot;^Vlogseq____&quot;,1588,536870980]],[logseq____&quot;^15logseq____&quot;,[2114,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2114,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-df64-43cc-91c2-2dba7f47c994logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2115,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b0000 0000 =logseq____&gt; 0x00logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2115,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2115,logseq____&quot;^Flogseq____&quot;,2107,536870980]],[logseq____&quot;^15logseq____&quot;,[2115,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2115,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2115,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2115,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-341d-4145-8c17-089a4a6b12c6logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2116,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;header field is sensitive (never index):logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2116,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2116,logseq____&quot;^Flogseq____&quot;,2083,536870980]],[logseq____&quot;^15logseq____&quot;,[2116,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2116,logseq____&quot;^Vlogseq____&quot;,1588,536870980]],[logseq____&quot;^15logseq____&quot;,[2116,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2116,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-c577-4111-b846-7e15a3582f89logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2117,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`1111000` + `1111000` + `1111000` + `010111` + `00101` + `1111001` + `00011` + `101001` + `101011` + `101000` + `00101` + `010111` + `00100` + `00111` + `101001`logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2117,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2117,logseq____&quot;^Flogseq____&quot;,2085,536870980]],[logseq____&quot;^15logseq____&quot;,[2117,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2117,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2117,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2117,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-d027-4faa-932d-68d2bb719a97logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2118,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2118,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870980]],[logseq____&quot;^15logseq____&quot;,[2118,logseq____&quot;^Flogseq____&quot;,2113,536870980]],[logseq____&quot;^15logseq____&quot;,[2118,logseq____&quot;^Xlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2118,logseq____&quot;^Vlogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2118,logseq____&quot;^Ulogseq____&quot;,2064,536870980]],[logseq____&quot;^15logseq____&quot;,[2118,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u694a4f86-d7e5-4db1-b84a-dffe2034af1blogseq____&quot;,536870980]]]]]]"</script>
 <script>window.logseq_state="{:ui/theme \"light\", :ui/radix-color :blue, :config {\"local\" {:shortcuts {}, :default-templates {:journals \"\"}, :query/views {:pprint (fn [r] [:pre.code (pprint r)])}, :macros {}, :shortcut/doc-mode-enter-for-new-block? false, :favorites [], :ui/show-empty-bullets? false, :file/name-format :triple-lowbar, :preferred-workflow :now, :ref/default-open-blocks-level 2, :feature/enable-block-timestamps? false, :start-of-week 6, :ref/linked-references-collapsed-threshold 50, :outliner/block-title-collapse-enabled? false, :commands [], :ui/show-full-blocks? false, :meta/version 1, :hidden [], :default-queries {:journals [{:title \"🔨 NOW\", :query [:find (pull ?h [*]) :in $ ?start ?today :where [?h :block/marker ?marker] [(contains? #{\"NOW\" \"DOING\"} ?marker)] [?h :block/page ?p] [?p :block/journal? true] [?p :block/journal-day ?d] [(>= ?d ?start)] [(<= ?d ?today)]], :inputs [:14d :today], :result-transform (fn [result] (sort-by (fn [h] (get h :block/priority \"Z\")) result)), :group-by-page? false, :collapsed? false} {:title \"📅 NEXT\", :query [:find (pull ?h [*]) :in $ ?start ?next :where [?h :block/marker ?marker] [(contains? #{\"NOW\" \"LATER\" \"TODO\"} ?marker)] [?h :block/page ?p] [?p :block/journal? true] [?p :block/journal-day ?d] [(> ?d ?start)] [(< ?d ?next)]], :inputs [:today :7d-after], :group-by-page? false, :collapsed? false}]}, :ui/auto-expand-block-refs? true, :ui/enable-tooltip? true, :query/result-transforms {:sort-by-priority (fn [result] (sort-by (fn [h] (get h :block/priority \"Z\")) result))}, :property-pages/enabled? true, :block/content-max-length 10000, :ui/show-command-doc? true, :feature/enable-search-remove-accents? true}}}"</script>
 <script type="text/javascript">// Single Page Apps for GitHub Pages
      // https://github.com/rafgraph/spa-github-pages
      // Copyright (c) 2016 Rafael Pedicini, licensed under the MIT License
      // ----------------------------------------------------------------------
      // This script checks to see if a redirect is present in the query string
      // and converts it back into the correct url and adds it to the
      // browser's history using window.history.replaceState(...),
      // which won't cause the browser to attempt to load the new url.
      // When the single page app is loaded further down in this file,
      // the correct url will be waiting in the browser's history for
      // the single page app to route accordingly.
      (function(l) {
        if (l.search) {
          var q = {};
          l.search.slice(1).split('&').forEach(function(v) {
            var a = v.split('=');
            q[a[0]] = a.slice(1).join('=').replace(/~and~/g, '&');
          });
          if (q.p !== undefined) {
            window.history.replaceState(null, null,
              l.pathname.slice(0, -1) + (q.p || '') +
              (q.q ? ('?' + q.q) : '') +
              l.hash
            );
          }
        }
      }(window.location))</script>
 <script src="static/js/react.production.min.js"></script>
 <script src="static/js/react-dom.production.min.js"></script>
 <script src="static/js/ui.js"></script>
 <script src="static/js/main.js"></script>
 <script src="static/js/interact.min.js"></script>
 <script src="static/js/highlight.min.js"></script>
 <script src="static/js/katex.min.js"></script>
 <script src="static/js/html2canvas.min.js"></script>
 <script src="static/js/code-editor.js"></script>
 <script src="static/js/custom.js"></script>
</body>

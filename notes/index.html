<!DOCTYPE html>
<head><meta charset="utf-8"></meta>
 <meta content="minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no" name="viewport"></meta>
 <link type="text/css" href="static/css/tabler-icons.min.css" rel="stylesheet"></link>
 <link type="text/css" href="static/css/style.css" rel="stylesheet"></link>
 <link type="text/css" href="static/css/custom.css" rel="stylesheet"></link>
 <link type="text/css" href="static/css/export.css" rel="stylesheet"></link>
 <link href="static/img/logo.png" type="image/png" rel="shortcut icon"></link>
 <link href="static/img/logo.png" sizes="192x192" rel="shortcut icon"></link>
 <link href="static/img/logo.png" rel="apple-touch-icon"></link>
 <meta name="apple-mobile-web-app-title"></meta>
 <meta name="apple-mobile-web-app-capable" content="yes"></meta>
 <meta name="apple-touch-fullscreen" content="yes"></meta>
 <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"></meta>
 <meta name="mobile-web-app-capable" content="yes"></meta>
 <meta property="og:title"></meta>
 <meta content="site" property="og:type"></meta>
  <meta content="static/img/logo.png" property="og:image"></meta>
 <meta property="og:description"></meta>
 <title></title>
 <meta property="og:site_name"></meta>
 <meta></meta>
</head>
 <body><div id="root"></div>
 <script>window.logseq_db="[logseq____&quot;~#datascript/DBlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:schemalogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:ast/versionlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:file/contentlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/properties-text-valueslogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/aliaslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:db/valueTypelogseq____&quot;,logseq____&quot;~:db.type/reflogseq____&quot;,logseq____&quot;~:db/cardinalitylogseq____&quot;,logseq____&quot;~:db.cardinality/manylogseq____&quot;],logseq____&quot;~:block/pre-block?logseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/uuidlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:db/uniquelogseq____&quot;,logseq____&quot;~:db.unique/identitylogseq____&quot;],logseq____&quot;~:block/prioritylogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/propertieslogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/journal?logseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/namespacelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;],logseq____&quot;~:block/updated-atlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/repeated?logseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:db/typelogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:file/handlelogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/leftlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;~:db/indexlogseq____&quot;,true],logseq____&quot;~:block/refslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^8logseq____&quot;,logseq____&quot;^9logseq____&quot;],logseq____&quot;~:block/scheduledlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/properties-orderlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/created-atlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/deadlinelogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/collapsed?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^Glogseq____&quot;,true],logseq____&quot;~:block/journal-daylogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/formatlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/tagslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^8logseq____&quot;,logseq____&quot;^9logseq____&quot;],logseq____&quot;~:block/contentlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:recent/pageslogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/macroslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^8logseq____&quot;,logseq____&quot;^9logseq____&quot;],logseq____&quot;~:db/identlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^logseq____&lt;logseq____&quot;,logseq____&quot;^=logseq____&quot;],logseq____&quot;~:block/path-refslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^8logseq____&quot;,logseq____&quot;^9logseq____&quot;],logseq____&quot;~:block/parentlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^Glogseq____&quot;,true],logseq____&quot;~:block/typelogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/pagelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^Glogseq____&quot;,true],logseq____&quot;~:block/namelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^logseq____&lt;logseq____&quot;,logseq____&quot;^=logseq____&quot;],logseq____&quot;~:file/pathlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^logseq____&lt;logseq____&quot;,logseq____&quot;^=logseq____&quot;],logseq____&quot;~:block/filelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;],logseq____&quot;~:block/markerlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/original-namelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^logseq____&lt;logseq____&quot;,logseq____&quot;^=logseq____&quot;],logseq____&quot;~:schema/versionlogseq____&quot;,[logseq____&quot;^ logseq____&quot;]],logseq____&quot;~:datomslogseq____&quot;,[logseq____&quot;~#listlogseq____&quot;,[[logseq____&quot;~#datascript/Datomlogseq____&quot;,[1,logseq____&quot;^12logseq____&quot;,2,536870913]],[logseq____&quot;^15logseq____&quot;,[240,logseq____&quot;^Klogseq____&quot;,1753899318948,536870921]],[logseq____&quot;^15logseq____&quot;,[240,logseq____&quot;^@logseq____&quot;,false,536870921]],[logseq____&quot;^15logseq____&quot;,[240,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;grafana/lokilogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[240,logseq____&quot;^Alogseq____&quot;,241,536870921]],[logseq____&quot;^15logseq____&quot;,[240,logseq____&quot;^11logseq____&quot;,logseq____&quot;Grafana/Lokilogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[240,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:publiclogseq____&quot;,true],536870972]],[logseq____&quot;^15logseq____&quot;,[240,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870972]],[logseq____&quot;^15logseq____&quot;,[240,logseq____&quot;^Blogseq____&quot;,1753899318948,536870921]],[logseq____&quot;^15logseq____&quot;,[240,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-0117-4073-9dc7-48d0759646dclogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1355,logseq____&quot;^Tlogseq____&quot;,logseq____&quot;query (namespace [[Beyla]] )logseq____&quot;,536870956]],[logseq____&quot;^15logseq____&quot;,[1356,logseq____&quot;^Tlogseq____&quot;,logseq____&quot;query (namespace [[Career]] )logseq____&quot;,536870956]],[logseq____&quot;^15logseq____&quot;,[1357,logseq____&quot;^Tlogseq____&quot;,logseq____&quot;query (namespace [[Go]] )logseq____&quot;,536870956]],[logseq____&quot;^15logseq____&quot;,[1359,logseq____&quot;^Klogseq____&quot;,1753899320816,536870957]],[logseq____&quot;^15logseq____&quot;,[1359,logseq____&quot;^Ologseq____&quot;,logseq____&quot;~:markdownlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1359,logseq____&quot;^@logseq____&quot;,false,536870957]],[logseq____&quot;^15logseq____&quot;,[1359,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beylalogseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1359,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beylalogseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1359,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870957]],[logseq____&quot;^15logseq____&quot;,[1359,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870957]],[logseq____&quot;^15logseq____&quot;,[1359,logseq____&quot;^Blogseq____&quot;,1753899320816,536870957]],[logseq____&quot;^15logseq____&quot;,[1359,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-3205-415a-8bcd-c2a101c4ced6logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;~:block/invalid-propertieslogseq____&quot;,[logseq____&quot;~#setlogseq____&quot;,[]],536870957]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;^Flogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;^Xlogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;^Vlogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;^Ulogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;^:logseq____&quot;,true,536870957]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870957]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870957]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870957]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-c98d-4fc8-b0d7-24ad6465b3e3logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1361,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Referencelogseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1361,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1361,logseq____&quot;^Flogseq____&quot;,1360,536870957]],[logseq____&quot;^15logseq____&quot;,[1361,logseq____&quot;^Xlogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1361,logseq____&quot;^Vlogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1361,logseq____&quot;^Ulogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1361,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:headinglogseq____&quot;,2],536870957]],[logseq____&quot;^15logseq____&quot;,[1361,logseq____&quot;^Jlogseq____&quot;,[],536870957]],[logseq____&quot;^15logseq____&quot;,[1361,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-37d7-4e8f-9ad3-89e3ab5e6ff7logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1362,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;{{query (namespace [[Go]] )}}logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1362,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1362,logseq____&quot;^Flogseq____&quot;,1361,536870957]],[logseq____&quot;^15logseq____&quot;,[1362,logseq____&quot;^Slogseq____&quot;,1357,536870957]],[logseq____&quot;^15logseq____&quot;,[1362,logseq____&quot;^Xlogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1362,logseq____&quot;^Vlogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1362,logseq____&quot;^Ulogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1362,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-6096-494b-90af-e84a93c28e9clogseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1363,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;{{query (namespace [[http2]] )}}logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1363,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1363,logseq____&quot;^Flogseq____&quot;,1362,536870957]],[logseq____&quot;^15logseq____&quot;,[1363,logseq____&quot;^Slogseq____&quot;,1365,536870957]],[logseq____&quot;^15logseq____&quot;,[1363,logseq____&quot;^Xlogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1363,logseq____&quot;^Vlogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1363,logseq____&quot;^Ulogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1363,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-167b-474a-9778-6553d891f38blogseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1364,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1364,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1364,logseq____&quot;^Flogseq____&quot;,1363,536870957]],[logseq____&quot;^15logseq____&quot;,[1364,logseq____&quot;^Xlogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1364,logseq____&quot;^Vlogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1364,logseq____&quot;^Ulogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1364,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-d2d2-43cf-aadf-296c5ff046f6logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1365,logseq____&quot;^Tlogseq____&quot;,logseq____&quot;query (namespace [[http2]] )logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1367,logseq____&quot;^Klogseq____&quot;,1753899320907,536870958]],[logseq____&quot;^15logseq____&quot;,[1367,logseq____&quot;^@logseq____&quot;,false,536870958]],[logseq____&quot;^15logseq____&quot;,[1367,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/elflogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1367,logseq____&quot;^Alogseq____&quot;,1359,536870958]],[logseq____&quot;^15logseq____&quot;,[1367,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/ELFlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1367,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870958]],[logseq____&quot;^15logseq____&quot;,[1367,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1367,logseq____&quot;^Blogseq____&quot;,1753899320907,536870958]],[logseq____&quot;^15logseq____&quot;,[1367,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-69ca-47d8-86f7-1c484123d13flogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1368,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### structMemberOffsetsFromDwarf\\nid:: 662e8b82-7db2-4753-b84c-8bdde48f5eb2logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1368,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1368,logseq____&quot;^Flogseq____&quot;,1432,536870958]],[logseq____&quot;^15logseq____&quot;,[1368,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1368,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1368,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1368,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:idlogseq____&quot;,logseq____&quot;662e8b82-7db2-4753-b84c-8bdde48f5eb2logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870958]],[logseq____&quot;^15logseq____&quot;,[1368,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1368,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;662e8b82-7db2-4753-b84c-8bdde48f5eb2logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1368,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u662e8b82-7db2-4753-b84c-8bdde48f5eb2logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1369,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`findGoSymbolTable`讀兩個ELF中的section，分別是`.gopclntab`及`.text`。pclntab代表program counter line table，[GoReSym blog](https://cloud.google.com/blog/topics/threat-intelligence/golang-internals-symbol-recovery)提及logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1369,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1369,logseq____&quot;^Flogseq____&quot;,1370,536870958]],[logseq____&quot;^15logseq____&quot;,[1369,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1369,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1369,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1369,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-d3ee-4d0a-9dd7-9af44604b3c1logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1370,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### findGoSymbolTable\\nid:: 66362a69-0c2d-4c47-9945-43c5f2233c72logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1370,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1370,logseq____&quot;^Flogseq____&quot;,1402,536870958]],[logseq____&quot;^15logseq____&quot;,[1370,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1370,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1370,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1370,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66362a69-0c2d-4c47-9945-43c5f2233c72logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870958]],[logseq____&quot;^15logseq____&quot;,[1370,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1370,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66362a69-0c2d-4c47-9945-43c5f2233c72logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1370,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66362a69-0c2d-4c47-9945-43c5f2233c72logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1371,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`InspectOffsets`使用 ((66362f79-8e32-40d1-85e7-a3c1bddb16d1)) 找到被instrumented的function的開始及return位址，並使用 ((66363aad-2a1d-4514-9317-4edbf5a06ba6)) 找到struct中，特定field的位址。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1371,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1371,logseq____&quot;^Flogseq____&quot;,1389,536870958]],[logseq____&quot;^15logseq____&quot;,[1371,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1371,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1371,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1371,logseq____&quot;^Hlogseq____&quot;,1384,536870958]],[logseq____&quot;^15logseq____&quot;,[1371,logseq____&quot;^Hlogseq____&quot;,1427,536870958]],[logseq____&quot;^15logseq____&quot;,[1371,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-e344-4c0a-aca6-4a0bffc0b4bblogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1372,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;以`net.Listen`為例，他所在的Segment是編號1的section，對照 ((66313fb8-efd1-4424-85ea-6c485b25888b)) 也就是 text section，他在text section中的偏差為`578d60`。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1372,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1372,logseq____&quot;^Flogseq____&quot;,1406,536870958]],[logseq____&quot;^15logseq____&quot;,[1372,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1372,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1372,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1372,logseq____&quot;^Hlogseq____&quot;,1414,536870958]],[logseq____&quot;^15logseq____&quot;,[1372,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-3cb8-4682-9f6c-1a995a72de01logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1373,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n  LOAD           0x0000000000000000 0x0000000000400000 0x0000000000400000\\n                 0x000000000025fb60 0x000000000025fb60  R E    0x1000\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1373,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1373,logseq____&quot;^Flogseq____&quot;,1387,536870958]],[logseq____&quot;^15logseq____&quot;,[1373,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1373,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1373,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1373,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-bea3-4548-af8e-fc2971c9fd43logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1374,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# struct member offset\\nid:: 66313365-7bb8-4b8d-9264-1761f7c4181elogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1374,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1374,logseq____&quot;^Flogseq____&quot;,1376,536870958]],[logseq____&quot;^15logseq____&quot;,[1374,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1374,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1374,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1374,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313365-7bb8-4b8d-9264-1761f7c4181elogseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870958]],[logseq____&quot;^15logseq____&quot;,[1374,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1374,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313365-7bb8-4b8d-9264-1761f7c4181elogseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1374,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66313365-7bb8-4b8d-9264-1761f7c4181elogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1375,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### FindExeSymbols\\nid:: 663636de-6569-44d7-99df-dc7b1a67b96blogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1375,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1375,logseq____&quot;^Flogseq____&quot;,1409,536870958]],[logseq____&quot;^15logseq____&quot;,[1375,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1375,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1375,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1375,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;663636de-6569-44d7-99df-dc7b1a67b96blogseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870958]],[logseq____&quot;^15logseq____&quot;,[1375,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1375,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;663636de-6569-44d7-99df-dc7b1a67b96blogseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1375,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u663636de-6569-44d7-99df-dc7b1a67b96blogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1376,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1376,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1376,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870958]],[logseq____&quot;^15logseq____&quot;,[1376,logseq____&quot;^Flogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1376,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1376,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1376,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1376,logseq____&quot;^:logseq____&quot;,true,536870958]],[logseq____&quot;^15logseq____&quot;,[1376,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870958]],[logseq____&quot;^15logseq____&quot;,[1376,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1376,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1376,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-0c9d-45ca-8f40-736629d18990logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1377,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;可以看到有9個segment，section與segment的mapping關係被描述在下方。如編號3的segment，就包含`.text`,`.plt`,`interp`,`note.go.buildid`sections。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1377,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1377,logseq____&quot;^Flogseq____&quot;,1421,536870958]],[logseq____&quot;^15logseq____&quot;,[1377,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1377,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1377,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1377,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-1083-4a42-849d-25d0cdbfc970logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1378,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在golang中，struct在ELF中的symbol name定義在[go asm相關文件](https://go.dev/doc/asm#symbols)中logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1378,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1378,logseq____&quot;^Flogseq____&quot;,1437,536870958]],[logseq____&quot;^15logseq____&quot;,[1378,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1378,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1378,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1378,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-c055-4c58-8a67-0d089ecea980logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1379,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### findReturnOffssets\\nid:: 66363677-1e61-445d-b207-8c8ffcd447a8logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1379,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1379,logseq____&quot;^Flogseq____&quot;,1428,536870958]],[logseq____&quot;^15logseq____&quot;,[1379,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1379,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1379,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1379,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363677-1e61-445d-b207-8c8ffcd447a8logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870958]],[logseq____&quot;^15logseq____&quot;,[1379,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1379,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363677-1e61-445d-b207-8c8ffcd447a8logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1379,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66363677-1e61-445d-b207-8c8ffcd447a8logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1380,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[- The Go Programming Language](https://go.dev/src/debug/gosym/symtab.go)logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1380,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1380,logseq____&quot;^Flogseq____&quot;,1404,536870958]],[logseq____&quot;^15logseq____&quot;,[1380,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1380,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1380,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1380,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-a2b8-4085-b85b-21de2f706f62logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1381,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`FindExeSymbols`列舉出全部的`symbols`以及 `dymsym`(參考 ((66313f65-4e1c-4cd0-b665-9ddddea8a66b)) )，並找尋symbol的address(`S.Value`)落在[`prog.Vaddr`, `prog.Vaddr+prog.Memsz`]的program header (參考 ((66313e73-e4ae-45e3-962e-7a891863f090)))。`s.Value-prog.Vaddr`將會是function在記憶體中，相較於segment的值，再加上segment本身的偏差`prog.Off`，即是function在記憶體中的位址`address`。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1381,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1381,logseq____&quot;^Flogseq____&quot;,1375,536870958]],[logseq____&quot;^15logseq____&quot;,[1381,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1381,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1381,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1381,logseq____&quot;^Hlogseq____&quot;,1392,536870958]],[logseq____&quot;^15logseq____&quot;,[1381,logseq____&quot;^Hlogseq____&quot;,1398,536870958]],[logseq____&quot;^15logseq____&quot;,[1381,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-4537-42be-b8bb-7936e5b7aef7logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1382,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;類似輸出logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1382,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1382,logseq____&quot;^Flogseq____&quot;,1422,536870958]],[logseq____&quot;^15logseq____&quot;,[1382,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1382,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1382,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1382,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-a483-4e69-825e-dd1bf9c9f761logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1383,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[Go at Google: Language Design in the Service of Software Engineering - The Go Programming Language](https://go.dev/talks/2012/splash.article)logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1383,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1383,logseq____&quot;^Flogseq____&quot;,1438,536870958]],[logseq____&quot;^15logseq____&quot;,[1383,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1383,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1383,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1383,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-4f6b-4a04-b06b-0297315475ablogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1384,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### instrumentationPoints\\nid:: 66362f79-8e32-40d1-85e7-a3c1bddb16d1logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1384,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1384,logseq____&quot;^Flogseq____&quot;,1386,536870958]],[logseq____&quot;^15logseq____&quot;,[1384,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1384,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1384,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1384,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66362f79-8e32-40d1-85e7-a3c1bddb16d1logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870958]],[logseq____&quot;^15logseq____&quot;,[1384,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1384,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66362f79-8e32-40d1-85e7-a3c1bddb16d1logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1384,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66362f79-8e32-40d1-85e7-a3c1bddb16d1logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1385,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`findReturnOffssets` function會在給定的data中，找尋那些instruction是`RET`的位址logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1385,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1385,logseq____&quot;^Flogseq____&quot;,1379,536870958]],[logseq____&quot;^15logseq____&quot;,[1385,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1385,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1385,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1385,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-b5e2-44a9-9597-6e805e507163logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1386,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;有了`.gopclntab`及`.text`就能夠取得golang的symbol table。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1386,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1386,logseq____&quot;^Flogseq____&quot;,1416,536870958]],[logseq____&quot;^15logseq____&quot;,[1386,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1386,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1386,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1386,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-c1c1-4c77-b4fd-90ffa0795760logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1387,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;過濾掉type不是LOAD而且FLAGS沒有**X(可執行)**屬性program header，剩下編號3的program header，logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1387,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1387,logseq____&quot;^Flogseq____&quot;,1399,536870958]],[logseq____&quot;^15logseq____&quot;,[1387,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1387,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1387,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1387,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-a273-453f-9502-48494ee2cb48logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1388,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;The table is used to map a virtual memory address back to the nearest symbol name to generate stack traces with function and file names. ... For symbol recovery purposes, the pclntab is important because it stores function names, function start and end addresses, file names, and more.logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1388,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1388,logseq____&quot;^Flogseq____&quot;,1369,536870958]],[logseq____&quot;^15logseq____&quot;,[1388,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1388,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1388,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1388,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-c549-4a51-8c2d-0ce26e580100logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1389,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### InspectOffsetslogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1389,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1389,logseq____&quot;^Flogseq____&quot;,1415,536870958]],[logseq____&quot;^15logseq____&quot;,[1389,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1389,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1389,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1389,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870958]],[logseq____&quot;^15logseq____&quot;,[1389,logseq____&quot;^Jlogseq____&quot;,[],536870958]],[logseq____&quot;^15logseq____&quot;,[1389,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-fbbe-4fe7-89ec-7edc5fbac2a6logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1390,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nThere are 36 section headers, starting at offset 0x238:\\n\\nSection Headers:\\n  [Nr] Name              Type             Address           Offset\\n       Size              EntSize          Flags  Link  Info  Align\\n  [ 0]                   NULL             0000000000000000  00000000\\n       0000000000000000  0000000000000000           0     0     0\\n  [ 1] .text             PROGBITS         0000000000401000  00001000\\n       000000000025e8f6  0000000000000000  AX       0     0     32\\n  [ 2] .plt              PROGBITS         000000000065f900  0025f900\\n       0000000000000260  0000000000000010  AX       0     0     16\\n  [ 3] .rodata           PROGBITS         0000000000660000  00260000\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1390,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1390,logseq____&quot;^Flogseq____&quot;,1425,536870958]],[logseq____&quot;^15logseq____&quot;,[1390,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1390,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1390,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1390,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-f57a-4ce1-bdd9-9abe15d0306dlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1391,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;In Go object files and binaries, the full name of a symbol is the package path followed by a period and the symbol name: `fmt.Printf` or `math/rand.Int`.logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1391,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1391,logseq____&quot;^Flogseq____&quot;,1378,536870958]],[logseq____&quot;^15logseq____&quot;,[1391,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1391,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1391,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1391,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-165b-401b-9189-06768e4fa14clogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;取得程式的segment (program header)\\nid:: 66313e73-e4ae-45e3-962e-7a891863f090logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^Flogseq____&quot;,1431,536870958]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313e73-e4ae-45e3-962e-7a891863f090logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313e73-e4ae-45e3-962e-7a891863f090logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66313e73-e4ae-45e3-962e-7a891863f090logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```bash\\nreadelf -S pingserver\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^Flogseq____&quot;,1414,536870958]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-6e43-4f41-b204-490f70160547logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;對照[`prog.Vaddr`, `prog.Vaddr+prog.Memsz`]，這個section在vaddr的範圍是[0x400000,0x65fb60]。因為`.text` section 落在編號3 segment，所以全部的symbol都會在編號3 segment中。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^Flogseq____&quot;,1373,536870958]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-f199-4cd5-9b69-ae771f9a3a75logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1395,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`findFuncOffset`中，透過給定的function，嘗試在program header中找到符合的segment，找尋function在記憶體中位置的方法與前面一致。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1395,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1395,logseq____&quot;^Flogseq____&quot;,1412,536870958]],[logseq____&quot;^15logseq____&quot;,[1395,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1395,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1395,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1395,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-3b85-4192-b1ef-b9b41caf7c28logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1396,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;註：[這裡](https://stackoverflow.com/questions/40237321/find-functions-start-offset-in-elf)提到使用text section的vaddr及offset，與symbol自己的vaddr，經過類似的計算，能得到symbol在記憶體中的位址。因為text section在某一個segment中，所以text section與segment的差都會是固定的，如編號3 segment的vaddr是0x400000，而`.text` section的vaddr是0x401000，兩者差為0x1000，所以在計算`address = s.Value - prog.Vaddr + prog.Off`時候，一減再一加同一個差，對結果不會有改變。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1396,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1396,logseq____&quot;^Flogseq____&quot;,1403,536870958]],[logseq____&quot;^15logseq____&quot;,[1396,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1396,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1396,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1396,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-eeef-4b16-8405-93d28df2f299logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;類似結果logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^Flogseq____&quot;,1420,536870958]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-e10c-489f-ba4b-ab7295cf6ccalogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1398,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;取得 `.symtab` 及 `.dynsym`\\nid:: 66313f65-4e1c-4cd0-b665-9ddddea8a66blogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1398,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1398,logseq____&quot;^Flogseq____&quot;,1443,536870958]],[logseq____&quot;^15logseq____&quot;,[1398,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1398,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1398,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1398,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313f65-4e1c-4cd0-b665-9ddddea8a66blogseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1398,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1398,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313f65-4e1c-4cd0-b665-9ddddea8a66blogseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1398,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66313f65-4e1c-4cd0-b665-9ddddea8a66blogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1399,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nElf file type is EXEC (Executable file)\\nEntry point 0x46f360\\nThere are 9 program headers, starting at offset 64\\n\\nProgram Headers:\\n  Type           Offset             VirtAddr           PhysAddr\\n                 FileSiz            MemSiz              Flags  Align\\n  PHDR           0x0000000000000040 0x0000000000400040 0x0000000000400040\\n                 0x00000000000001f8 0x00000000000001f8  R      0x1000\\n  INTERP         0x0000000000000fe4 0x0000000000400fe4 0x0000000000400fe4\\n                 0x000000000000001c 0x000000000000001c  R      0x1\\n      [Requesting program interpreter: /lib64/ld-linux-x86-64.so.2]\\n  NOTE           0x0000000000000f80 0x0000000000400f80 0x0000000000400f80\\n                 0x0000000000000064 0x0000000000000064  R      0x4\\n  LOAD           0x0000000000000000 0x0000000000400000 0x0000000000400000\\n                 0x000000000025fb60 0x000000000025fb60  R E    0x1000\\n  LOAD           0x0000000000260000 0x0000000000660000 0x0000000000660000\\n                 0x0000000000270878 0x0000000000270878  R      0x1000\\n  LOAD           0x00000000004d1000 0x00000000008d1000 0x00000000008d1000\\n                 0x0000000000034c00 0x00000000000a3f70  RW     0x1000\\n  DYNAMIC        0x00000000004d1200 0x00000000008d1200 0x00000000008d1200\\n                 0x0000000000000120 0x0000000000000120  RW     0x8\\n  TLS            0x0000000000000000 0x0000000000000000 0x0000000000000000\\n                 0x0000000000000000 0x0000000000000008  R      0x8\\n  GNU_STACK      0x0000000000000000 0x0000000000000000 0x0000000000000000\\n                 0x0000000000000000 0x0000000000000000  RW     0x8\\n\\n Section to Segment mapping:\\n  Segment Sections...\\n   00     \\n   01     .interp \\n   02     .note.go.buildid \\n   03     .text .plt .interp .note.go.buildid \\n   04     .rodata .rela .rela.plt .gnu.version .gnu.version_r .hash .dynstr .dynsym .typelink .itablink .gosymtab .gopclntab \\n   05     .go.buildinfo .dynamic .got.plt .got .noptrdata .data .bss .noptrbss \\n   06     .dynamic \\n   07     .tbss \\n   08  \\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1399,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1399,logseq____&quot;^Flogseq____&quot;,1377,536870958]],[logseq____&quot;^15logseq____&quot;,[1399,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1399,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1399,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1399,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-e5c0-4f7d-bf96-d4bc32570714logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;There are many interesting uses of pc-value tables. The most obvious is mapping program counter to line number, but another use is to generate a pcsp table recording the stack frame size at each program counter, so that stack unwinding can always determine where the current frame ends and the next one begins.logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^Flogseq____&quot;,1419,536870958]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-64cc-4b86-935c-b861affab739logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\naddresses[s.Name] = Sym{Off: address, Len: s.Size, Prog: p}\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^Flogseq____&quot;,1418,536870958]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-bd61-4176-94b7-03a4298800b0logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc handleStaticSymbol(fName string, allOffsets map[string]FuncOffsets, allSyms map[string]exec.Sym, ilog *slog.Logger) {\\n\\ts, ok := allSyms[fName]\\n\\n\\tif ok logseq____&amp;logseq____&amp; s.Prog != nil {\\n\\t\\tdata := make([]byte, s.Len)\\n\\t\\t_, err := s.Prog.ReadAt(data, int64(s.Off-s.Prog.Off))\\n\\t\\tif err != nil {\\n\\t\\t\\tilog.Error(\\logseq____&quot;error reading instructions for symbol\\logseq____&quot;, \\logseq____&quot;symbol\\logseq____&quot;, fName, \\logseq____&quot;error\\logseq____&quot;, err)\\n\\t\\t\\treturn\\n\\t\\t}\\n\\n\\t\\treturns, err := findReturnOffssets(s.Off, data)\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^Flogseq____&quot;,1417,536870958]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-a19f-4da9-b45e-fe7b6e6317c4logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^Flogseq____&quot;,1394,536870958]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-3955-42ca-8578-6198982f0372logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## 延伸閱讀logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^Flogseq____&quot;,1371,536870958]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870958]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^Jlogseq____&quot;,[],536870958]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-8295-4f74-b308-02170588ebc3logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1405,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc findReturnOffssets(baseOffset uint64, data []byte) ([]uint64, error) {\\n\\tvar returnOffsets []uint64\\n\\tindex := 0\\n\\tfor index logseq____&lt; len(data) {\\n\\t\\tinstruction, err := x86asm.Decode(data[index:], 64)\\n\\t\\tif err != nil {\\n\\t\\t\\treturn nil, fmt.Errorf(\\logseq____&quot;failed to decode x64 instruction at offset %d: %w\\logseq____&quot;, index, err)\\n\\t\\t}\\n\\n\\t\\tif instruction.Op == x86asm.RET {\\n\\t\\t\\treturnOffsets = append(returnOffsets, baseOffset+uint64(index))\\n\\t\\t}\\n\\n\\t\\tindex += instruction.Len\\n\\t}\\n\\n\\treturn returnOffsets, nil\\n}\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1405,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1405,logseq____&quot;^Flogseq____&quot;,1385,536870958]],[logseq____&quot;^15logseq____&quot;,[1405,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1405,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1405,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1405,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-d8fb-4973-9940-704dde67de39logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```bash\\nreadelf --symbols pingserver | grep logseq____&apos; FUNC logseq____&apos;\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^Flogseq____&quot;,1398,536870958]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-ed87-42f1-b225-2ead108a439blogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1407,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;可以看到URL的offset為16，跟`TestGoOffsetsFromDwarf`預期中的一樣。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1407,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1407,logseq____&quot;^Flogseq____&quot;,1441,536870958]],[logseq____&quot;^15logseq____&quot;,[1407,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1407,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1407,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1407,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-0b74-48b1-8c6b-3ded11fa722dlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nHex dump of section logseq____&apos;.go.buildinfologseq____&apos;:\\n  0x008d1000 ff20476f 20627569 6c64696e 663a0802 . Go buildinf:..\\n  0x008d1010 00000000 00000000 00000000 00000000 ................\\n  0x008d1020 08676f31 2e32322e 30bd0330 77af0c92 .go1.22.0..0w...\\n  0x008d1030 74080241 e1c107e6 d618e670 61746809 t..A.......path.\\n  0x008d1040 67697468 75622e63 6f6d2f67 72616661 github.com/grafa\\n  0x008d1050 6e612f62 65796c61 2f746573 742f636d na/beyla/test/cm\\n  0x008d1060 642f7069 6e677365 72766572 0a6d6f64 d/pingserver.mod\\n  0x008d1070 09676974 6875622e 636f6d2f 67726166 .github.com/graf\\n  0x008d1080 616e612f 6265796c 61092864 6576656c ana/beyla.(devel\\n  0x008d1090 29090a62 75696c64 092d6275 696c646d )..build.-buildm\\n...\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^Flogseq____&quot;,1382,536870958]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-8b14-4e7e-b4bd-65c6146bc9c3logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# function offsetlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^Flogseq____&quot;,1440,536870958]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870958]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^Jlogseq____&quot;,[],536870958]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-df2a-42ba-88dd-da7bd4f9639blogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1410,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;驗證`structMemberOffsetsFromDwarf`邏輯:logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1410,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1410,logseq____&quot;^Flogseq____&quot;,1430,536870958]],[logseq____&quot;^15logseq____&quot;,[1410,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1410,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1410,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1410,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-71c8-4f43-85fd-2527d99a12bflogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1411,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`prog.ReadAt`會將此prog第`int64(f.Value)-prog.Vaddr`的地方，讀data的大小(即`funcLen`)到data裡面。之後並使用 ((66363677-1e61-445d-b207-8c8ffcd447a8)) 找尋function的return address。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1411,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1411,logseq____&quot;^Flogseq____&quot;,1395,536870958]],[logseq____&quot;^15logseq____&quot;,[1411,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1411,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1411,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1411,logseq____&quot;^Hlogseq____&quot;,1379,536870958]],[logseq____&quot;^15logseq____&quot;,[1411,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-e542-4f9f-9bd3-fcd2b3901009logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### findFuncOffset\\nid:: 66363762-097f-4143-9900-5897436d2563logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^Flogseq____&quot;,1396,536870958]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363762-097f-4143-9900-5897436d2563logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870958]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363762-097f-4143-9900-5897436d2563logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66363762-097f-4143-9900-5897436d2563logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果ELF沒有debug相關的section (DWARF)，beyla會從預先取得的`prefetchedOffsets`中取得。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^Flogseq____&quot;,1435,536870958]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-87dd-458c-8128-d26cf597e553logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;取得程式的section header\\nid:: 66313fb8-efd1-4424-85ea-6c485b25888blogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^Flogseq____&quot;,1401,536870958]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313fb8-efd1-4424-85ea-6c485b25888blogseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313fb8-efd1-4424-85ea-6c485b25888blogseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66313fb8-efd1-4424-85ea-6c485b25888blogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;先使用 ((66362a69-0c2d-4c47-9945-43c5f2233c72)) 取得 go symbol table (`symTab`)，如果ELF中沒有`.gosymtab` section (`gosyms`)，這個ELF為static link的binary，使用 ((663636de-6569-44d7-99df-dc7b1a67b96b)) 拿到一般的ELF symbol。接著遍歷`symTab`每個symbol，如果symbol name在`functions`內，那這symbol就是我們關心且要被instrumented的，這時分成兩個情境，如果`gosyms`不存在，使用 ((66363656-fd97-4825-a3ca-f11d31e3249d)) 找到這個symbol的offset，否則使用 ((66363762-097f-4143-9900-5897436d2563)) 尋找，function的開始及return的位址最終存放在`allOffsets`中。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Flogseq____&quot;,1424,536870958]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Hlogseq____&quot;,1370,536870958]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Hlogseq____&quot;,1375,536870958]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Hlogseq____&quot;,1412,536870958]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Hlogseq____&quot;,1439,536870958]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-ee2e-45ba-8217-899bcea607f8logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1416,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;可見pclntab是一張記錄program counter及各種function相關的表，不僅是function所在檔名及行數，也可以是stack pointer，可以用來還原panic並顯示完整的stack trace。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1416,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1416,logseq____&quot;^Flogseq____&quot;,1400,536870958]],[logseq____&quot;^15logseq____&quot;,[1416,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1416,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1416,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1416,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-8550-436b-ad26-81204341eca4logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;透過在`FindExeSymbols`function蒐集到的`allSyms`，因為有function name以及function所在的segment資訊，所以同樣可以使用 ((66363677-1e61-445d-b207-8c8ffcd447a8))，直接在複製的program header (`data`)中，找到function return的位址。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^Flogseq____&quot;,1439,536870958]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^Hlogseq____&quot;,1379,536870958]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-4b46-473a-a1cc-bf7a91371cd8logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;最後在`FindExeSymbols`保存的map中，key是function的名稱，value是`Sym struct`，包含function在記憶體中的位址(`Off`)，function symbol長度(`Len`)，以及function位在哪一個segment，即program header中(`Prog`)。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^Flogseq____&quot;,1433,536870958]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-604a-4a71-9e07-aeeb5c2902cdlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[原始的Go Runtime Symbol Information](https://docs.google.com/document/d/1lyPIbmsYbXnpNj57a261hgOYVpNRcgydurVQIyZOz_o/pub)也提及logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^Flogseq____&quot;,1388,536870958]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-ee29-45cc-a379-1f8d19c6d625logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```bash\\ncd test/cmd/pingserver\\ngo build\\nreadelf -w pingserver | grep \\logseq____&quot; net/http.Request\\logseq____&quot; -C 30\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^Flogseq____&quot;,1410,536870958]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-8c68-41dd-adae-0b5b7e912c42logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1421,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```bash\\n readelf -l pingserver\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1421,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1421,logseq____&quot;^Flogseq____&quot;,1392,536870958]],[logseq____&quot;^15logseq____&quot;,[1421,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1421,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1421,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1421,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-ca1e-4ae9-b91c-0a239e7ce461logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```bash\\nreadelf -x .go.buildinfo pingserver\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^Flogseq____&quot;,1434,536870958]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-5294-4107-9c33-e052917d1c4flogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n//go:embed offsets.json\\nvar prefetchedOffsets string\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^Flogseq____&quot;,1413,536870958]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-d511-40b1-95fc-d7658af80d0clogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1424,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`instrumentationPoints`目的是找到ELF中，那些被instrumented的`functions`，每個function的開始及return位址。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1424,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1424,logseq____&quot;^Flogseq____&quot;,1384,536870958]],[logseq____&quot;^15logseq____&quot;,[1424,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1424,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1424,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1424,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-2263-4a8b-89be-350b3693cd73logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;類似結果logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^Flogseq____&quot;,1393,536870958]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-8e50-4c5e-96e2-6d05d5d51176logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1426,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`structMemberOffsetsFromDwarf`會先在DWARF欄位中找尋`DW_AT_name`符合`net/http.Request`等struct名稱，且tag是`DW_TAG_structure_type`的entry。從那entry往下會尋找struct中有興趣的欄位，如`net/http.Request`中的`URL`、`Method`等，過程中會過濾只符合`DW_TAG_member`的entry。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1426,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1426,logseq____&quot;^Flogseq____&quot;,1391,536870958]],[logseq____&quot;^15logseq____&quot;,[1426,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1426,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1426,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1426,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-150e-4d8d-9d94-49d5adc685edlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### structMemberOffsets\\nid:: 66363aad-2a1d-4514-9317-4edbf5a06ba6logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^Flogseq____&quot;,1374,536870958]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363aad-2a1d-4514-9317-4edbf5a06ba6logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870958]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363aad-2a1d-4514-9317-4edbf5a06ba6logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66363aad-2a1d-4514-9317-4edbf5a06ba6logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1428,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n\\n\\t\\t\\tfuncLen := f.End - f.Entry\\n\\t\\t\\tdata := make([]byte, funcLen)\\n\\t\\t\\t_, err := prog.ReadAt(data, int64(f.Value-prog.Vaddr))\\n\\t\\t\\tif err != nil {\\n\\t\\t\\t\\treturn FuncOffsets{}, false, fmt.Errorf(\\logseq____&quot;finding function return: %w\\logseq____&quot;, err)\\n\\t\\t\\t}\\n\\n\\t\\t\\treturns, err := findReturnOffssets(off, data)\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1428,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1428,logseq____&quot;^Flogseq____&quot;,1411,536870958]],[logseq____&quot;^15logseq____&quot;,[1428,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1428,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1428,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1428,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-098c-4007-b94d-c3251759e654logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc TestGoOffsetsFromDwarf(t *testing.T) {\\n\\toffsets, _ := structMemberOffsetsFromDwarf(debugData)\\n\\t// this test might fail if a future Go version updates the internal structure of the used structs.\\n\\tmustMatch(t, FieldOffsets{\\n\\t\\t\\logseq____&quot;url_ptr_pos\\logseq____&quot;:           uint64(16),\\n      ...\\n      \\t}, offsets)\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^Flogseq____&quot;,1407,536870958]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-2947-4ecd-8bf0-6f2f5cf19978logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1430,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;golang drawf source: [structure_type](https://github.com/golang/go/blob/fe36ce669c1a452d2b0e81108a7e07674b50692a/src/cmd/internal/dwarf/dwarf.go#L748-L758), [struct member](https://github.com/golang/go/blob/fe36ce669c1a452d2b0e81108a7e07674b50692a/src/cmd/internal/dwarf/dwarf.go#L571-L581)logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1430,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1430,logseq____&quot;^Flogseq____&quot;,1426,536870958]],[logseq____&quot;^15logseq____&quot;,[1430,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1430,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1430,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1430,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-0374-4abd-afc1-ef52b3fcd3f6logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n  4165: 0000000000578d60   124 FUNC    GLOBAL DEFAULT    1 net.Listen\\n  4166: 0000000000578de0   236 FUNC    GLOBAL DEFAULT    1 net.isDomainName\\n  4167: 0000000000578ee0   946 FUNC    GLOBAL DEFAULT    1 net.newRequest\\n  4168: 00000000005792a0   357 FUNC    GLOBAL DEFAULT    1 net.checkResponse\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^Flogseq____&quot;,1372,536870958]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-8c3e-403f-82de-3c7993d121fflogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`structMemberOffsets` 處理golang中各struct field的offset，並透過linker將offset傳給ebpf使用。`structMembers`預先把可能的library, struct以及filed欄位標記出來。 ((662e8b82-7db2-4753-b84c-8bdde48f5eb2))會先嘗試在ELF檔案中的`Dwarf`尋找對應欄位的offset，如果找不到，則會利用 ((662e8b94-08d7-432f-8b32-606dd4955f6f)) 在預先取得的offet清當中尋找。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^Flogseq____&quot;,1427,536870958]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^Hlogseq____&quot;,1368,536870958]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^Hlogseq____&quot;,1435,536870958]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-c7a9-468b-badf-3738f94edf6dlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n\\t\\t// Loop over ELF segments.\\n\\t\\tfor _, prog := range f.Progs {\\n\\t\\t\\t// Skip uninteresting segments.\\n\\t\\t\\tif prog.Type != elf.PT_LOAD || (prog.Flagslogseq____&amp;elf.PF_X) == 0 {\\n\\t\\t\\t\\tcontinue\\n\\t\\t\\t}\\n\\n\\t\\t\\tif prog.Vaddr logseq____&lt;= s.Value logseq____&amp;logseq____&amp; s.Value logseq____&lt; (prog.Vaddr+prog.Memsz) {\\n\\t\\t\\t\\taddress = s.Value - prog.Vaddr + prog.Off\\n\\t\\t\\t\\tp = prog\\n\\t\\t\\t\\tbreak\\n\\t\\t\\t}\\n\\t\\t}\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^Flogseq____&quot;,1381,536870958]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-18b5-4200-80d8-ca24bf3fcfcelogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1434,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`prefetchedOffsets`是在編譯時期讀入的`offsets.json`，這是從[grafana/go-offsets-tracker](https://github.com/grafana/go-offsets-tracker)取得golang各版本的struct offset。golang版本是從ELF中的`.go.buildinfo` section中取得，可以用`readelf`中看到:logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1434,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1434,logseq____&quot;^Flogseq____&quot;,1423,536870958]],[logseq____&quot;^15logseq____&quot;,[1434,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1434,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1434,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1434,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-a5b7-4a70-aa21-90ddf5c32877logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### structMemberPreFetchedOffsets\\nid:: 662e8b94-08d7-432f-8b32-606dd4955f6flogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^Flogseq____&quot;,1429,536870958]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;662e8b94-08d7-432f-8b32-606dd4955f6flogseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870958]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;662e8b94-08d7-432f-8b32-606dd4955f6flogseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u662e8b94-08d7-432f-8b32-606dd4955f6flogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[Chapter I: Go Assembly | Go Internals (gitbook.io)](https://cmc.gitbook.io/go-internals/chapter-i-go-assembly)logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^Flogseq____&quot;,1380,536870958]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-5284-437a-87b2-ffa14e4f220elogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`structMemberOffsetsFromDwarf`會嘗試在ELF中的`DWARF`中，找到struct member所對應的offset。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^Flogseq____&quot;,1368,536870958]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-ecf3-4a67-98ef-6306783d1978logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1438,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[A Quick Guide to Gologseq____&apos;s Assembler - The Go Programming Language](https://go.dev/doc/asm#symbols)logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1438,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1438,logseq____&quot;^Flogseq____&quot;,1436,536870958]],[logseq____&quot;^15logseq____&quot;,[1438,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1438,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1438,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1438,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-915b-4377-b1fc-caccf7f5a372logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### handleStaticSymbol\\nid:: 66363656-fd97-4825-a3ca-f11d31e3249dlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^Flogseq____&quot;,1405,536870958]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363656-fd97-4825-a3ca-f11d31e3249dlogseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870958]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363656-fd97-4825-a3ca-f11d31e3249dlogseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66363656-fd97-4825-a3ca-f11d31e3249dlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1440,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```json\\n    \\logseq____&quot;net/http.Request\\logseq____&quot;: {\\n...\\n      \\logseq____&quot;URL\\logseq____&quot;: {\\n        \\logseq____&quot;versions\\logseq____&quot;: {\\n          \\logseq____&quot;oldest\\logseq____&quot;: \\logseq____&quot;1.17.0\\logseq____&quot;,\\n          \\logseq____&quot;newest\\logseq____&quot;: \\logseq____&quot;1.22.2\\logseq____&quot;\\n        },\\n        \\logseq____&quot;offsets\\logseq____&quot;: [\\n          {\\n            \\logseq____&quot;offset\\logseq____&quot;: 16,\\n            \\logseq____&quot;since\\logseq____&quot;: \\logseq____&quot;1.17.0\\logseq____&quot;\\n          }\\n        ]\\n      }\\n    },\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1440,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1440,logseq____&quot;^Flogseq____&quot;,1442,536870958]],[logseq____&quot;^15logseq____&quot;,[1440,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1440,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1440,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1440,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-83e6-421a-af12-118f441fcb5elogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1441,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n logseq____&lt;1logseq____&gt;logseq____&lt;cace1logseq____&gt;: Abbrev Number: 39 (DW_TAG_structure_type)\\n    logseq____&lt;cace2logseq____&gt;   DW_AT_name        : net/http.Request\\n    logseq____&lt;cacf3logseq____&gt;   DW_AT_byte_size   : 288\\n    logseq____&lt;cacf5logseq____&gt;   Unknown AT value: 2900: 25\\n    logseq____&lt;cacf6logseq____&gt;   Unknown AT value: 2904: 0x695a0\\n logseq____&lt;2logseq____&gt;logseq____&lt;cacfelogseq____&gt;: Abbrev Number: 24 (DW_TAG_member)\\n    logseq____&lt;cacfflogseq____&gt;   DW_AT_name        : Method\\n    logseq____&lt;cad06logseq____&gt;   DW_AT_data_member_location: 0\\n    logseq____&lt;cad07logseq____&gt;   DW_AT_type        : logseq____&lt;0x95c97logseq____&gt;\\n    logseq____&lt;cad0blogseq____&gt;   Unknown AT value: 2903: 0\\n logseq____&lt;2logseq____&gt;logseq____&lt;cad0clogseq____&gt;: Abbrev Number: 24 (DW_TAG_member)\\n    logseq____&lt;cad0dlogseq____&gt;   DW_AT_name        : URL\\n    logseq____&lt;cad11logseq____&gt;   DW_AT_data_member_location: 16\\n    logseq____&lt;cad12logseq____&gt;   DW_AT_type        : logseq____&lt;0xbe008logseq____&gt;\\n    logseq____&lt;cad16logseq____&gt;   Unknown AT value: 2903: 0\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1441,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1441,logseq____&quot;^Flogseq____&quot;,1397,536870958]],[logseq____&quot;^15logseq____&quot;,[1441,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1441,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1441,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1441,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-8b39-4711-9a42-bc27ea3287ealogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1442,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;同樣以`net/http.Request`中的URL member為例，在`offset.json`中可以看到`URL`同樣會是預期的16。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1442,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1442,logseq____&quot;^Flogseq____&quot;,1408,536870958]],[logseq____&quot;^15logseq____&quot;,[1442,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1442,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1442,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1442,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-69b0-48b6-adca-b1f73593f2b1logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n\\tfor _, s := range syms {\\n\\t\\tif elf.ST_TYPE(s.Info) != elf.STT_FUNC {\\n\\t\\t\\t// Symbol not associated with a function or other executable code.\\n\\t\\t\\tcontinue\\n\\t\\t}\\n\\n\\t\\taddress := s.Value\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^Flogseq____&quot;,1390,536870958]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-3c77-4c01-9cb9-f3808a2964e8logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^Klogseq____&quot;,1753899320968,536870959]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^@logseq____&quot;,false,536870959]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/go_nethttplogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^Alogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/go_nethttplogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870959]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870959]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^Blogseq____&quot;,1753899320968,536870959]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-8fea-4ff3-8cb9-feef6f47aa9blogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^Klogseq____&quot;,1753899320969,536870959]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^@logseq____&quot;,false,536870959]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/http_server (v1.8.1)logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^Alogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/http_server (v1.8.1)logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870963]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^Blogseq____&quot;,1753899320969,536870959]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-9b00-43dc-95af-06703e03965clogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^Klogseq____&quot;,1753899320970,536870959]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^@logseq____&quot;,false,536870959]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/http_client (v1.8.1)logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^Alogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/http_client (v1.8.1)logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870961]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870961]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^Blogseq____&quot;,1753899320970,536870959]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-568e-4394-8104-7c26a3533e42logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^Klogseq____&quot;,1753899320971,536870959]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^@logseq____&quot;,false,536870959]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/http_header (v1.8.1)logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^Alogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/http_header (v1.8.1)logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870962]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^Blogseq____&quot;,1753899320971,536870959]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a278-4ee4-af75-c6e1ceb519c5logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^Klogseq____&quot;,1753899320971,536870959]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^@logseq____&quot;,false,536870959]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/sqllogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^Alogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/sqllogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870966]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870966]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^Blogseq____&quot;,1753899320971,536870959]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-33e9-4a55-8204-2a77755d1146logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^Klogseq____&quot;,1753899320972,536870959]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^@logseq____&quot;,false,536870959]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/go_traceparentlogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^Alogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/go_traceparentlogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870960]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870960]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^Blogseq____&quot;,1753899320972,536870959]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-802d-4670-b637-6d8e7433660clogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# Headerlogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Flogseq____&quot;,1461,536870959]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Xlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Vlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Ulogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870959]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Jlogseq____&quot;,[],536870959]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-580b-434f-84e5-e47461b3b24clogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# Traceparentlogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Flogseq____&quot;,1459,536870959]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Xlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Vlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Ulogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870959]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Jlogseq____&quot;,[],536870959]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-f205-4afd-8b7f-0735e85cf9dalogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[[Beyla/http_server (v1.8.1)]]logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Flogseq____&quot;,1460,536870959]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Xlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Vlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Ulogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Ulogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Ulogseq____&quot;,1446,536870959]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Hlogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Hlogseq____&quot;,1446,536870959]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-f690-4447-9641-a04decc2ae90logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[[Beyla/go_traceparent]]logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Flogseq____&quot;,1452,536870959]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Xlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Vlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Ulogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Ulogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Ulogseq____&quot;,1450,536870959]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Hlogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Hlogseq____&quot;,1450,536870959]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-d23f-474a-a05b-4923a00d77fflogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# Clientlogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^Flogseq____&quot;,1453,536870959]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^Xlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^Vlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^Ulogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870959]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^Jlogseq____&quot;,[],536870959]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-4299-4d2b-a13b-083d938f2780logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[[Beyla/http_header (v1.8.1)]]logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Flogseq____&quot;,1451,536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Xlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Vlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Ulogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Ulogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Ulogseq____&quot;,1448,536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Hlogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Hlogseq____&quot;,1448,536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-936c-4ec2-906c-77760ce7dc1blogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# SQLlogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Flogseq____&quot;,1456,536870959]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Xlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Vlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Ulogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870959]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Jlogseq____&quot;,[],536870959]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-3f27-4cfa-b3fb-733267b9c700logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870959]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^Flogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^Xlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^Vlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^Ulogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^:logseq____&quot;,true,536870959]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870959]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870959]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870959]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-4965-40dd-96cf-beb2ae69f84alogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[[Beyla/sql]]logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Flogseq____&quot;,1457,536870959]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Xlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Vlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Ulogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Ulogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Ulogseq____&quot;,1449,536870959]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Hlogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Hlogseq____&quot;,1449,536870959]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-e227-4787-a383-9bfe275ac1d6logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# Serverlogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Flogseq____&quot;,1458,536870959]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Xlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Vlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Ulogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870959]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Jlogseq____&quot;,[],536870959]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-7911-45ca-9b26-76206f132517logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[[Beyla/http_client (v1.8.1)]]logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Flogseq____&quot;,1455,536870959]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Xlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Vlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Ulogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Ulogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Ulogseq____&quot;,1447,536870959]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Hlogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Hlogseq____&quot;,1447,536870959]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-0d32-44cc-bf92-cfe0ea8b82b6logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`traceparent_header_value_go_str`長度不是55，則忽略logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^Flogseq____&quot;,1472,536870960]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^Vlogseq____&quot;,1500,536870960]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-ca29-43ef-91d4-45e007edeb15logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1465,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`headers_ptr` pointer讀 ((66374d1c-fdad-4156-a614-da2dfd503258))，寫入`header_buckets`logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1465,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1465,logseq____&quot;^Flogseq____&quot;,1484,536870960]],[logseq____&quot;^15logseq____&quot;,[1465,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1465,logseq____&quot;^Vlogseq____&quot;,1493,536870960]],[logseq____&quot;^15logseq____&quot;,[1465,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1465,logseq____&quot;^Hlogseq____&quot;,1485,536870960]],[logseq____&quot;^15logseq____&quot;,[1465,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-2070-460b-a692-326b775271c4logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果bucket中第`i`個entry為0，代表該cell為空值，參考 ((66375be1-a305-45a6-9272-92b77030892f))。logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^Flogseq____&quot;,1477,536870960]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^Vlogseq____&quot;,1500,536870960]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^Hlogseq____&quot;,1491,536870960]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-1ff5-4703-97c0-ff83e40ae171logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[traceparent header](https://www.w3.org/TR/trace-context/#header-name)logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^Flogseq____&quot;,1483,536870960]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^Vlogseq____&quot;,1487,536870960]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b0c4-4b6f-ba13-6208473a0898logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;遍歷header的map bucketlogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^Flogseq____&quot;,1473,536870960]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^Vlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-6cd4-47d8-a81c-1b2391c54b4blogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870960]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^Flogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^Vlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^:logseq____&quot;,true,536870960]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870960]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870960]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870960]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-eb67-4f93-aec3-8f5c338ffc7dlogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## map\\nid:: 66374b78-b6a9-42a4-aedd-3e3403cd8a00logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^Flogseq____&quot;,1873,536870970]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374b78-b6a9-42a4-aedd-3e3403cd8a00logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870970]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374b78-b6a9-42a4-aedd-3e3403cd8a00logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66374b78-b6a9-42a4-aedd-3e3403cd8a00logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`map_value-logseq____&gt;keys[i].str`讀入目前的header key，並寫入`current_header_key`logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^Flogseq____&quot;,1489,536870960]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^Vlogseq____&quot;,1500,536870960]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-d471-464b-ba65-01052fcc28c1logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1472,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`map_value-logseq____&gt;values[i].array`讀入目前的header value，並寫入`traceparent_header_value_go_str`logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1472,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1472,logseq____&quot;^Flogseq____&quot;,1476,536870960]],[logseq____&quot;^15logseq____&quot;,[1472,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1472,logseq____&quot;^Vlogseq____&quot;,1500,536870960]],[logseq____&quot;^15logseq____&quot;,[1472,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1472,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-8145-49bc-ad09-95d6ab8128f1logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n#define OFFSET_OF_GO_RUNTIME_HMAP_FIELD_B 9\\n#define OFFSET_OF_GO_RUNTIME_HMAP_FIELD_BUCKETS 16\\n// ...\\nstatic __always_inline void *extract_traceparent_from_req_headers(void *headers_ptr_ptr)\\n{\\n    void *headers_ptr;\\n    long res;\\n    res = bpf_probe_read(logseq____&amp;headers_ptr, sizeof(headers_ptr), headers_ptr_ptr);\\n    if (res logseq____&lt; 0)\\n    {\\n        return NULL;\\n    }\\n    u64 headers_count = 0;\\n    res = bpf_probe_read(logseq____&amp;headers_count, sizeof(headers_count), headers_ptr);\\n    if (res logseq____&lt; 0)\\n    {\\n        return NULL;\\n    }\\n    if (headers_count == 0)\\n    {\\n        return NULL;\\n    }\\n    unsigned char log_2_bucket_count;\\n    res = bpf_probe_read(logseq____&amp;log_2_bucket_count, sizeof(log_2_bucket_count), headers_ptr + OFFSET_OF_GO_RUNTIME_HMAP_FIELD_B);\\n    if (res logseq____&lt; 0)\\n    {\\n        return NULL;\\n    }\\n    u64 bucket_count = 1 logseq____&lt;logseq____&lt; log_2_bucket_count;\\n    void *header_buckets;\\n    res = bpf_probe_read(logseq____&amp;header_buckets, sizeof(header_buckets), headers_ptr + OFFSET_OF_GO_RUNTIME_HMAP_FIELD_BUCKETS);\\n    if (res logseq____&lt; 0)\\n    {\\n        return NULL;\\n    }\\n```logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^Flogseq____&quot;,1493,536870960]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^Vlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c634-4bd6-bf34-c57f1ae48abclogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1474,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[HTTP spec](https://greenbytes.de/tech/webdav/rfc7230.html#field.limits)並沒有限制HTTP header，但是這邊有限制header的bucket查找上限是8個。logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1474,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1474,logseq____&quot;^Flogseq____&quot;,1481,536870960]],[logseq____&quot;^15logseq____&quot;,[1474,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1474,logseq____&quot;^Vlogseq____&quot;,1468,536870960]],[logseq____&quot;^15logseq____&quot;,[1474,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1474,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-93f1-43c3-8735-a2699439a084logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`B` member的offset是8+1=9，用來描述buckets的`log_2`數量\\nid:: 66374cde-c73c-49eb-93f1-cb556a3dca9dlogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^Flogseq____&quot;,1488,536870970]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^Vlogseq____&quot;,1497,536870970]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374cde-c73c-49eb-93f1-cb556a3dca9dlogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374cde-c73c-49eb-93f1-cb556a3dca9dlogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66374cde-c73c-49eb-93f1-cb556a3dca9dlogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1476,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`current_header_key`與`traceparent`進行`bpf_memicmp`(忽略大小寫的比較)後，return code不是0，則忽略logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1476,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1476,logseq____&quot;^Flogseq____&quot;,1471,536870960]],[logseq____&quot;^15logseq____&quot;,[1476,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1476,logseq____&quot;^Vlogseq____&quot;,1500,536870960]],[logseq____&quot;^15logseq____&quot;,[1476,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1476,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-770b-4a4c-9f93-59686649ca2flogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1477,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;bucket entry上限是8，參考 ((66374dc9-21f4-4ba3-b03e-a3d6897a636f))logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1477,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1477,logseq____&quot;^Flogseq____&quot;,1500,536870960]],[logseq____&quot;^15logseq____&quot;,[1477,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1477,logseq____&quot;^Vlogseq____&quot;,1500,536870960]],[logseq____&quot;^15logseq____&quot;,[1477,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1477,logseq____&quot;^Hlogseq____&quot;,1490,536870960]],[logseq____&quot;^15logseq____&quot;,[1477,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-fe43-47cd-87fe-63a6a570b9balogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nvalue           = version \\logseq____&quot;-\\logseq____&quot; version-format\\nversion         = 2HEXDIGLC   ; this document assumes version 00. Version ff is forbidden\\nversion-format   = trace-id \\logseq____&quot;-\\logseq____&quot; parent-id \\logseq____&quot;-\\logseq____&quot; trace-flags\\ntrace-id         = 32HEXDIGLC  ; 16 bytes array identifier. All zeroes forbidden\\nparent-id        = 16HEXDIGLC  ; 8 bytes array identifier. All zeroes forbidden\\ntrace-flags      = 2HEXDIGLC   ; 8 bit flags. Currently, only one bit is used. See below for details\\n```logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^Flogseq____&quot;,1489,536870960]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^Vlogseq____&quot;,1489,536870960]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-0307-4805-b993-1531b6dd5043logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;目的：在給定的`*headers_ptr_ptr` pointer中尋找`traceparent`header的值logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^Flogseq____&quot;,1496,536870960]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^Vlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-e340-4222-b240-954668434d7clogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n#define W3C_KEY_LENGTH 11\\n#define W3C_VAL_LENGTH 55\\n...\\n\\n// assumes s2 is all lowercase\\nstatic __always_inline int bpf_memicmp(char *s1, char *s2, s32 size)\\n{\\n    for (int i = 0; i logseq____&lt; size; i++)\\n    {\\n        if (s1[i] != s2[i] logseq____&amp;logseq____&amp; s1[i] != (s2[i] - 32)) // compare with each uppercase character\\n        {\\n            return i+1;\\n        }\\n    }\\n\\n    return 0;\\n}\\n\\nstatic __always_inline void *extract_traceparent_from_req_headers(void *headers_ptr_ptr)\\n{\\n...\\n        for (u64 i = 0; i logseq____&lt; 8; i++)\\n        {\\n            // break the bucket iteration when tophash is zero\\n            // since \\logseq____&quot;there are no more non-empty cells at higher indexes or overflows\\logseq____&quot;\\n            // ref: https://github.com/golang/go/blob/9050ce9b334419066c364e747499a2faf4425dad/src/runtime/map.go#L86\\n            if (map_value-logseq____&gt;tophash[i] == 0)\\n            {\\n                break;\\n            }\\n            // skip the cell if tophash is empty\\n            // ref: https://github.com/golang/go/blob/9050ce9b334419066c364e747499a2faf4425dad/src/runtime/map.go#L87\\n            if (map_value-logseq____&gt;tophash[i] == 1)\\n            {\\n                continue;\\n            }\\n            if (map_value-logseq____&gt;keys[i].len != W3C_KEY_LENGTH)\\n            {\\n                continue;\\n            }\\n            char current_header_key[W3C_KEY_LENGTH];\\n            bpf_probe_read(current_header_key, sizeof(current_header_key), map_value-logseq____&gt;keys[i].str);        \\n            if (bpf_memicmp(current_header_key, \\logseq____&quot;traceparent\\logseq____&quot;, W3C_KEY_LENGTH)) // grpc headers donlogseq____&apos;t get normalized\\n            {\\n                continue;\\n            }\\n            void *traceparent_header_value_ptr = map_value-logseq____&gt;values[i].array;\\n            struct go_string traceparent_header_value_go_str;\\n            res = bpf_probe_read(logseq____&amp;traceparent_header_value_go_str, sizeof(traceparent_header_value_go_str), traceparent_header_value_ptr);\\n            if (res logseq____&lt; 0)\\n            {\\n                return NULL;\\n            }\\n            if (traceparent_header_value_go_str.len != W3C_VAL_LENGTH)\\n            {\\n                continue;\\n            }\\n            return traceparent_header_value_go_str.str;\\n```logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^Flogseq____&quot;,1500,536870960]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^Vlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-a1cc-4ff3-a617-6b1e82b54604logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`golang_mapbucket_storage_map`中查唯一的`struct map_bucket`logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^Flogseq____&quot;,1468,536870960]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^Vlogseq____&quot;,1468,536870960]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-9eb4-437b-ad9e-ab4e9e69f972logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n#define MAX_BUCKETS 8\\n...\\nstruct\\n{\\n    __uint(type, BPF_MAP_TYPE_PERCPU_ARRAY);\\n    __uint(key_size, sizeof(u32));\\n    __uint(value_size, sizeof(struct map_bucket));\\n    __uint(max_entries, 1);\\n} golang_mapbucket_storage_map SEC(\\logseq____&quot;.maps\\logseq____&quot;);\\n...\\nstruct map_bucket {\\n    char tophash[8];\\n    struct go_string keys[8];\\n    struct go_slice values[8];\\n    void *overflow;\\n};\\n...\\nstatic __always_inline void *extract_traceparent_from_req_headers(void *headers_ptr_ptr)\\n{\\n...\\n    u32 map_id = 0;\\n    struct map_bucket *map_value = (struct map_bucket *)bpf_map_lookup_elem(logseq____&amp;golang_mapbucket_storage_map, logseq____&amp;map_id);\\n    if (!map_value)\\n    {\\n        return NULL;\\n    }\\n    for (u64 j = 0; j logseq____&lt; MAX_BUCKETS; j++)\\n    {\\n        if (j logseq____&gt;= bucket_count)\\n        {\\n            break;\\n        }\\n        res = bpf_probe_read(map_value, sizeof(struct map_bucket), header_buckets + (j * sizeof(struct map_bucket)));\\n        if (res logseq____&lt; 0)\\n        {\\n            continue;\\n        }\\n\\t\\t\\t...\\n```logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^Flogseq____&quot;,1468,536870960]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^Vlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-479d-425e-a602-0744a2e2357flogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[net/http.Header](https://pkg.go.dev/net/http#Header)就是key為string，value為string[]的maplogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^Flogseq____&quot;,1487,536870960]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^Vlogseq____&quot;,1487,536870960]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-260e-4da0-8e54-b9fc04e3d32clogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;計算`bucket_count = 1 logseq____&lt;logseq____&lt; log_2_bucket_count`logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Flogseq____&quot;,1499,536870960]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Vlogseq____&quot;,1493,536870960]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-bf5d-43a5-8cea-e2dd73cde1b3logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`buckets` member的offset是8 + 1 + 1 + 2 + 4 = 16，pointer指向buckets的結構\\nid:: 66374d1c-fdad-4156-a614-da2dfd503258logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Flogseq____&quot;,1475,536870970]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Vlogseq____&quot;,1497,536870970]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374d1c-fdad-4156-a614-da2dfd503258logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374d1c-fdad-4156-a614-da2dfd503258logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66374d1c-fdad-4156-a614-da2dfd503258logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;註：不確定原因，因為找到`traceparent` header之後就直接return，有可能是要讓`golang_mapbucket_storage_map`唯一的value指向存在`traceparent` header的bucketlogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^Flogseq____&quot;,1481,536870960]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^Vlogseq____&quot;,1481,536870960]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-db91-472f-a306-ebf7622c189alogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;背景：logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^Flogseq____&quot;,1479,536870960]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^Vlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-f020-4dc6-8ba1-c0e9f63fe050logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`count` member的offset為0，用來描述map的數量\\nid:: 66374cb7-1493-4c04-9846-71c67396fd68logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^Flogseq____&quot;,1497,536870970]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^Vlogseq____&quot;,1497,536870970]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374cb7-1493-4c04-9846-71c67396fd68logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374cb7-1493-4c04-9846-71c67396fd68logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66374cb7-1493-4c04-9846-71c67396fd68logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`W3C_KEY_LENGTH`是`traceparent`的長度，也就是11；`W3C_VAL_LENGTH`=2+1+32+1+16+1+2=55logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^Flogseq____&quot;,1466,536870960]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^Vlogseq____&quot;,1500,536870960]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-a7c7-45c7-8148-15a680683c02logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`internal/abi`中，定義`MapBucketCount`為1logseq____&lt;logseq____&lt;3 = 8\\nid:: 66374dc9-21f4-4ba3-b03e-a3d6897a636flogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^Flogseq____&quot;,1875,536870970]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374dc9-21f4-4ba3-b03e-a3d6897a636flogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374dc9-21f4-4ba3-b03e-a3d6897a636flogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66374dc9-21f4-4ba3-b03e-a3d6897a636flogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`tophash[i]`值是0，則這cell為空值，而且更高index的cell皆為空值 [參考](https://github.com/golang/go/blob/9050ce9b334419066c364e747499a2faf4425dad/src/runtime/map.go#L86)\\nid:: 66375be1-a305-45a6-9272-92b77030892flogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^Flogseq____&quot;,1869,536870970]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66375be1-a305-45a6-9272-92b77030892flogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66375be1-a305-45a6-9272-92b77030892flogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66375be1-a305-45a6-9272-92b77030892flogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果長度相等，則回傳該valuelogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^Flogseq____&quot;,1464,536870960]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^Vlogseq____&quot;,1500,536870960]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-dd64-42b1-a824-eac16738fe5flogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;定位`header`欄位logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^Flogseq____&quot;,1487,536870960]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^Vlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b3eb-4b15-8fdb-5bd533c05d68logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Go ((66374b78-b6a9-42a4-aedd-3e3403cd8a00)) internallogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Flogseq____&quot;,1467,536870960]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Vlogseq____&quot;,1487,536870960]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Hlogseq____&quot;,1470,536870960]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c252-4eb2-af3c-504049563779logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1495,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`header_buckets + (j * sizeof(struct map_bucket))`，也就是第`j`個bucket在`header_buckets`的位址中，讀入`map_value`。logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1495,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1495,logseq____&quot;^Flogseq____&quot;,1474,536870960]],[logseq____&quot;^15logseq____&quot;,[1495,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1495,logseq____&quot;^Vlogseq____&quot;,1468,536870960]],[logseq____&quot;^15logseq____&quot;,[1495,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1495,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-af58-4235-b60a-b378f9498ed2logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1496,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## extract_traceparent_from_req_headers\\nid:: 6637505e-eb41-47cc-a463-eea0c9b0f970logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1496,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1496,logseq____&quot;^Flogseq____&quot;,1469,536870960]],[logseq____&quot;^15logseq____&quot;,[1496,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1496,logseq____&quot;^Vlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1496,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1496,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6637505e-eb41-47cc-a463-eea0c9b0f970logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870960]],[logseq____&quot;^15logseq____&quot;,[1496,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870960]],[logseq____&quot;^15logseq____&quot;,[1496,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6637505e-eb41-47cc-a463-eea0c9b0f970logseq____&quot;],536870960]],[logseq____&quot;^15logseq____&quot;,[1496,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u6637505e-eb41-47cc-a463-eea0c9b0f970logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;golang的map實作hash table (`hmap` struct)\\nid:: 66375148-ddf7-4ad2-aca2-03e421bd6db4logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^Flogseq____&quot;,1866,536870970]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66375148-ddf7-4ad2-aca2-03e421bd6db4logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66375148-ddf7-4ad2-aca2-03e421bd6db4logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66375148-ddf7-4ad2-aca2-03e421bd6db4logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在 `headers_ptr_ptr` pointer讀 ((66375148-ddf7-4ad2-aca2-03e421bd6db4))，寫入`*headers_ptr`logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^Flogseq____&quot;,1493,536870960]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^Vlogseq____&quot;,1493,536870960]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^Hlogseq____&quot;,1497,536870960]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-32bd-4fc7-b24f-acf9d9a37518logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`headers_ptr` pointer讀 ((66374cde-c73c-49eb-93f1-cb556a3dca9d))，寫入`log_2_bucket_count` [[Beyla/Assertion]]logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Flogseq____&quot;,1501,536870960]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Vlogseq____&quot;,1493,536870960]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Ulogseq____&quot;,1359,536870960]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Ulogseq____&quot;,1463,536870960]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Hlogseq____&quot;,1359,536870960]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Hlogseq____&quot;,1463,536870960]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Hlogseq____&quot;,1475,536870960]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-4c9e-4581-a3e4-70d90a919ef2logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1500,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;遍歷第`j`個bucket中每個entry，找尋`traceparent` headerlogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1500,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1500,logseq____&quot;^Flogseq____&quot;,1482,536870960]],[logseq____&quot;^15logseq____&quot;,[1500,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1500,logseq____&quot;^Vlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1500,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1500,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6138-111d-4e6c-83c6-2d3a6687095blogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`headers_ptr` pointer讀 ((66374cb7-1493-4c04-9846-71c67396fd68))，寫入`headers_count`logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^Flogseq____&quot;,1498,536870960]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^Vlogseq____&quot;,1493,536870960]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^Hlogseq____&quot;,1488,536870960]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-dde8-4e7b-890c-d40ed277a97clogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1503,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;直接呼叫`roundTripStartHelper` function。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1503,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1503,logseq____&quot;^Flogseq____&quot;,1523,536870961]],[logseq____&quot;^15logseq____&quot;,[1503,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1503,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1503,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1503,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-ce75-4cb3-9487-c5a038902c24logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1504,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n    roundTripStartHelper(ctx);\\n\\n    void *cc_ptr = GO_PARAM1(ctx);\\n\\n    if (cc_ptr) {\\n        bpf_dbg_printk(\\logseq____&quot;cc_ptr %llx, cc_tconn_ptr %llx\\logseq____&quot;, cc_ptr, cc_ptr + cc_tconn_pos);\\n        void *tconn = cc_ptr + cc_tconn_pos;\\n        bpf_probe_read(logseq____&amp;tconn, sizeof(tconn), (void *)(cc_ptr + cc_tconn_pos + 8));\\n        bpf_dbg_printk(\\logseq____&quot;tconn %llx\\logseq____&quot;, tconn);\\n\\n        if (tconn) {\\n            void *tconn_conn = 0;\\n            bpf_probe_read(logseq____&amp;tconn_conn, sizeof(tconn_conn), (void *)(tconn + 8));\\n            bpf_dbg_printk(\\logseq____&quot;tconn_conn %llx\\logseq____&quot;, tconn_conn);\\n\\n            connection_info_t conn = {0};\\n            get_conn_info(tconn_conn, logseq____&amp;conn);\\n\\n            void *goroutine_addr = GOROUTINE_PTR(ctx);\\n            bpf_dbg_printk(\\logseq____&quot;goroutine_addr %lx\\logseq____&quot;, goroutine_addr);    \\n\\n            bpf_map_update_elem(logseq____&amp;ongoing_client_connections, logseq____&amp;goroutine_addr, logseq____&amp;conn, BPF_ANY);\\n        }\\n#ifndef NO_HEADER_PROPAGATION\\n        u32 stream_id = 0;\\n        bpf_probe_read(logseq____&amp;stream_id, sizeof(stream_id), (void *)(cc_ptr + cc_next_stream_id_pos));\\n        \\n        bpf_dbg_printk(\\logseq____&quot;cc_ptr = %llx, nextStreamID=%d\\logseq____&quot;, cc_ptr, stream_id);\\n        if (stream_id) {\\n            void *goroutine_addr = GOROUTINE_PTR(ctx);\\n\\n            bpf_map_update_elem(logseq____&amp;http2_req_map, logseq____&amp;stream_id, logseq____&amp;goroutine_addr, BPF_ANY);\\n        }\\n#endif   \\n```logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1504,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1504,logseq____&quot;^Flogseq____&quot;,1508,536870961]],[logseq____&quot;^15logseq____&quot;,[1504,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1504,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1504,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1504,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b90a-4c2d-a483-e37f827724e8logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1505,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1505,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1505,logseq____&quot;^Flogseq____&quot;,1533,536870961]],[logseq____&quot;^15logseq____&quot;,[1505,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1505,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1505,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1505,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-9fd5-4893-acce-23d1dd4165dclogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^Flogseq____&quot;,1507,536870961]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-dfe6-4d78-822b-841abbc66a68logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## uprobe_persistConnRoundTriplogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^Flogseq____&quot;,1504,536870961]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870961]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^Jlogseq____&quot;,[],536870961]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-993b-44b4-b3c7-767268f0a805logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1508,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;另外有使用`cc_ptr + cc_next_stream_id_pos`取得[nextStreamID](https://github.com/golang/net/blob/ec05fdcd71141c885f3fb84c41d1c692f094ccbe/http2/transport.go#L328)，並記錄在`http2_req_map`裡。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1508,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1508,logseq____&quot;^Flogseq____&quot;,1536,536870961]],[logseq____&quot;^15logseq____&quot;,[1508,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1508,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1508,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1508,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7f57-4688-b625-95c17e4d1690logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1509,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[roundTrip](https://github.com/golang/net/blob/ec05fdcd71141c885f3fb84c41d1c692f094ccbe/http2/transport.go#L1309)logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1509,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1509,logseq____&quot;^Flogseq____&quot;,1512,536870961]],[logseq____&quot;^15logseq____&quot;,[1509,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1509,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1509,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1509,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b90e-4217-8f07-0d963162ee58logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1510,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;先使用http用過的 `roundTripStartHelper` 取得method, url, traceparent header資訊。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1510,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1510,logseq____&quot;^Flogseq____&quot;,1546,536870961]],[logseq____&quot;^15logseq____&quot;,[1510,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1510,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1510,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1510,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-f5b9-4972-8dfd-40aadee2abc3logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1511,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;另外使用`GO_PARAM1`讀第一個function return type `*Response`，讀他的`status`並寫到`trace`中。同時將`invocation-logseq____&gt;tp`也寫到`trace-logseq____&gt;tp`中，最後送給ringbuffer。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1511,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1511,logseq____&quot;^Flogseq____&quot;,1547,536870961]],[logseq____&quot;^15logseq____&quot;,[1511,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1511,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1511,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1511,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-78ab-4336-83ff-5ba33f397060logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1512,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`golang.org/x/net/http2.(*ClientConn).roundTrip`logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1512,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1512,logseq____&quot;^Flogseq____&quot;,1537,536870961]],[logseq____&quot;^15logseq____&quot;,[1512,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1512,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1512,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1512,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-eaf8-4db4-8b58-860f385d583elogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*persistConn).roundTrip`logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^Flogseq____&quot;,1506,536870961]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-4bed-462c-bea4-f0778b89785clogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1514,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`extract_traceparent_from_req_headers`可以參考 ((6637505e-eb41-47cc-a463-eea0c9b0f970))。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1514,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1514,logseq____&quot;^Flogseq____&quot;,1520,536870961]],[logseq____&quot;^15logseq____&quot;,[1514,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1514,logseq____&quot;^Vlogseq____&quot;,1520,536870961]],[logseq____&quot;^15logseq____&quot;,[1514,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1514,logseq____&quot;^Hlogseq____&quot;,1496,536870961]],[logseq____&quot;^15logseq____&quot;,[1514,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-08dc-458f-a379-9f9e37bb8726logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1515,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (t *Transport) roundTrip(req *Request) (*Response, error)`logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1515,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1515,logseq____&quot;^Flogseq____&quot;,1543,536870961]],[logseq____&quot;^15logseq____&quot;,[1515,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1515,logseq____&quot;^Vlogseq____&quot;,1543,536870961]],[logseq____&quot;^15logseq____&quot;,[1515,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1515,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-6f1e-4603-b109-406779441933logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## roundTrip_returnlogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^Flogseq____&quot;,1519,536870961]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870961]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^Jlogseq____&quot;,[],536870961]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-77cb-4229-8590-65918caf1f11logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## roundTrip\\nid:: 66e54786-26dc-4ef9-bfc7-8a0bd6fc9d9blogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^Flogseq____&quot;,1529,536870961]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66e54786-26dc-4ef9-bfc7-8a0bd6fc9d9blogseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870961]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870961]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66e54786-26dc-4ef9-bfc7-8a0bd6fc9d9blogseq____&quot;],536870961]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66e54786-26dc-4ef9-bfc7-8a0bd6fc9d9blogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1518,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[roundTrip](https://github.com/golang/go/blob/16830ab48abb0cbc702298cafaa69839d0c9f4f9/src/net/http/transport.go#L516-L517)logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1518,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1518,logseq____&quot;^Flogseq____&quot;,1548,536870961]],[logseq____&quot;^15logseq____&quot;,[1518,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1518,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1518,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1518,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a592-47d1-9a08-8477db088a53logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;接著讀request中的Method，URL，Content Length並更新到`trace`裡面。分別寫`invocation`與`trace`到`ongoing_http_client_requests`與`ongoing_http_client_requests_data`中，也記錄目前的client connection在`ongoing_client_connections`中。\\nid:: 66e54f6a-4faa-422c-aca5-e2fff30fd8dclogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^Flogseq____&quot;,1542,536870961]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66e54f6a-4faa-422c-aca5-e2fff30fd8dclogseq____&quot;],536870961]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870961]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66e54f6a-4faa-422c-aca5-e2fff30fd8dclogseq____&quot;],536870961]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66e54f6a-4faa-422c-aca5-e2fff30fd8dclogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`client_trace_parent`會再次呼叫`extract_traceparent_from_req_headers`取得traceparent header的header，並寫到`buf`裡面，而後decode成trace ID以及span ID等。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^Flogseq____&quot;,1542,536870961]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^Vlogseq____&quot;,1542,536870961]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a76a-44d5-9194-e4e3b3a00a3clogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1521,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;最後刪除go routine ID在`ongoing_client_connections`, `ongoing_http_client_requests`及`ongoing_http_client_requests_data`對應的欄位。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1521,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1521,logseq____&quot;^Flogseq____&quot;,1511,536870961]],[logseq____&quot;^15logseq____&quot;,[1521,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1521,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1521,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1521,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-70eb-44fd-9971-3f5c75584bcflogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[roundTrip](https://github.com/golang/go/blob/16830ab48abb0cbc702298cafaa69839d0c9f4f9/src/net/http/transport.go#L516-L517)logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Flogseq____&quot;,1525,536870961]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c077-459f-a436-d64162aae0aclogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^Flogseq____&quot;,1522,536870961]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-78e7-405e-b78c-237e60c78abflogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;利用`cc_ptr + cc_tconn_pos + 8`取得[tconn](https://github.com/golang/net/blob/ec05fdcd71141c885f3fb84c41d1c692f094ccbe/http2/transport.go#L302)欄位，型態是`net.Conn` interface。跟前面一樣，實作方通常是[tls.Conn](https://github.com/golang/go/blob/1e12eab8705d1d8d7472be9147a39caa1c8380db/src/crypto/tls/conn.go#L28)，一樣透過`tconn + 8`拿到 embed struct`net.conn`寫到`tconn_conn`，之後也使用`get_conn_info`取得IP跟port資訊，寫到`conn` pointer裡。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^Flogseq____&quot;,1528,536870961]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-ee3a-4e10-a337-8a78e293f309logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*Transport).roundTrip`logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^Flogseq____&quot;,1532,536870961]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-2553-44c3-9d40-1c654489b537logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (cc *ClientConn) roundTrip(req *http.Request, streamf func(*clientStream)) (*http.Response, error)`logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^Flogseq____&quot;,1546,536870961]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^Vlogseq____&quot;,1546,536870961]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-e81b-4c48-999d-b8d8392ac864logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1527,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (t *Transport) roundTrip(req *Request) (*Response, error)`logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1527,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1527,logseq____&quot;^Flogseq____&quot;,1523,536870961]],[logseq____&quot;^15logseq____&quot;,[1527,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1527,logseq____&quot;^Vlogseq____&quot;,1523,536870961]],[logseq____&quot;^15logseq____&quot;,[1527,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1527,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-d33b-4d60-a28a-9402ce6d779alogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1528,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`GO_PARAM1`取得`RoundTrip` method的`cc *ClientConn` receiver，型態是[ClientConn](https://github.com/golang/net/blob/ec05fdcd71141c885f3fb84c41d1c692f094ccbe/http2/transport.go#L300)。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1528,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1528,logseq____&quot;^Flogseq____&quot;,1510,536870961]],[logseq____&quot;^15logseq____&quot;,[1528,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1528,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1528,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1528,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-0e18-440e-bbd2-893b2e01f70alogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870961]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^Flogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^:logseq____&quot;,true,536870961]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870961]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870961]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870961]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-5b2b-48b9-87e4-80410b05ed55logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`GO_PARAM1`取得[PersistConn](https://github.com/golang/go/blob/16830ab48abb0cbc702298cafaa69839d0c9f4f9/src/net/http/transport.go#L1920)，並使用`pc_ptr + 8 + pc_conn_pos`取得實作`net.Conn`的[net.TCPConn](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/tcpsock.go#L112)，並用`conn_conn_ptr + rwc_conn_pos`取得`net.conn`。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^Flogseq____&quot;,1545,536870961]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-1ae1-4514-aa02-da177c8ce557logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1531,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (pc *persistConn) roundTrip(req *transportRequest) (resp *Response, err error)`logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1531,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1531,logseq____&quot;^Flogseq____&quot;,1505,536870961]],[logseq____&quot;^15logseq____&quot;,[1531,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1531,logseq____&quot;^Vlogseq____&quot;,1505,536870961]],[logseq____&quot;^15logseq____&quot;,[1531,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1531,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-3248-4517-be6f-b28cd5566036logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1532,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1532,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1532,logseq____&quot;^Flogseq____&quot;,1517,536870961]],[logseq____&quot;^15logseq____&quot;,[1532,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1532,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1532,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1532,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-3bbb-4f9d-a4e2-0eb1b4514642logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[roundTrip](https://github.com/golang/go/blob/16830ab48abb0cbc702298cafaa69839d0c9f4f9/src/net/http/transport.go#L2589)logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^Flogseq____&quot;,1513,536870961]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-cb76-4f23-83fb-8979337a100dlogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1534,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;之後的內容與 ((66e54786-26dc-4ef9-bfc7-8a0bd6fc9d9b)) 大同小異logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1534,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1534,logseq____&quot;^Flogseq____&quot;,1530,536870961]],[logseq____&quot;^15logseq____&quot;,[1534,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1534,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1534,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1534,logseq____&quot;^Hlogseq____&quot;,1517,536870961]],[logseq____&quot;^15logseq____&quot;,[1534,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-9b49-431d-87a9-99dcc249ff07logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1535,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`traceparent`不存在http client的header中，則利用parent goroutine的ID，去`go_trace_map`查先前紀錄的header。如果還是不存在，則創建一個，並寫到`tp_i (tp_info_t)`中。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1535,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1535,logseq____&quot;^Flogseq____&quot;,1520,536870961]],[logseq____&quot;^15logseq____&quot;,[1535,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1535,logseq____&quot;^Vlogseq____&quot;,1542,536870961]],[logseq____&quot;^15logseq____&quot;,[1535,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1535,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-0e66-4b37-9a63-e3f7e4e0564alogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1536,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;將`conn`更新到`ongoing_client_connections` map。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1536,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1536,logseq____&quot;^Flogseq____&quot;,1524,536870961]],[logseq____&quot;^15logseq____&quot;,[1536,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1536,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1536,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1536,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-3c58-401f-9e3d-3b9d1be9b21clogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1537,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1537,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1537,logseq____&quot;^Flogseq____&quot;,1539,536870961]],[logseq____&quot;^15logseq____&quot;,[1537,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1537,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1537,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1537,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a55a-4d2f-be6d-7ea4a8ed97ablogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1538,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`GO_PARAM2`取得`req *Request`，並初始化`invocation http_func_invocation_t`。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1538,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1538,logseq____&quot;^Flogseq____&quot;,1503,536870961]],[logseq____&quot;^15logseq____&quot;,[1538,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1538,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1538,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1538,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a8c0-4bba-865e-27ba36ab67e1logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## uprobe_http2RoundTriplogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^Flogseq____&quot;,1521,536870961]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870961]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^Jlogseq____&quot;,[],536870961]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-0218-4523-88f0-2b5044973078logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1540,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;雖然是golang function的return，照理應該用uretprobe，但是[golang尚不支援uretprobe]([Go crash with uretprobe · Issue #1320 · iovisor/bcc (github.com)](https://github.com/iovisor/bcc/issues/1320#issuecomment-407927542))。替代方法是使用uprobe，並找到function中每一個return的address，插入uprobe。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1540,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1540,logseq____&quot;^Flogseq____&quot;,1543,536870961]],[logseq____&quot;^15logseq____&quot;,[1540,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1540,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1540,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1540,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c749-4f38-96ed-c4fcf154871dlogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1541,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;首先在 ((66e54786-26dc-4ef9-bfc7-8a0bd6fc9d9b)) 中寫入的 `ongoing_http_client_requests`以及`ongoing_http_client_requests_data`查詢 `invocation`以及`data`。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1541,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1541,logseq____&quot;^Flogseq____&quot;,1540,536870961]],[logseq____&quot;^15logseq____&quot;,[1541,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1541,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1541,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1541,logseq____&quot;^Hlogseq____&quot;,1517,536870961]],[logseq____&quot;^15logseq____&quot;,[1541,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-285b-4348-ab2a-f1ad085ce38flogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1542,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;呼叫`client_trace_parent`在`req`中的Header中查詢traceparent相關的header，並寫到`incovation.tp`裡面。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1542,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1542,logseq____&quot;^Flogseq____&quot;,1538,536870961]],[logseq____&quot;^15logseq____&quot;,[1542,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1542,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1542,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1542,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-4691-4023-a55d-bac7cde8569elogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1543,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1543,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1543,logseq____&quot;^Flogseq____&quot;,1518,536870961]],[logseq____&quot;^15logseq____&quot;,[1543,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1543,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1543,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1543,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c3ae-480e-ae0f-96b7eeb3e090logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1544,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1544,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1544,logseq____&quot;^Flogseq____&quot;,1516,536870961]],[logseq____&quot;^15logseq____&quot;,[1544,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1544,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1544,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1544,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7362-48c4-a7c9-b4e62bb2eeb8logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`ongoing_http_client_requests`取得先前存放的`invocation`logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^Flogseq____&quot;,1505,536870961]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c1d2-48fa-a771-8bd8afda9362logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^Flogseq____&quot;,1509,536870961]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-570f-401a-8efa-431dcbdfac98logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1547,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在ringbuffer預留`http_request_trace`空間的`trace`，並把`data`以及`invocation`中紀錄的資訊寫到`trace`中。在`ongoing_client_connections`查詢先前紀錄的client connection，如果存在，則寫入`trace-logseq____&gt;conn`中。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1547,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1547,logseq____&quot;^Flogseq____&quot;,1541,536870961]],[logseq____&quot;^15logseq____&quot;,[1547,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1547,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1547,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1547,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c7cc-4cc6-8d28-c486ea9511eelogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1548,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*Transport).roundTrip`logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1548,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1548,logseq____&quot;^Flogseq____&quot;,1544,536870961]],[logseq____&quot;^15logseq____&quot;,[1548,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1548,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1548,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1548,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-491c-4637-86eb-41d10cefcd87logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (f *Framer) WriteHeaders(p HeadersFrameParam) error`logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^Flogseq____&quot;,1556,536870962]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^Vlogseq____&quot;,1556,536870962]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b429-41f0-9132-6cdfb595134dlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`framer_invocation_map`取得`framer_func_invocation_t`之後，利用`f_info-logseq____&gt;framer_ptr + framer_w_pos + 8 `取得實作`io.Writer` interface的struct，也就是[bufio.Writer](https://github.com/golang/go/blob/cf97cd317be0d5fc1fa7b861f143060d7fd9b361/src/bufio/bufio.go#L576)。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^Flogseq____&quot;,1562,536870962]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-e047-4491-9d95-e8d017aa1f41logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1552,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`golang.org/x/net/http2.(*Framer).WriteHeaders`logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1552,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1552,logseq____&quot;^Flogseq____&quot;,1585,536870962]],[logseq____&quot;^15logseq____&quot;,[1552,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1552,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1552,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1552,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a35a-4058-9fe0-e2370e022d53logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;利用`framer + framer_w_pos`是取得在Framer的[w](https://github.com/grafana/beyla/blob/77a6758fa2f461fbc85fdf0c4c09d751dd836a8b/vendor/golang.org/x/net/http2/frame.go#L290)的interface，而`framer + framer_w_pos + 8`取得實作`io.Writer` interface的struct，也就是[bufio.Writer](https://github.com/golang/go/blob/cf97cd317be0d5fc1fa7b861f143060d7fd9b361/src/bufio/bufio.go#L576)。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^Flogseq____&quot;,1596,536870962]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-826f-435c-a269-8b8e1184cc5clogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;type (1 byte)\\nlogseq.order-list-type:: numberlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^Flogseq____&quot;,1566,536870962]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^Vlogseq____&quot;,1566,536870962]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:logseq.order-list-typelogseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1logseq____&lt;logseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7800-44a8-9a59-716f1ee41784logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1555,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; A slice is a descriptor of an array segment. It consists of a pointer to the array, the length of the segment, and its capacity (the maximum length of the segment). [ref](https://go.dev/blog/slices-intro)logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1555,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1555,logseq____&quot;^Flogseq____&quot;,1567,536870962]],[logseq____&quot;^15logseq____&quot;,[1555,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1555,logseq____&quot;^Vlogseq____&quot;,1567,536870962]],[logseq____&quot;^15logseq____&quot;,[1555,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1555,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-fc7e-4fce-898d-a879cbfca11dlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^Flogseq____&quot;,1571,536870962]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-f05b-45c0-8a00-57214aeaa2a4logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# golang example\\nid:: 66e6f150-bd0f-4908-a65d-c94c2d3ecc58logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^Flogseq____&quot;,2070,536870975]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66e6f150-bd0f-4908-a65d-c94c2d3ecc58logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870975]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66e6f150-bd0f-4908-a65d-c94c2d3ecc58logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66e6f150-bd0f-4908-a65d-c94c2d3ecc58logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1558,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[WriteHeaders](https://github.com/grafana/beyla/blob/77a6758fa2f461fbc85fdf0c4c09d751dd836a8b/vendor/golang.org/x/net/http2/frame.go#L1097)logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1558,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1558,logseq____&quot;^Flogseq____&quot;,1578,536870962]],[logseq____&quot;^15logseq____&quot;,[1558,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1558,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1558,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1558,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7853-4486-a2f3-79bd038b1777logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1559,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`stream_lookup`在`http2_req_map`去查go routine的位址，這個map會在`http2RoundTrip`被更新，也就是有任何的http2 client呼叫都會被更新。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1559,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1559,logseq____&quot;^Flogseq____&quot;,1582,536870962]],[logseq____&quot;^15logseq____&quot;,[1559,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1559,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1559,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1559,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7601-4eeb-87a9-9615d4e3c6edlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1560,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果目前`buf`的size (`n`)加上encoded過後的`traceparent`後(長度為66)，則寫入`traceparent` header。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1560,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1560,logseq____&quot;^Flogseq____&quot;,1569,536870962]],[logseq____&quot;^15logseq____&quot;,[1560,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1560,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1560,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1560,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-56da-48d9-8bbf-e18fc70d2650logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## http2FramerWriteHeaderslogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^Flogseq____&quot;,1592,536870962]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870962]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^Jlogseq____&quot;,[],536870962]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-820b-4842-96f9-df81c0569eeelogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1562,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1562,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1562,logseq____&quot;^Flogseq____&quot;,1558,536870962]],[logseq____&quot;^15logseq____&quot;,[1562,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1562,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1562,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1562,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-3b20-450b-8e7a-fa1e58b512c1logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1563,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果目前的length加上traceparent的key, value以及`: `+`\\\\r\\\\n`之後小於buf的size。則利用`bpf_probe_write_user`將traceparent header寫入[bufio.Writer](https://github.com/golang/go/blob/cf97cd317be0d5fc1fa7b861f143060d7fd9b361/src/bufio/bufio.go#L576)的`buf`，並更新`n` member。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1563,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1563,logseq____&quot;^Flogseq____&quot;,1593,536870962]],[logseq____&quot;^15logseq____&quot;,[1563,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1563,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1563,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1563,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-4d88-4b08-9cfb-c084ec2b8439logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用go routine位址去查`http_func_invocation_t`。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^Flogseq____&quot;,1559,536870962]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-356c-46f9-bbe7-3463816001c3logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;寫入`traceparent` header之後，更新 `bufio.Writer`的`n` member。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^Flogseq____&quot;,1566,536870962]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b0c4-4452-b181-339ffcbbe445logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1566,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;HPACK寫入順序是logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1566,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1566,logseq____&quot;^Flogseq____&quot;,1560,536870962]],[logseq____&quot;^15logseq____&quot;,[1566,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1566,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1566,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1566,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-1348-4d95-9d5a-764299a6655elogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1567,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;利用`w_ptr + io_writer_buf_ptr_pos`讀入`buf` array；`w_ptr + io_writer_n_pos`讀入`n`；`w_ptr + io_writer_buf_ptr_pos + 16`讀入`buf`的capability。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1567,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1567,logseq____&quot;^Flogseq____&quot;,1551,536870962]],[logseq____&quot;^15logseq____&quot;,[1567,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1567,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1567,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1567,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-68eb-4143-848d-07e931a48e13logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;value length (1 byte，不啟用Huffman Encoded)\\nlogseq.order-list-type:: numberlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^Flogseq____&quot;,1589,536870962]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^Vlogseq____&quot;,1566,536870962]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1logseq____&lt;logseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-568f-469a-b240-18bc4a6af8delogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1569,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\nSEC(\\logseq____&quot;uprobe/http2FramerWriteHeaders_returns\\logseq____&quot;)\\nint uprobe_http2FramerWriteHeaders_returns(struct pt_regs *ctx) {\\n    bpf_dbg_printk(\\logseq____&quot;=== uprobe/proc http2 Framer writeHeaders returns === \\logseq____&quot;);\\n\\n    void *goroutine_addr = GOROUTINE_PTR(ctx);\\n\\n    framer_func_invocation_t *f_info = bpf_map_lookup_elem(logseq____&amp;framer_invocation_map, logseq____&amp;goroutine_addr);\\n\\n    if (f_info) {\\n        void *w_ptr = 0;\\n        bpf_probe_read(logseq____&amp;w_ptr, sizeof(w_ptr), (void *)(f_info-logseq____&gt;framer_ptr + framer_w_pos + 8));\\n\\n        if (w_ptr) {\\n            void *buf_arr = 0;\\n            s64 n = 0;\\n            s64 cap = 0;\\n            s64 initial_n = f_info-logseq____&gt;initial_n;\\n            bpf_probe_read(logseq____&amp;buf_arr, sizeof(buf_arr), (void *)(w_ptr + io_writer_buf_ptr_pos));\\n            bpf_probe_read(logseq____&amp;n, sizeof(n), (void *)(w_ptr + io_writer_n_pos));\\n            bpf_probe_read(logseq____&amp;cap, sizeof(cap), (void *)(w_ptr + io_writer_buf_ptr_pos + 16));\\n\\n            bpf_clamp_umax(initial_n, MAX_W_PTR_N);\\n```logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1569,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1569,logseq____&quot;^Flogseq____&quot;,1567,536870962]],[logseq____&quot;^15logseq____&quot;,[1569,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1569,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1569,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1569,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-cc0d-4142-91bc-7695d4ceb5e3logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1570,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1570,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1570,logseq____&quot;^Flogseq____&quot;,1583,536870962]],[logseq____&quot;^15logseq____&quot;,[1570,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1570,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1570,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1570,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a09a-43ae-a07b-41f5f7d92d34logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1571,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[WriteHeaders](https://github.com/grafana/beyla/blob/77a6758fa2f461fbc85fdf0c4c09d751dd836a8b/vendor/golang.org/x/net/http2/frame.go#L1097)logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1571,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1571,logseq____&quot;^Flogseq____&quot;,1552,536870962]],[logseq____&quot;^15logseq____&quot;,[1571,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1571,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1571,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1571,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-6018-427e-b8d9-3391d2c71522logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1572,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n            if (buf_arr logseq____&amp;logseq____&amp; n logseq____&lt; (cap - HTTP2_ENCODED_HEADER_LEN)) {\\n                uint8_t tp_str[TP_MAX_VAL_LENGTH];\\n\\n                u8 type_byte = 0;\\n                u8 key_len = TP_ENCODED_LEN | 0x80; // high tagged to signify hpack encoded value\\n                u8 val_len = TP_MAX_VAL_LENGTH;\\n\\n                // We donlogseq____&apos;t hpack encode the value of the traceparent field, because that will require that \\n                // we use bpf_loop, which in turn increases the kernel requirement to 5.17+.\\n                make_tp_string(tp_str, logseq____&amp;f_info-logseq____&gt;tp);\\n                bpf_dbg_printk(\\logseq____&quot;Will write %s, type = %d, key_len = %d, val_len = %d\\logseq____&quot;, tp_str, type_byte, key_len, val_len);\\n\\n                bpf_probe_write_user(buf_arr + (n logseq____&amp; 0x0ffff), logseq____&amp;type_byte, sizeof(type_byte));                        \\n                n++;\\n                // Write the length of the key = 8\\n                bpf_probe_write_user(buf_arr + (n logseq____&amp; 0x0ffff), logseq____&amp;key_len, sizeof(key_len));\\n                n++;\\n                // Write logseq____&apos;traceparentlogseq____&apos; encoded as hpack\\n                bpf_probe_write_user(buf_arr + (n logseq____&amp; 0x0ffff), tp_encoded, sizeof(tp_encoded));;\\n                n += TP_ENCODED_LEN;\\n                // Write the length of the hpack encoded traceparent field \\n                bpf_probe_write_user(buf_arr + (n logseq____&amp; 0x0ffff), logseq____&amp;val_len, sizeof(val_len));\\n                n++;\\n                bpf_probe_write_user(buf_arr + (n logseq____&amp; 0x0ffff), tp_str, sizeof(tp_str));\\n                n += TP_MAX_VAL_LENGTH;\\n                // Update the value of n in w to reflect the new size\\n                bpf_probe_write_user((void *)(w_ptr + io_writer_n_pos), logseq____&amp;n, sizeof(n));\\n\\n                // http2 encodes the length of the headers in the first 3 bytes of buf, we need to update those\\n                u8 size_1 = 0;\\n                u8 size_2 = 0;\\n                u8 size_3 = 0;\\n\\n                bpf_probe_read(logseq____&amp;size_1, sizeof(size_1), (void *)(buf_arr + initial_n));\\n                bpf_probe_read(logseq____&amp;size_2, sizeof(size_2), (void *)(buf_arr + initial_n + 1));\\n                bpf_probe_read(logseq____&amp;size_3, sizeof(size_3), (void *)(buf_arr + initial_n + 2));\\n\\n                bpf_dbg_printk(\\logseq____&quot;size 1:%x, 2:%x, 3:%x\\logseq____&quot;, size_1, size_2, size_3);\\n\\n                u32 original_size = ((u32)(size_1) logseq____&lt;logseq____&lt; 16) | ((u32)(size_2) logseq____&lt;logseq____&lt; 8) | size_3;\\n                u32 new_size = original_size + HTTP2_ENCODED_HEADER_LEN;\\n\\n                bpf_dbg_printk(\\logseq____&quot;Changing size from %d to %d\\logseq____&quot;, original_size, new_size);\\n                size_1 = (u8)(new_size logseq____&gt;logseq____&gt; 16);\\n                size_2 = (u8)(new_size logseq____&gt;logseq____&gt; 8);\\n                size_3 = (u8)(new_size);\\n\\n                bpf_probe_write_user((void *)(buf_arr + initial_n), logseq____&amp;size_1, sizeof(size_1));\\n                bpf_probe_write_user((void *)(buf_arr + initial_n +1), logseq____&amp;size_2, sizeof(size_2));\\n                bpf_probe_write_user((void *)(buf_arr + initial_n + 2), logseq____&amp;size_3, sizeof(size_3));\\n            }\\n```logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1572,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1572,logseq____&quot;^Flogseq____&quot;,1581,536870962]],[logseq____&quot;^15logseq____&quot;,[1572,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1572,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1572,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1572,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-2705-4445-89b7-600d85ff4309logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1573,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[roundTrip](https://github.com/golang/go/blob/16830ab48abb0cbc702298cafaa69839d0c9f4f9/src/net/http/transport.go#L516-L517)logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1573,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1573,logseq____&quot;^Flogseq____&quot;,1587,536870962]],[logseq____&quot;^15logseq____&quot;,[1573,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1573,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1573,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1573,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-0020-4cc6-9799-b381db401298logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1574,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1574,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1574,logseq____&quot;^Flogseq____&quot;,1591,536870962]],[logseq____&quot;^15logseq____&quot;,[1574,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1574,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1574,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1574,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-30ac-4d60-bc84-b177c7e7c23elogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870962]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^Flogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^:logseq____&quot;,true,536870962]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870962]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-2ca7-4453-a3b5-a01fc1256616logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;key length (1 byte，最高位元如果是1，代表是Huffman Encoded)\\nlogseq.order-list-type:: numberlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^Flogseq____&quot;,1554,536870962]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^Vlogseq____&quot;,1566,536870962]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1logseq____&lt;logseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-0049-4949-80fb-289f57ed80e7logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;value literal (55 bytes)\\nlogseq.order-list-type:: numberlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^Flogseq____&quot;,1568,536870962]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^Vlogseq____&quot;,1566,536870962]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1logseq____&lt;logseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b8a1-4e1a-890a-b99b33bccfb6logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1578,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`golang.org/x/net/http2.(*Framer).WriteHeaders`logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1578,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1578,logseq____&quot;^Flogseq____&quot;,1570,536870962]],[logseq____&quot;^15logseq____&quot;,[1578,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1578,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1578,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1578,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-fe9a-4813-9be0-ae47bd44a2d9logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1579,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (h Header) writeSubset(w io.Writer, exclude map[string]bool, trace *httptrace.ClientTrace) error`logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1579,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1579,logseq____&quot;^Flogseq____&quot;,1590,536870962]],[logseq____&quot;^15logseq____&quot;,[1579,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1579,logseq____&quot;^Vlogseq____&quot;,1590,536870962]],[logseq____&quot;^15logseq____&quot;,[1579,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1579,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a5ed-42e5-ae28-2c28b5482f7flogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1580,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;將`tp`, `n`, `framer`位址紀錄在`framer_invocation_map`中。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1580,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1580,logseq____&quot;^Flogseq____&quot;,1588,536870962]],[logseq____&quot;^15logseq____&quot;,[1580,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1580,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1580,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1580,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-6356-4210-94b1-25ef79876040logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;golang在實作http2時，保留`wbuf`前三個bytes當作header的長度，可以參考[這裡](https://github.com/grafana/beyla/blob/77a6758fa2f461fbc85fdf0c4c09d751dd836a8b/vendor/golang.org/x/net/http2/frame.go#L363)。這邊也要將新的header size更新回去，長度表示是8進位。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^Flogseq____&quot;,1565,536870962]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c24b-4c73-8da6-dd9e3c1a51cdlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1582,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`GO_PARAM1`取得`Framer` pointer receiver；使用`GO_PARAM2`取得`HeadersFrameParam` struct，因為[StreamID](https://github.com/grafana/beyla/blob/77a6758fa2f461fbc85fdf0c4c09d751dd836a8b/vendor/golang.org/x/net/http2/frame.go#L1065)是`HeadersFrameParam`第一個member，所以它的位址也是`StreamID`的位址 [[Beyla/Assertion]]。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1582,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1582,logseq____&quot;^Flogseq____&quot;,1556,536870962]],[logseq____&quot;^15logseq____&quot;,[1582,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1582,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1582,logseq____&quot;^Ulogseq____&quot;,1359,536870962]],[logseq____&quot;^15logseq____&quot;,[1582,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1582,logseq____&quot;^Ulogseq____&quot;,1463,536870962]],[logseq____&quot;^15logseq____&quot;,[1582,logseq____&quot;^Hlogseq____&quot;,1359,536870962]],[logseq____&quot;^15logseq____&quot;,[1582,logseq____&quot;^Hlogseq____&quot;,1463,536870962]],[logseq____&quot;^15logseq____&quot;,[1582,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8542-4b02-bef8-0daa038ca73dlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## http2FramerWriteHeaders_returnslogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^Flogseq____&quot;,1584,536870962]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870962]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^Jlogseq____&quot;,[],536870962]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7272-447b-ae19-34b0e9bc9f22logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n            void *w_ptr = 0;\\n            bpf_probe_read(logseq____&amp;w_ptr, sizeof(w_ptr), (void *)(framer + framer_w_pos + 8));\\n            if (w_ptr) {\\n                s64 n = 0;\\n                bpf_probe_read(logseq____&amp;n, sizeof(n), (void *)(w_ptr + io_writer_n_pos));\\n\\n                bpf_dbg_printk(\\logseq____&quot;Found initial n = %d\\logseq____&quot;, n);\\n\\n                // The offset is 0 on all connections welogseq____&apos;ve tested with.\\n                // If we read some very large offset, we donlogseq____&apos;t do anything since it might be a situation\\n                // we canlogseq____&apos;t handle.\\n                if (n logseq____&lt; MAX_W_PTR_N) {\\n                    framer_func_invocation_t f_info = {\\n                        .tp = info-logseq____&gt;tp,\\n                        .framer_ptr = (u64)framer,\\n                        .initial_n = n,\\n                    };\\n\\n                    bpf_map_update_elem(logseq____&amp;framer_invocation_map, logseq____&amp;goroutine_addr, logseq____&amp;f_info, BPF_ANY);\\n                } else {\\n                   bpf_dbg_printk(\\logseq____&quot;N too large, ignoring...\\logseq____&quot;);\\n                }\\n```logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^Flogseq____&quot;,1580,536870962]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-dec3-435f-9100-489dc986ad41logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1585,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1585,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1585,logseq____&quot;^Flogseq____&quot;,1561,536870962]],[logseq____&quot;^15logseq____&quot;,[1585,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1585,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1585,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1585,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-baac-4c13-892d-1ea0d48576d9logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`GO_PARAM1`去取得`Header` receiver的位址：使用`GO_PARAM3`去取得實現[io.Writer](https://pkg.go.dev/io#Writer)的struct，即是[bufio.Writer](https://github.com/golang/go/blob/cf97cd317be0d5fc1fa7b861f143060d7fd9b361/src/bufio/bufio.go#L576)。使用`header_req_map`去查到`request_goaddr`，進而使用`request_goaddr`去找到`func_inv`。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^Flogseq____&quot;,1590,536870962]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-9889-469d-80fa-0d73ce24f239logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1587,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.Header.writeSubset`logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1587,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1587,logseq____&quot;^Flogseq____&quot;,1574,536870962]],[logseq____&quot;^15logseq____&quot;,[1587,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1587,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1587,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1587,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-d0df-435b-a1bc-c35ad6abd070logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;利用`w_ptr + io_writer_n_pos`讀入[n](https://github.com/golang/go/blob/cf97cd317be0d5fc1fa7b861f143060d7fd9b361/src/bufio/bufio.go#L579)。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^Flogseq____&quot;,1553,536870962]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-aa88-4a77-b74c-c0c9e1491e57logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;key literal (8 bytes，encoded過後的`traceparent`，參考 ((66e6f150-bd0f-4908-a65d-c94c2d3ecc58)) )\\nlogseq.order-list-type:: numberlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^Flogseq____&quot;,1576,536870962]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^Vlogseq____&quot;,1566,536870962]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1logseq____&lt;logseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^Hlogseq____&quot;,1557,536870962]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-d745-47bf-8893-cc2e6953fa26logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1590,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1590,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1590,logseq____&quot;^Flogseq____&quot;,1573,536870962]],[logseq____&quot;^15logseq____&quot;,[1590,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1590,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1590,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1590,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-653d-4924-a762-494481211d1blogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## header_writeSubsetlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^Flogseq____&quot;,1575,536870962]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870962]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^Jlogseq____&quot;,[],536870962]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-6b38-4cbd-9791-3f4da528ead6logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n    unsigned char buf[TRACEPARENT_LEN];\\n\\n    make_tp_string(buf, logseq____&amp;func_inv-logseq____&gt;tp);\\n\\n    void *buf_ptr = 0;\\n    bpf_probe_read(logseq____&amp;buf_ptr, sizeof(buf_ptr), (void *)(io_writer_addr + io_writer_buf_ptr_pos));\\n    if (!buf_ptr) {\\n        goto done;\\n    }\\n    \\n    s64 size = 0;\\n    bpf_probe_read(logseq____&amp;size, sizeof(s64), (void *)(io_writer_addr + io_writer_buf_ptr_pos + 8)); // grab size\\n\\n    s64 len = 0;\\n    bpf_probe_read(logseq____&amp;len, sizeof(s64), (void *)(io_writer_addr + io_writer_n_pos)); // grab len\\n\\n    bpf_dbg_printk(\\logseq____&quot;buf_ptr %llx, len=%d, size=%d\\logseq____&quot;, (void*)buf_ptr, len, size);\\n\\n    if (len logseq____&lt; (size - TP_MAX_VAL_LENGTH - TP_MAX_KEY_LENGTH - 4)) { // 4 = strlen(\\logseq____&quot;:_\\logseq____&quot;) + strlen(\\logseq____&quot;\\\\r\\\\n\\logseq____&quot;)\\n        char key[TP_MAX_KEY_LENGTH + 2] = \\logseq____&quot;Traceparent: \\logseq____&quot;;\\n        char end[2] = \\logseq____&quot;\\\\r\\\\n\\logseq____&quot;;\\n        bpf_probe_write_user(buf_ptr + (len logseq____&amp; 0x0ffff), key, sizeof(key));\\n        len += TP_MAX_KEY_LENGTH + 2;\\n        bpf_probe_write_user(buf_ptr + (len logseq____&amp; 0x0ffff), buf, sizeof(buf));\\n        len += TP_MAX_VAL_LENGTH;\\n        bpf_probe_write_user(buf_ptr + (len logseq____&amp; 0x0ffff), end, sizeof(end));\\n        len += 2;\\n        bpf_probe_write_user((void *)(io_writer_addr + io_writer_n_pos), logseq____&amp;len, sizeof(len));\\n    }\\n\\ndone:\\n    bpf_map_delete_elem(logseq____&amp;header_req_map, logseq____&amp;header_addr);\\n    return 0;\\n\\n```logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^Flogseq____&quot;,1563,536870962]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-1000-4b71-9d88-ccf924a0837alogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1593,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;分別讀[bufio.Writer](https://github.com/golang/go/blob/cf97cd317be0d5fc1fa7b861f143060d7fd9b361/src/bufio/bufio.go#L576)的`buf` array的pointer以及size。另外讀`n` member，也就是length。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1593,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1593,logseq____&quot;^Flogseq____&quot;,1594,536870962]],[logseq____&quot;^15logseq____&quot;,[1593,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1593,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1593,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1593,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-3cdd-4bc1-bfcf-9391fddbfa4blogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`make_tp_string`將`func_inv-logseq____&gt;tp`的內容寫入`buf`。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^Flogseq____&quot;,1595,536870962]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-1b4d-43d7-bae0-439ca2ef52ddlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1595,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n    bpf_dbg_printk(\\logseq____&quot;=== uprobe/proc header writeSubset === \\logseq____&quot;);\\n\\n    void *header_addr = GO_PARAM1(ctx);\\n    void *io_writer_addr = GO_PARAM3(ctx);\\n\\n    bpf_dbg_printk(\\logseq____&quot;goroutine_addr %lx, header ptr %llx\\logseq____&quot;, GOROUTINE_PTR(ctx), header_addr);\\n\\n    u64 *request_goaddr = bpf_map_lookup_elem(logseq____&amp;header_req_map, logseq____&amp;header_addr);\\n\\n    if (!request_goaddr) {\\n        bpf_dbg_printk(\\logseq____&quot;Canlogseq____&apos;t find parent go routine for header %llx\\logseq____&quot;, header_addr);\\n        return 0;\\n    }\\n\\n    u64 parent_goaddr = *request_goaddr;\\n\\n    http_func_invocation_t *func_inv = bpf_map_lookup_elem(logseq____&amp;ongoing_http_client_requests, logseq____&amp;parent_goaddr);\\n    if (!func_inv) {\\n        bpf_dbg_printk(\\logseq____&quot;Canlogseq____&apos;t find client request for goroutine %llx\\logseq____&quot;, parent_goaddr);\\n        goto done;\\n    }\\n```logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1595,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1595,logseq____&quot;^Flogseq____&quot;,1586,536870962]],[logseq____&quot;^15logseq____&quot;,[1595,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1595,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1595,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1595,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-64f9-4f39-9d95-d53652214e69logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1596,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n    void *framer = GO_PARAM1(ctx);\\n    u64 stream_id = (u64)GO_PARAM2(ctx);\\n\\n    bpf_printk(\\logseq____&quot;framer=%llx, stream_id=%lld\\logseq____&quot;, framer, ((u64)stream_id));\\n\\n    u32 stream_lookup = (u32)stream_id;\\n\\n    void **go_ptr = bpf_map_lookup_elem(logseq____&amp;http2_req_map, logseq____&amp;stream_lookup);\\n\\n    if (go_ptr) {\\n        void *go_addr = *go_ptr;\\n        bpf_dbg_printk(\\logseq____&quot;Found existing stream data goaddr = %llx\\logseq____&quot;, go_addr);\\n\\n        http_func_invocation_t *info = bpf_map_lookup_elem(logseq____&amp;ongoing_http_client_requests, logseq____&amp;go_addr);\\n\\n        if (info) {\\n            bpf_dbg_printk(\\logseq____&quot;Found func info %llx\\logseq____&quot;, info);\\n            void *goroutine_addr = GOROUTINE_PTR(ctx);\\n```logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1596,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1596,logseq____&quot;^Flogseq____&quot;,1564,536870962]],[logseq____&quot;^15logseq____&quot;,[1596,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1596,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1596,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1596,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-4ea8-4d84-88a9-e3efeb3391d7logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (f *Framer) WriteHeaders(p HeadersFrameParam) error`logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^Flogseq____&quot;,1562,536870962]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^Vlogseq____&quot;,1562,536870962]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-0a82-4aea-8ade-0252433aa1d8logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1599,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`server_http_func_invocation_t` structlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1599,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1599,logseq____&quot;^Flogseq____&quot;,1657,536870963]],[logseq____&quot;^15logseq____&quot;,[1599,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1599,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1599,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1599,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-9780-4f57-a3cc-7b3bf3d32538logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1600,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;根據 ((66370235-abe8-4707-b6c1-07285b460e5a))，透過`GOROUTINE_PTR`，取得go routine的pointer；使用`GO_PARAM4`取得`*Request`。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1600,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1600,logseq____&quot;^Flogseq____&quot;,1684,536870963]],[logseq____&quot;^15logseq____&quot;,[1600,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1600,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1600,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1600,logseq____&quot;^Hlogseq____&quot;,1658,536870963]],[logseq____&quot;^15logseq____&quot;,[1600,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-26fc-4e88-8d9a-428719068a49logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;實現`ResponseWriter`的struct pointer，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8))，是`ServeHTTP`第三個參數(`GO_PARAM3`)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Flogseq____&quot;,1604,536870963]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Vlogseq____&quot;,1735,536870963]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Hlogseq____&quot;,1645,536870963]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-5b92-4cf2-94fc-c493e51b3729logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## http2serverConn_runHandlerlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^Flogseq____&quot;,1676,536870963]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870963]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^Jlogseq____&quot;,[],536870963]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-e921-4688-85ba-8e34dad99144logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;context.Contextlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^Flogseq____&quot;,1630,536870963]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^Vlogseq____&quot;,1674,536870963]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-dbd7-48af-bc53-32a42e61ad36logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1604,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`ResponseWriter`的vtable pointer，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8))，是`ServeHTTP`第二個參數(`GO_PARAM2`)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1604,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1604,logseq____&quot;^Flogseq____&quot;,1636,536870963]],[logseq____&quot;^15logseq____&quot;,[1604,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1604,logseq____&quot;^Vlogseq____&quot;,1735,536870963]],[logseq____&quot;^15logseq____&quot;,[1604,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1604,logseq____&quot;^Hlogseq____&quot;,1645,536870963]],[logseq____&quot;^15logseq____&quot;,[1604,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-6ec5-4f6c-93f3-ba7aebb905b3logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1605,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[net.(*netFD).Read](https://github.com/golang/go/blob/42f9ee904caf6681ee32e7b048f15ab7cddf3eb3/src/net/fd_posix.go#L65)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1605,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1605,logseq____&quot;^Flogseq____&quot;,1698,536870963]],[logseq____&quot;^15logseq____&quot;,[1605,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1605,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1605,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1605,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-af9f-4211-94c8-cc5daf0e48fdlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1606,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`GO_PARAM1`取得[*http.conn](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L252) ，再計算`net.Conn`在該struct中的位置(`rwc`欄位)，[net.Conn](https://github.com/golang/go/blob/master/src/net/net.go#L119)是一個interface。最後使用`c_ptr + 8 + c_rwc_pos`取得實現`net.Conn` interface的struct，通常是由`*net.TCPConn`或是`*tls.Conn`所實現，如`net.Conn`在`net.conn`註解中所述。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1606,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1606,logseq____&quot;^Flogseq____&quot;,1681,536870963]],[logseq____&quot;^15logseq____&quot;,[1606,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1606,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1606,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1606,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-1183-468a-a4f8-ee1992bf7241logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1607,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nstatic __always_inline void* unwrap_tls_conn_info(void *conn_ptr, void *tls_state) {\\n    if (conn_ptr logseq____&amp;logseq____&amp; tls_state) {\\n        void *c_ptr = 0;\\n        bpf_probe_read(logseq____&amp;c_ptr, sizeof(c_ptr), (void *)(conn_ptr)); // unwrap conn\\n\\n        bpf_dbg_printk(\\logseq____&quot;unwrapped conn ptr %llx\\logseq____&quot;, c_ptr);\\n\\n        if (c_ptr) {\\n            return c_ptr + 8;\\n        }\\n    }\\n\\n    return conn_ptr;\\n}\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1607,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1607,logseq____&quot;^Flogseq____&quot;,1732,536870963]],[logseq____&quot;^15logseq____&quot;,[1607,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1607,logseq____&quot;^Vlogseq____&quot;,1613,536870963]],[logseq____&quot;^15logseq____&quot;,[1607,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1607,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-6dd3-4d80-aafb-7ef4282fe74flogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1608,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;*Server.Serve  (Serve accepts incoming connections on the Listener)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1608,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1608,logseq____&quot;^Flogseq____&quot;,1632,536870963]],[logseq____&quot;^15logseq____&quot;,[1608,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1608,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1608,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1608,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-69f0-4771-a6f2-a2cf5f1f647elogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;首先使用`GO_PARAM1`取得pointer型態的receiver `*serverConn`，該struct被定義在[這裡](https://github.com/golang/net/blob/3c333c0c5288a7cf127e427ddda5b1b54020a2b4/http2/server.go#L592)。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^Flogseq____&quot;,1706,536870963]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-caec-43dd-847c-fdfa89235afalogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1610,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (c *conn) serve(ctx context.Context)`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1610,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1610,logseq____&quot;^Flogseq____&quot;,1668,536870963]],[logseq____&quot;^15logseq____&quot;,[1610,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1610,logseq____&quot;^Vlogseq____&quot;,1668,536870963]],[logseq____&quot;^15logseq____&quot;,[1610,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1610,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b16c-453c-a2e4-72163023e7celogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870963]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^Flogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^:logseq____&quot;,true,536870963]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870963]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-2580-4e3b-8e97-e1c41fab2734logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1612,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1612,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1612,logseq____&quot;^Flogseq____&quot;,1685,536870963]],[logseq____&quot;^15logseq____&quot;,[1612,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1612,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1612,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1612,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-6f33-4bb2-a098-43ff7e30aca5logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1613,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;所以會另外呼叫`unwrap_tls_conn_info`去把`tls.Conn`中的`conn`欄位取出。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1613,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1613,logseq____&quot;^Flogseq____&quot;,1680,536870963]],[logseq____&quot;^15logseq____&quot;,[1613,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1613,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1613,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1613,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7fd2-4e9e-b43e-ba526361a347logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1614,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1614,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1614,logseq____&quot;^Flogseq____&quot;,1677,536870963]],[logseq____&quot;^15logseq____&quot;,[1614,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1614,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1614,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1614,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-33b9-43d3-9b3f-494573f0903clogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (sh serverHandler) ServeHTTP(rw ResponseWriter, req *Request)`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^Flogseq____&quot;,1622,536870963]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^Vlogseq____&quot;,1622,536870963]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-38b5-43dc-8695-aaf053d20bc5logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1616,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;利用`goroutine_addr`去在 ((6636e390-9236-4c1f-93dd-53eeedcfedc5)) 寫入的`ongoing_http_server_requests`查詢先前的request，如果查到的`invocation`為空，則去查parent go routine的`invocation`。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1616,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1616,logseq____&quot;^Flogseq____&quot;,1643,536870963]],[logseq____&quot;^15logseq____&quot;,[1616,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1616,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1616,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1616,logseq____&quot;^Hlogseq____&quot;,1704,536870963]],[logseq____&quot;^15logseq____&quot;,[1616,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-5262-4289-a30f-1e14d95ceaablogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1617,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;根據 ((6636fff3-c75e-4031-8041-d568c3966625)) ，占 8 byteslogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1617,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1617,logseq____&quot;^Flogseq____&quot;,1653,536870963]],[logseq____&quot;^15logseq____&quot;,[1617,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1617,logseq____&quot;^Vlogseq____&quot;,1653,536870963]],[logseq____&quot;^15logseq____&quot;,[1617,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1617,logseq____&quot;^Hlogseq____&quot;,1627,536870963]],[logseq____&quot;^15logseq____&quot;,[1617,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7e38-41ae-a82c-7f74c64c927dlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1618,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[http.serverHandler.ServeHTTP](https://cs.opensource.google/go/go/+/refs/tags/go1.23.1:src/net/http/server.go;l=3201)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1618,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1618,logseq____&quot;^Flogseq____&quot;,1728,536870963]],[logseq____&quot;^15logseq____&quot;,[1618,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1618,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1618,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1618,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-cac3-496f-be97-61d977de80calogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1619,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1619,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1619,logseq____&quot;^Flogseq____&quot;,1712,536870963]],[logseq____&quot;^15logseq____&quot;,[1619,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1619,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1619,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1619,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7e94-43ba-a213-e24fe4768073logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1620,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`context.Context`的vtable pointer，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8))，是`readRequest`第二個參數(`GO_PARAM2`)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1620,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1620,logseq____&quot;^Flogseq____&quot;,1638,536870963]],[logseq____&quot;^15logseq____&quot;,[1620,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1620,logseq____&quot;^Vlogseq____&quot;,1603,536870963]],[logseq____&quot;^15logseq____&quot;,[1620,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1620,logseq____&quot;^Hlogseq____&quot;,1645,536870963]],[logseq____&quot;^15logseq____&quot;,[1620,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-1467-491d-af51-c5049b6868eelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1621,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`req` pointer不為NULL，則從`req`中讀入method, url以及content length，並寫到`invocation` pointer中。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1621,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1621,logseq____&quot;^Flogseq____&quot;,1624,536870963]],[logseq____&quot;^15logseq____&quot;,[1621,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1621,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1621,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1621,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-acfb-4790-8beb-b5456341c275logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1622,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1622,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1622,logseq____&quot;^Flogseq____&quot;,1723,536870963]],[logseq____&quot;^15logseq____&quot;,[1622,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1622,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1622,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1622,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-12be-4d2c-855d-ff5688e3a187logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[read in background cr.conn.rwc.Read](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L789)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^Flogseq____&quot;,1679,536870963]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^Vlogseq____&quot;,1679,536870963]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8d31-4db6-adfa-d14c19b21525logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1624,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;一開始使用`server_trace_parent`去取得request header中trace相關的header，logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1624,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1624,logseq____&quot;^Flogseq____&quot;,1644,536870963]],[logseq____&quot;^15logseq____&quot;,[1624,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1624,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1624,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1624,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7370-440f-a289-2dcd12143399logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1625,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`context.Context`的vtable pointer，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8))，是`readRequest`第二個參數(`GO_PARAM2`)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1625,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1625,logseq____&quot;^Flogseq____&quot;,1725,536870963]],[logseq____&quot;^15logseq____&quot;,[1625,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1625,logseq____&quot;^Vlogseq____&quot;,1727,536870963]],[logseq____&quot;^15logseq____&quot;,[1625,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1625,logseq____&quot;^Hlogseq____&quot;,1645,536870963]],[logseq____&quot;^15logseq____&quot;,[1625,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-0a07-4b7d-818c-740ccbe916aelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1626,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`traceparent` header的pointer不存在，則在`ongoing_server_connections` map中查`goroutine_addr`對應的`connection_info_t`，如果存在，則利用`connection_info_t`在`trace_map`中取得`traceparent`相關的資訊。如果找不到，則同樣設定亂數的trace ID及將parent ID設定成0。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1626,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1626,logseq____&quot;^Flogseq____&quot;,1703,536870963]],[logseq____&quot;^15logseq____&quot;,[1626,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1626,logseq____&quot;^Vlogseq____&quot;,1624,536870963]],[logseq____&quot;^15logseq____&quot;,[1626,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1626,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-94ad-47a6-8801-bd1695c813e7logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## pointer type\\nid:: 6636fff3-c75e-4031-8041-d568c3966625logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^Flogseq____&quot;,1840,536870969]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6636fff3-c75e-4031-8041-d568c3966625logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870969]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6636fff3-c75e-4031-8041-d568c3966625logseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u6636fff3-c75e-4031-8041-d568c3966625logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`readRequest`是method，根據 ((66370276-921c-4a97-9864-19b04feb2fb1)) ，receiver是`readRequest`第一個參數(`GO_PARAM1`)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^Flogseq____&quot;,1678,536870963]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^Vlogseq____&quot;,1630,536870963]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^Hlogseq____&quot;,1652,536870963]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7c0c-496a-a97f-b3172de82023logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1629,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1629,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1629,logseq____&quot;^Flogseq____&quot;,1704,536870963]],[logseq____&quot;^15logseq____&quot;,[1629,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1629,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1629,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1629,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-9e47-41f4-b443-9154ea0431a2logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1630,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;receiver:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1630,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1630,logseq____&quot;^Flogseq____&quot;,1674,536870963]],[logseq____&quot;^15logseq____&quot;,[1630,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1630,logseq____&quot;^Vlogseq____&quot;,1674,536870963]],[logseq____&quot;^15logseq____&quot;,[1630,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1630,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-faf6-4e75-a735-3484bc7093c7logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1631,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[net/http.(*conn).readRequest](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L1967) (Read next request from connection.)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1631,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1631,logseq____&quot;^Flogseq____&quot;,1683,536870963]],[logseq____&quot;^15logseq____&quot;,[1631,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1631,logseq____&quot;^Vlogseq____&quot;,1693,536870963]],[logseq____&quot;^15logseq____&quot;,[1631,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1631,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-3060-4c66-b8b2-3f0401a057fclogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## HTTP1logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^Flogseq____&quot;,1722,536870963]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870963]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^Jlogseq____&quot;,[],536870963]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8732-4d7c-b1d5-f5de84323fa2logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1633,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[readRequest(c.bufr)](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L1004)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1633,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1633,logseq____&quot;^Flogseq____&quot;,1631,536870963]],[logseq____&quot;^15logseq____&quot;,[1633,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1633,logseq____&quot;^Vlogseq____&quot;,1631,536870963]],[logseq____&quot;^15logseq____&quot;,[1633,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1633,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-bb1d-4a13-a6cd-b727cdf890d3logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1634,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[Set request body reader](https://github.com/golang/go/blob/6425749695130f2032ac9cfdf5407b6a322534db/src/net/http/transfer.go#L563-L583)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1634,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1634,logseq____&quot;^Flogseq____&quot;,1696,536870963]],[logseq____&quot;^15logseq____&quot;,[1634,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1634,logseq____&quot;^Vlogseq____&quot;,1696,536870963]],[logseq____&quot;^15logseq____&quot;,[1634,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1634,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-6f84-4a42-8f9a-4d661fe19f6elogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1635,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;接著把`invocation`中的trace parent header, content length, method, path及status寫到trace中，並送給ringbuffer。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1635,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1635,logseq____&quot;^Flogseq____&quot;,1701,536870963]],[logseq____&quot;^15logseq____&quot;,[1635,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1635,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1635,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1635,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-3364-4471-9b25-b80851f1c0fflogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[ResponseWriter](https://pkg.go.dev/net/http#ResponseWriter)是interface，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8)) ，占 8*2 = 16 byteslogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^Flogseq____&quot;,1735,536870963]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^Vlogseq____&quot;,1735,536870963]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^Hlogseq____&quot;,1645,536870963]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c34d-4a9b-a8e7-b657110357d4logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# http1 net.Conn\\nid:: 66df3335-a983-4290-bf3a-7bebfc9b5c79logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^Flogseq____&quot;,1887,536870971]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66df3335-a983-4290-bf3a-7bebfc9b5c79logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870971]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870971]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66df3335-a983-4290-bf3a-7bebfc9b5c79logseq____&quot;],536870971]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66df3335-a983-4290-bf3a-7bebfc9b5c79logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1638,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[context.Context](https://pkg.go.dev/context#Context)是interface，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8)) ，占 8*2 = 16 byteslogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1638,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1638,logseq____&quot;^Flogseq____&quot;,1603,536870963]],[logseq____&quot;^15logseq____&quot;,[1638,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1638,logseq____&quot;^Vlogseq____&quot;,1603,536870963]],[logseq____&quot;^15logseq____&quot;,[1638,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1638,logseq____&quot;^Hlogseq____&quot;,1645,536870963]],[logseq____&quot;^15logseq____&quot;,[1638,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8f40-4488-b9ae-6d55bba2cdcclogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1639,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`sc + sc_conn_pos + 8`取得實現`net.Conn`的struct，跟 ((66df3335-a983-4290-bf3a-7bebfc9b5c79)) 一樣，實現 `net.Conn`的struct是[tls.Conn](https://github.com/golang/go/blob/1e12eab8705d1d8d7472be9147a39caa1c8380db/src/crypto/tls/conn.go#L28)跟[net.TCPConn](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/tcpsock.go#L112)。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1639,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1639,logseq____&quot;^Flogseq____&quot;,1609,536870963]],[logseq____&quot;^15logseq____&quot;,[1639,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1639,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1639,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1639,logseq____&quot;^Hlogseq____&quot;,1637,536870963]],[logseq____&quot;^15logseq____&quot;,[1639,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-3304-4c30-bc12-6f90c7c180e6logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`net.TCPConn`的位置存在，則進一步取得`net.conn`的struct，也進一步呼叫`get_conn_info`以及`get_conn_info_from_fd`分別取得[fd](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/net.go#L167)(`net.netFD`型態)以及[net.netFD](https://github.com/golang/go/blob/master/src/net/fd_posix.go#L17) 中的IP與port，並寫到`connection_info_t`中，最後將`connection_info_t`更新到`ongoing_server_connections` map中。\\nid:: 66df3711-3158-4373-8ba4-8bc5074a1ca1logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^Flogseq____&quot;,1613,536870963]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66df3711-3158-4373-8ba4-8bc5074a1ca1logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66df3711-3158-4373-8ba4-8bc5074a1ca1logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66df3711-3158-4373-8ba4-8bc5074a1ca1logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`*Request`是`ServeHTTP`第四個參數(`GO_PARAM4`)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^Flogseq____&quot;,1717,536870963]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^Vlogseq____&quot;,1713,536870963]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-3e33-47a5-b635-6638507c1a03logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[net/http.serverHandler.ServeHTTP](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L2042)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^Flogseq____&quot;,1679,536870963]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^Vlogseq____&quot;,1693,536870963]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7ab9-4b2a-827d-2c7bce4f13edlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1643,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1643,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1643,logseq____&quot;^Flogseq____&quot;,1618,536870963]],[logseq____&quot;^15logseq____&quot;,[1643,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1643,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1643,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1643,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b89d-41e1-87bc-1be9bda466c7logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\ntypedef struct server_http_func_invocation {\\n    u64 start_monotime_ns;\\n    tp_info_t tp;\\n    u8  method[METHOD_MAX_LEN];\\n    u8  path[PATH_MAX_LEN];\\n    u64 content_length;\\n\\n    u64 status;\\n} server_http_func_invocation_t;\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^Flogseq____&quot;,1599,536870963]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-38d2-4c09-ab3a-69d805e55b11logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## interface type\\nid:: 66370018-6208-4dc1-88da-b8c5856ecba8logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^Flogseq____&quot;,1851,536870969]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370018-6208-4dc1-88da-b8c5856ecba8logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870969]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370018-6208-4dc1-88da-b8c5856ecba8logseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66370018-6208-4dc1-88da-b8c5856ecba8logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1646,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;建立`invocation` struct，將`resp` pointer的address存入`invocation.response`裡。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1646,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1646,logseq____&quot;^Flogseq____&quot;,1600,536870963]],[logseq____&quot;^15logseq____&quot;,[1646,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1646,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1646,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1646,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-ca64-4092-af96-a1d3470d271dlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;最後將設定好的trace的span ID亂數生成，也將trace寫到`go_trace_map`中。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^Flogseq____&quot;,1626,536870963]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^Vlogseq____&quot;,1624,536870963]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-3d53-47e5-a4ab-6552dbcadedalogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## readRequest (returns)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^Flogseq____&quot;,1640,536870963]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870963]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^Jlogseq____&quot;,[],536870963]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a176-4d47-929e-46751f735dfelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;根據 ((66370235-abe8-4707-b6c1-07285b460e5a))，透過`GOROUTINE_PTR`，取得go routine的pointer。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^Flogseq____&quot;,1710,536870963]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^Hlogseq____&quot;,1658,536870963]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-df44-4598-b076-016f0f56921alogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`ongoing_goroutines`使用`*goroutine_addr`查`*g_metadata`存不存在，如果不存在，則更新`ongoing_goroutines` table。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^Flogseq____&quot;,1691,536870963]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-faab-47fb-ab3c-38c5136ed43blogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1651,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在ringbuffer中保留型態為`*http_request_trace`的`trace`，接著將開始，結束時間，及trace type紀錄 `trace` 裡面。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1651,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1651,logseq____&quot;^Flogseq____&quot;,1616,536870963]],[logseq____&quot;^15logseq____&quot;,[1651,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1651,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1651,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1651,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-1090-48cc-b16b-f063cab645b0logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## receiver\\nid:: 66370276-921c-4a97-9864-19b04feb2fb1logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^Flogseq____&quot;,1843,536870969]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370276-921c-4a97-9864-19b04feb2fb1logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870969]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370276-921c-4a97-9864-19b04feb2fb1logseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66370276-921c-4a97-9864-19b04feb2fb1logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1653,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;receiver:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1653,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1653,logseq____&quot;^Flogseq____&quot;,1710,536870963]],[logseq____&quot;^15logseq____&quot;,[1653,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1653,logseq____&quot;^Vlogseq____&quot;,1710,536870963]],[logseq____&quot;^15logseq____&quot;,[1653,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1653,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b71a-4db5-aa43-73f160cbc2a2logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;有關http 1.1的`net.Conn`可以參考 ((66df3335-a983-4290-bf3a-7bebfc9b5c79))。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^Flogseq____&quot;,1606,536870963]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^Hlogseq____&quot;,1637,536870963]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-837b-4932-8712-12dd2ae8063alogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1655,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Listenlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1655,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1655,logseq____&quot;^Flogseq____&quot;,1692,536870963]],[logseq____&quot;^15logseq____&quot;,[1655,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1655,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1655,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1655,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-24f2-471b-89cc-65c3ec72ae7alogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`net/http.(*http2serverConn).runHandler`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^Flogseq____&quot;,1729,536870963]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^Vlogseq____&quot;,1729,536870963]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-4aee-45de-a522-54b0f96f3e4alogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n/* HTTP Server */\\n\\n// This instrumentation attaches uprobe to the following function:\\n// func (mux *ServeMux) ServeHTTP(w ResponseWriter, r *Request)\\n// or other functions sharing the same signature (e.g http.Handler.ServeHTTP)\\nSEC(\\logseq____&quot;uprobe/ServeHTTP\\logseq____&quot;)\\nint uprobe_ServeHTTP(struct pt_regs *ctx) {\\n    bpf_dbg_printk(\\logseq____&quot;=== uprobe/ServeHTTP === \\logseq____&quot;);\\n    void *goroutine_addr = GOROUTINE_PTR(ctx);\\n    bpf_dbg_printk(\\logseq____&quot;goroutine_addr %lx\\logseq____&quot;, goroutine_addr);\\n\\n    void *req = GO_PARAM4(ctx);\\n\\n    server_http_func_invocation_t invocation = {\\n        .start_monotime_ns = bpf_ktime_get_ns(),\\n        .tp = {0},\\n        .status = 0,\\n        .content_length = 0,\\n    };\\n\\n    invocation.method[0] = 0;\\n    invocation.path[0] = 0;\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^Flogseq____&quot;,1646,536870963]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-4db9-4c97-839c-00d59dfd5fa6logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## amd64 arch\\nid:: 66370235-abe8-4707-b6c1-07285b460e5alogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Flogseq____&quot;,1854,536870969]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370235-abe8-4707-b6c1-07285b460e5alogseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870969]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370235-abe8-4707-b6c1-07285b460e5alogseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66370235-abe8-4707-b6c1-07285b460e5alogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1659,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (c *conn) readRequest(ctx context.Context) (w *response, err error)`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1659,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1659,logseq____&quot;^Flogseq____&quot;,1660,536870963]],[logseq____&quot;^15logseq____&quot;,[1659,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1659,logseq____&quot;^Vlogseq____&quot;,1660,536870963]],[logseq____&quot;^15logseq____&quot;,[1659,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1659,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-4477-4f4a-a3d4-54fa2448a686logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1660,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1660,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1660,logseq____&quot;^Flogseq____&quot;,1716,536870963]],[logseq____&quot;^15logseq____&quot;,[1660,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1660,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1660,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1660,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-0ce0-4ab8-ac65-450921a36a83logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1661,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1661,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1661,logseq____&quot;^Flogseq____&quot;,1655,536870963]],[logseq____&quot;^15logseq____&quot;,[1661,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1661,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1661,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1661,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-4d99-4d0d-bd26-872959fc905alogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^Flogseq____&quot;,1697,536870963]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-03f2-4182-9376-a9f42d52e167logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;receiver是 `serverHandler`，雖然是struct，但field只有`*Server`，全部占 8 byteslogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^Flogseq____&quot;,1714,536870963]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^Vlogseq____&quot;,1714,536870963]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-cd8e-4e32-830d-4552974b6521logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1664,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.serverHandler.ServeHTTP`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1664,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1664,logseq____&quot;^Flogseq____&quot;,1629,536870963]],[logseq____&quot;^15logseq____&quot;,[1664,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1664,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1664,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1664,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c7f3-4ba1-a2a6-8e5123b53bdflogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1665,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[Init connReader (c.r)](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L1962)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1665,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1665,logseq____&quot;^Flogseq____&quot;,1693,536870963]],[logseq____&quot;^15logseq____&quot;,[1665,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1665,logseq____&quot;^Vlogseq____&quot;,1693,536870963]],[logseq____&quot;^15logseq____&quot;,[1665,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1665,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b7ea-4447-b67c-ccd95e464335logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// A conn represents the server side of an HTTP connection.\\ntype conn struct {\\n...\\n\\n\\t// rwc is the underlying network connection.\\n\\t// This is never wrapped by other types and is the value given out\\n\\t// to CloseNotifier callers. It is usually of type *net.TCPConn or\\n\\t// *tls.Conn.\\n\\trwc net.Conn\\n  \\n...\\n\\n\\t// tlsState is the TLS connection state when using TLS.\\n\\t// nil means not TLS.\\n\\ttlsState *tls.ConnectionState\\n\\n    ...\\n }\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^Flogseq____&quot;,1606,536870963]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^Vlogseq____&quot;,1606,536870963]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-0aed-412b-8821-8938dd27aefdlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Acceptlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^Flogseq____&quot;,1655,536870963]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^Vlogseq____&quot;,1655,536870963]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-e3e2-4a34-a681-b02e4d4af937logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1668,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1668,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1668,logseq____&quot;^Flogseq____&quot;,1688,536870963]],[logseq____&quot;^15logseq____&quot;,[1668,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1668,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1668,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1668,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8d33-4092-81a2-e1ca17177df2logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## netFdReadlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^Flogseq____&quot;,1689,536870963]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870963]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^Jlogseq____&quot;,[],536870963]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-4113-49fa-8088-e0ee62fc363elogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[http2.*serverConn.runHandler](https://github.com/golang/net/blob/3c333c0c5288a7cf127e427ddda5b1b54020a2b4/http2/server.go#L2388)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^Flogseq____&quot;,1734,536870963]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-88e3-472d-a97a-c3aeff13a43alogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^Flogseq____&quot;,1669,536870963]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-cc51-4c37-b1e3-4c884a8a096alogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## connServelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^Flogseq____&quot;,1699,536870963]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870963]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^Jlogseq____&quot;,[],536870963]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a6da-4850-a6ed-088135c26be7logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;實現`context.Context`的struct pointer，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8))，是`readRequest`第三個參數(`GO_PARAM3`)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^Flogseq____&quot;,1620,536870963]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^Vlogseq____&quot;,1603,536870963]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^Hlogseq____&quot;,1645,536870963]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-817a-4aeb-aab9-64ea21569fbalogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1674,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;arguments:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1674,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1674,logseq____&quot;^Flogseq____&quot;,1660,536870963]],[logseq____&quot;^15logseq____&quot;,[1674,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1674,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1674,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1674,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-2256-4bc9-bd12-9ac979916068logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\ntype serverConn struct {\\n\\t// Immutable:\\n\\tsrv              *Server\\n\\ths               *http.Server\\n\\tconn             net.Conn\\n\\tbw               *bufferedWriter // writing to conn\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^Flogseq____&quot;,1609,536870963]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^Vlogseq____&quot;,1609,536870963]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-80a9-485d-babf-aa7a8a080b6flogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1676,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;最後會清理 `ongoing_http_server_requests`及`ongoing_server_connections` map。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1676,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1676,logseq____&quot;^Flogseq____&quot;,1635,536870963]],[logseq____&quot;^15logseq____&quot;,[1676,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1676,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1676,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1676,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-ab46-492e-9968-c021cc43ca6alogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1677,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[(*.conn).readRequest](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L975)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1677,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1677,logseq____&quot;^Flogseq____&quot;,1705,536870963]],[logseq____&quot;^15logseq____&quot;,[1677,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1677,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1677,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1677,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-3b7b-4eff-b301-e62cafdec628logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1678,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;根據 ((6636fff3-c75e-4031-8041-d568c3966625)) ，占 8 byteslogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1678,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1678,logseq____&quot;^Flogseq____&quot;,1630,536870963]],[logseq____&quot;^15logseq____&quot;,[1678,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1678,logseq____&quot;^Vlogseq____&quot;,1630,536870963]],[logseq____&quot;^15logseq____&quot;,[1678,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1678,logseq____&quot;^Hlogseq____&quot;,1627,536870963]],[logseq____&quot;^15logseq____&quot;,[1678,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-9cc7-4f90-8950-cd68310bfd0dlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1679,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[start background read for connReader](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L2028-L2032)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1679,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1679,logseq____&quot;^Flogseq____&quot;,1631,536870963]],[logseq____&quot;^15logseq____&quot;,[1679,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1679,logseq____&quot;^Vlogseq____&quot;,1693,536870963]],[logseq____&quot;^15logseq____&quot;,[1679,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1679,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8e2d-4bbc-9330-069ae3781053logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在這邊會另外去讀`*tls.ConnectionState`欄位(`tlsState`)，如同上面`conn struct`註解中的說明，當`tlsState`不是nil時，則該連線有啟用TLS。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^Flogseq____&quot;,1654,536870963]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b152-4493-89b5-a06c8024dc5flogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1681,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;根據 ((66370235-abe8-4707-b6c1-07285b460e5a))，透過`GOROUTINE_PTR`，取得go routine的pointer。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1681,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1681,logseq____&quot;^Flogseq____&quot;,1674,536870963]],[logseq____&quot;^15logseq____&quot;,[1681,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1681,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1681,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1681,logseq____&quot;^Hlogseq____&quot;,1658,536870963]],[logseq____&quot;^15logseq____&quot;,[1681,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b104-4e87-89c5-cf0c1cee99a9logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1682,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1682,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1682,logseq____&quot;^Flogseq____&quot;,1648,536870963]],[logseq____&quot;^15logseq____&quot;,[1682,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1682,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1682,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1682,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a5fd-4280-aadb-ca52126941dalogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1683,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[init bufio reader from connReader (c.bufr)](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L1963)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1683,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1683,logseq____&quot;^Flogseq____&quot;,1665,536870963]],[logseq____&quot;^15logseq____&quot;,[1683,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1683,logseq____&quot;^Vlogseq____&quot;,1693,536870963]],[logseq____&quot;^15logseq____&quot;,[1683,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1683,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7dbc-4450-a83a-451665cbb708logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;arguments:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^Flogseq____&quot;,1622,536870963]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-2c46-4a7c-af25-bfabac71f868logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## readRequest\\nid:: 66dde60b-8c09-417a-823b-c44a5ae7a75dlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^Flogseq____&quot;,1687,536870963]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66dde60b-8c09-417a-823b-c44a5ae7a75dlogseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870963]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66dde60b-8c09-417a-823b-c44a5ae7a75dlogseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66dde60b-8c09-417a-823b-c44a5ae7a75dlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`ServeHTTP`是method，根據 ((66370276-921c-4a97-9864-19b04feb2fb1)) ，receiver是`ServeHTTP`第一個參數(`GO_PARAM1`)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^Flogseq____&quot;,1663,536870963]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^Vlogseq____&quot;,1714,536870963]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^Hlogseq____&quot;,1652,536870963]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b10e-40b6-9bdf-99925bfefb6flogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1687,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;最後更新`ongoing_http_server_requests`，key為目前的go routine pointer，value為`invocation` pointer。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1687,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1687,logseq____&quot;^Flogseq____&quot;,1621,536870963]],[logseq____&quot;^15logseq____&quot;,[1687,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1687,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1687,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1687,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b849-4c25-8370-2df0d6f27ba9logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1688,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[http.*conn.serve](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L1888)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1688,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1688,logseq____&quot;^Flogseq____&quot;,1709,536870963]],[logseq____&quot;^15logseq____&quot;,[1688,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1688,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1688,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1688,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-ee18-45d1-90b0-a2f7e7a91391logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1689,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;取得目前的go routine address，並將 `ongoing_server_connections`對應的`connection_info_t`清掉。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1689,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1689,logseq____&quot;^Flogseq____&quot;,1668,536870963]],[logseq____&quot;^15logseq____&quot;,[1689,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1689,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1689,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1689,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-6e75-4bab-a647-fa7286915269logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (c *conn) readRequest(ctx context.Context) (w *response, err error)`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^Flogseq____&quot;,1614,536870963]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^Vlogseq____&quot;,1614,536870963]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-06ce-4e37-84b1-71e20b814f86logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\nSEC(\\logseq____&quot;uprobe/readRequest\\logseq____&quot;)\\nint uprobe_readRequestReturns(struct pt_regs *ctx) {\\n    bpf_dbg_printk(\\logseq____&quot;=== uprobe/proc readRequest returns === \\logseq____&quot;);\\n\\n    void *goroutine_addr = GOROUTINE_PTR(ctx);\\n    bpf_dbg_printk(\\logseq____&quot;goroutine_addr %lx\\logseq____&quot;, goroutine_addr);\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^Flogseq____&quot;,1649,536870963]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8423-48cd-ad14-78ea3356f79alogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## HTTP2logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^Flogseq____&quot;,1608,536870963]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870963]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^Jlogseq____&quot;,[],536870963]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-d563-4df8-9ccf-58520837797flogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1693,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[net/http.(*conn).serve](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L1888) (Serve a new connection.) -logseq____&gt;logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1693,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1693,logseq____&quot;^Flogseq____&quot;,1608,536870963]],[logseq____&quot;^15logseq____&quot;,[1693,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1693,logseq____&quot;^Vlogseq____&quot;,1608,536870963]],[logseq____&quot;^15logseq____&quot;,[1693,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1693,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-407f-48b2-9695-6de3a10420f3logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1694,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[http.*conn.serve](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L1888)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1694,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1694,logseq____&quot;^Flogseq____&quot;,1695,536870963]],[logseq____&quot;^15logseq____&quot;,[1694,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1694,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1694,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1694,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-fcf4-4639-85b6-0744d81f70d6logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*conn).serve`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^Flogseq____&quot;,1702,536870963]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-e349-4de7-95ef-887b6f76094alogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[readTransfer(req, b)](https://github.com/golang/go/blob/6425749695130f2032ac9cfdf5407b6a322534db/src/net/http/request.go#L1158)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^Flogseq____&quot;,1633,536870963]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^Vlogseq____&quot;,1633,536870963]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-6f7b-4840-8ce0-1a906f1f59c2logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## ServeHTTP_retlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^Flogseq____&quot;,1650,536870963]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870963]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^Jlogseq____&quot;,[],536870963]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8837-426a-b5de-737f74763678logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net.(*netFD).Read`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^Flogseq____&quot;,1671,536870963]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-f5a4-4f6c-bef9-caca9a206556logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;與 ((66df3711-3158-4373-8ba4-8bc5074a1ca1)) 一樣，使用 `get_conn_info`取得 `conn`，並更新到 `ongoing_server_connections`。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^Flogseq____&quot;,1639,536870963]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^Hlogseq____&quot;,1640,536870963]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-dde7-4030-8d8a-b48e5d536771logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1700,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;取得目前的go routine address，並在 `ongoing_server_connections`查詢對應的`connection_info_t`。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1700,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1700,logseq____&quot;^Flogseq____&quot;,1720,536870963]],[logseq____&quot;^15logseq____&quot;,[1700,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1700,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1700,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1700,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-5557-44fa-8cfe-b88a37e2c630logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;接著在 ((66dde60b-8c09-417a-823b-c44a5ae7a75d)) 中寫入的 `ongoing_server_connections`中拿到正在進行的連線 `info`，如果存在，則把`info`寫入`trace`中。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^Flogseq____&quot;,1651,536870963]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^Hlogseq____&quot;,1685,536870963]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-5c62-4a38-8258-43f9eb1daf59logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1702,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1702,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1702,logseq____&quot;^Flogseq____&quot;,1672,536870963]],[logseq____&quot;^15logseq____&quot;,[1702,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1702,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1702,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1702,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-45dd-40bd-9d41-7d5717964c09logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1703,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;呼叫`extract_traceparent_from_req_headers`取得`traceparent` header的內容。如果讀取header失敗，則這筆request應該是root span，所以利用亂數生成trace ID，並將該筆trace的parent ID設定成0。如果讀取成功，則使用`decode_go_traceparent`將`buf`內容寫到`tp` pointer中。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1703,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1703,logseq____&quot;^Flogseq____&quot;,1624,536870963]],[logseq____&quot;^15logseq____&quot;,[1703,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1703,logseq____&quot;^Vlogseq____&quot;,1624,536870963]],[logseq____&quot;^15logseq____&quot;,[1703,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1703,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a5e5-4d84-9d97-82dea2cfabfelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## ServeHTTP\\nid:: 6636e390-9236-4c1f-93dd-53eeedcfedc5logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^Flogseq____&quot;,1611,536870963]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6636e390-9236-4c1f-93dd-53eeedcfedc5logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870963]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6636e390-9236-4c1f-93dd-53eeedcfedc5logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u6636e390-9236-4c1f-93dd-53eeedcfedc5logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1705,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*conn).readRequest`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1705,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1705,logseq____&quot;^Flogseq____&quot;,1682,536870963]],[logseq____&quot;^15logseq____&quot;,[1705,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1705,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1705,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1705,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a633-45c8-be77-b8001115d7a7logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1706,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1706,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1706,logseq____&quot;^Flogseq____&quot;,1670,536870963]],[logseq____&quot;^15logseq____&quot;,[1706,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1706,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1706,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1706,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-aa1c-4e4a-8dc2-34492208f1bclogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*conn).readRequest`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^Flogseq____&quot;,1612,536870963]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-211d-4daf-9a8a-ee508d28b01flogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1708,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`readRequest`是method，根據 ((66370276-921c-4a97-9864-19b04feb2fb1)) ，receiver是`readRequest`第一個參數(`GO_PARAM1`)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1708,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1708,logseq____&quot;^Flogseq____&quot;,1617,536870963]],[logseq____&quot;^15logseq____&quot;,[1708,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1708,logseq____&quot;^Vlogseq____&quot;,1653,536870963]],[logseq____&quot;^15logseq____&quot;,[1708,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1708,logseq____&quot;^Hlogseq____&quot;,1652,536870963]],[logseq____&quot;^15logseq____&quot;,[1708,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-f0ea-4b2d-a910-bff635305a41logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*conn).serve`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^Flogseq____&quot;,1619,536870963]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-72d3-45ef-b1af-02edf11bae07logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1710,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;arguments:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1710,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1710,logseq____&quot;^Flogseq____&quot;,1614,536870963]],[logseq____&quot;^15logseq____&quot;,[1710,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1710,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1710,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1710,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-515c-4dea-9b0a-ed37db61abd7logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1711,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1711,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1711,logseq____&quot;^Flogseq____&quot;,1694,536870963]],[logseq____&quot;^15logseq____&quot;,[1711,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1711,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1711,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1711,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8527-43e6-87fb-9afc391a668clogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## connServeRetlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^Flogseq____&quot;,1731,536870963]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870963]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^Jlogseq____&quot;,[],536870963]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8cfe-4c7c-badd-5ba1bf8464e8logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1713,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;*Requestlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1713,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1713,logseq____&quot;^Flogseq____&quot;,1735,536870963]],[logseq____&quot;^15logseq____&quot;,[1713,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1713,logseq____&quot;^Vlogseq____&quot;,1684,536870963]],[logseq____&quot;^15logseq____&quot;,[1713,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1713,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-0cb8-4f57-8781-9fe57611f062logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;receiver:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^Flogseq____&quot;,1684,536870963]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^Vlogseq____&quot;,1684,536870963]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-29e0-4892-8f04-2ab3fc213703logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1715,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (sc *serverConn) runHandler(rw *responseWriter, req *http.Request, handler func(http.ResponseWriter, *http.Request))`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1715,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1715,logseq____&quot;^Flogseq____&quot;,1706,536870963]],[logseq____&quot;^15logseq____&quot;,[1715,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1715,logseq____&quot;^Vlogseq____&quot;,1706,536870963]],[logseq____&quot;^15logseq____&quot;,[1715,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1715,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-d96f-4558-864f-214876237b85logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[(*.conn).readRequest](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L975)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^Flogseq____&quot;,1707,536870963]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-be48-4d94-b3d7-64a57219a6a0logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1717,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`*Request`是pointer`，根據 ((6636fff3-c75e-4031-8041-d568c3966625)) ，占 8 byteslogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1717,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1717,logseq____&quot;^Flogseq____&quot;,1713,536870963]],[logseq____&quot;^15logseq____&quot;,[1717,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1717,logseq____&quot;^Vlogseq____&quot;,1713,536870963]],[logseq____&quot;^15logseq____&quot;,[1717,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1717,logseq____&quot;^Hlogseq____&quot;,1627,536870963]],[logseq____&quot;^15logseq____&quot;,[1717,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-6ec5-434a-b31d-6c66a304b89alogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1718,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (c *conn) serve(ctx context.Context)`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1718,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1718,logseq____&quot;^Flogseq____&quot;,1711,536870963]],[logseq____&quot;^15logseq____&quot;,[1718,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1718,logseq____&quot;^Vlogseq____&quot;,1711,536870963]],[logseq____&quot;^15logseq____&quot;,[1718,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1718,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-77c1-432c-935b-1257e43ed8bflogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[net.(*netFD).Read, POSIX read](https://github.com/golang/go/blob/42f9ee904caf6681ee32e7b048f15ab7cddf3eb3/src/net/fd_posix.go#L65)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^Flogseq____&quot;,1623,536870963]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^Vlogseq____&quot;,1623,536870963]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-ae28-49d8-84e6-a5b915c36856logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1720,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1720,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1720,logseq____&quot;^Flogseq____&quot;,1605,536870963]],[logseq____&quot;^15logseq____&quot;,[1720,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1720,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1720,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1720,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-48fe-48c1-9772-eabe0c171e64logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1721,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;實現`context.Context`的struct pointer，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8))，是`readRequest`第三個參數(`GO_PARAM3`)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1721,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1721,logseq____&quot;^Flogseq____&quot;,1625,536870963]],[logseq____&quot;^15logseq____&quot;,[1721,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1721,logseq____&quot;^Vlogseq____&quot;,1727,536870963]],[logseq____&quot;^15logseq____&quot;,[1721,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1721,logseq____&quot;^Hlogseq____&quot;,1645,536870963]],[logseq____&quot;^15logseq____&quot;,[1721,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-48b3-4bd5-870c-8a1dc6c0135flogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1722,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1722,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1722,logseq____&quot;^Flogseq____&quot;,1730,536870963]],[logseq____&quot;^15logseq____&quot;,[1722,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1722,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1722,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1722,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-ccdb-49fc-beb2-de18a7e925cblogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1723,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[http.serverHandler.ServeHTTP](https://cs.opensource.google/go/go/+/refs/tags/go1.23.1:src/net/http/server.go;l=3201)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1723,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1723,logseq____&quot;^Flogseq____&quot;,1664,536870963]],[logseq____&quot;^15logseq____&quot;,[1723,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1723,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1723,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1723,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-09ae-43e2-b0bb-fe4d9dc34fb6logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^Flogseq____&quot;,1602,536870963]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-5926-471d-aec3-ed21e5152b8clogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[context.Context](https://pkg.go.dev/context#Context)是interface，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8)) ，占 8*2 = 16 byteslogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^Flogseq____&quot;,1727,536870963]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^Vlogseq____&quot;,1727,536870963]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^Hlogseq____&quot;,1645,536870963]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-4b52-499c-b751-4edf194b344alogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1726,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (fd *netFD) Read(p []byte) (n int, err error)`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1726,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1726,logseq____&quot;^Flogseq____&quot;,1720,536870963]],[logseq____&quot;^15logseq____&quot;,[1726,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1726,logseq____&quot;^Vlogseq____&quot;,1720,536870963]],[logseq____&quot;^15logseq____&quot;,[1726,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1726,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-ee91-4b35-ab2a-ec2c7f4d5d3elogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1727,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;context.Contextlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1727,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1727,logseq____&quot;^Flogseq____&quot;,1653,536870963]],[logseq____&quot;^15logseq____&quot;,[1727,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1727,logseq____&quot;^Vlogseq____&quot;,1710,536870963]],[logseq____&quot;^15logseq____&quot;,[1727,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1727,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b712-4b14-89c3-b5c92d34967elogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.serverHandler.ServeHTTP`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^Flogseq____&quot;,1662,536870963]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-489a-4e97-98bf-c703a045de9dlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1729,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Serverlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1729,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1729,logseq____&quot;^Flogseq____&quot;,1667,536870963]],[logseq____&quot;^15logseq____&quot;,[1729,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1729,logseq____&quot;^Vlogseq____&quot;,1667,536870963]],[logseq____&quot;^15logseq____&quot;,[1729,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1729,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a4de-45e5-a1f4-100428d69531logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1730,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果 `connection_info_t`存在，則利用 `GO_PARAM1`取得receiver，即為 `*net.FD`，並呼叫 `get_conn_info_from_fd`取得連線的IP即port，並寫到 `connection_info_t`裡。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1730,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1730,logseq____&quot;^Flogseq____&quot;,1700,536870963]],[logseq____&quot;^15logseq____&quot;,[1730,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1730,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1730,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1730,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-81e8-42f1-b004-7fe7ab42b446logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1731,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;取得目前的go routine address，並將 `ongoing_server_connections`對應的`connection_info_t`寫成空值。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1731,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1731,logseq____&quot;^Flogseq____&quot;,1711,536870963]],[logseq____&quot;^15logseq____&quot;,[1731,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1731,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1731,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1731,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c66e-472b-8526-5c3cad6847d1logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`conn`恰好在`tls.Conn`的第一個field，所以offset為0，直接將`conn` interface取出。最後的位置再加上8得到實現`net.Conn`的struct(應該為`net.TCPConn`) [[Beyla/Assertion]] 。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^Flogseq____&quot;,1613,536870963]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^Vlogseq____&quot;,1613,536870963]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^Ulogseq____&quot;,1359,536870963]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^Ulogseq____&quot;,1463,536870963]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^Hlogseq____&quot;,1359,536870963]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^Hlogseq____&quot;,1463,536870963]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b9f2-4f32-9862-9aa164a7ebdclogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1733,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (sh serverHandler) ServeHTTP(rw ResponseWriter, req *Request)`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1733,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1733,logseq____&quot;^Flogseq____&quot;,1643,536870963]],[logseq____&quot;^15logseq____&quot;,[1733,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1733,logseq____&quot;^Vlogseq____&quot;,1643,536870963]],[logseq____&quot;^15logseq____&quot;,[1733,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1733,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-08ef-4c27-8ff7-314bb3569826logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1734,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*http2serverConn).runHandler`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1734,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1734,logseq____&quot;^Flogseq____&quot;,1724,536870963]],[logseq____&quot;^15logseq____&quot;,[1734,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1734,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1734,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1734,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-cf1d-4f24-a98d-61dec7885446logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1735,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;ResponseWriterlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1735,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1735,logseq____&quot;^Flogseq____&quot;,1714,536870963]],[logseq____&quot;^15logseq____&quot;,[1735,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1735,logseq____&quot;^Vlogseq____&quot;,1684,536870963]],[logseq____&quot;^15logseq____&quot;,[1735,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1735,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-3a17-4786-911e-e086fa961ee3logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^Klogseq____&quot;,1753899321384,536870964]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^@logseq____&quot;,false,536870964]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/http_ssllogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^Alogseq____&quot;,1359,536870964]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/http_ssllogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870964]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870964]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^Blogseq____&quot;,1753899321384,536870964]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-140c-4b4a-9b41-702fb8f6333dlogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1738,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[SSL_read](https://www.openssl.org/docs/man1.1.1/man3/SSL_read.html)logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1738,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1738,logseq____&quot;^Flogseq____&quot;,1750,536870964]],[logseq____&quot;^15logseq____&quot;,[1738,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1738,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1738,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1738,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-bde3-47a4-ab3e-9f760f8131f4logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^Flogseq____&quot;,1738,536870964]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8277-451e-9261-3ca5ef7b8c47logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1740,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`int SSL_do_handshake(SSL *ssl)`logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1740,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1740,logseq____&quot;^Flogseq____&quot;,1742,536870964]],[logseq____&quot;^15logseq____&quot;,[1740,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1740,logseq____&quot;^Vlogseq____&quot;,1742,536870964]],[logseq____&quot;^15logseq____&quot;,[1740,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1740,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-71ef-48ca-8ce7-54b31b835e1clogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1741,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1741,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1741,logseq____&quot;^Flogseq____&quot;,1751,536870964]],[logseq____&quot;^15logseq____&quot;,[1741,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1741,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1741,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1741,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-31e4-40c3-87e3-7fd811eb3fb5logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^Flogseq____&quot;,1744,536870964]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-5f7c-4919-84c2-cc13a6b4c671logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## SSL_do_handshakelogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^Flogseq____&quot;,1746,536870964]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870964]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^Jlogseq____&quot;,[],536870964]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-e094-4a77-8060-63a80a65d758logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[SSL_do_handshake](https://www.openssl.org/docs/manmaster/man3/SSL_do_handshake.html)logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^Flogseq____&quot;,1749,536870964]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8ce8-46d4-b965-869792002b3elogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^Flogseq____&quot;,1739,536870964]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c318-4b97-bb89-f5b0745d40cdlogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870964]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^Flogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^:logseq____&quot;,true,536870964]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870964]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870964]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870964]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-36e2-4719-b52c-d00024de3e8flogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1747,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`int SSL_read(SSL *ssl, void *buf, int num);`logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1747,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1747,logseq____&quot;^Flogseq____&quot;,1739,536870964]],[logseq____&quot;^15logseq____&quot;,[1747,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1747,logseq____&quot;^Vlogseq____&quot;,1739,536870964]],[logseq____&quot;^15logseq____&quot;,[1747,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1747,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c6b4-4192-b2b9-92d69c460bf9logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^Flogseq____&quot;,1743,536870964]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-9c98-4e71-8cc1-9d94e88afe8alogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1749,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`SSL_do_handshake`logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1749,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1749,logseq____&quot;^Flogseq____&quot;,1748,536870964]],[logseq____&quot;^15logseq____&quot;,[1749,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1749,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1749,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1749,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-3b09-4581-a923-e93f845a8f16logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1750,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`SSL_read`logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1750,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1750,logseq____&quot;^Flogseq____&quot;,1741,536870964]],[logseq____&quot;^15logseq____&quot;,[1750,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1750,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1750,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1750,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c67f-4f14-a418-fc4a061ca643logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## SSL_readlogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^Flogseq____&quot;,1742,536870964]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870964]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^Jlogseq____&quot;,[],536870964]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-2da0-4453-8823-3ff36290e1c3logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^Klogseq____&quot;,1753899321428,536870965]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^@logseq____&quot;,false,536870965]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/load_ebpflogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^Alogseq____&quot;,1359,536870965]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/load_ebpflogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870965]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^Blogseq____&quot;,1753899321428,536870965]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-bcb7-4be5-b7d7-8b119ad0c40elogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (i *instrumenter) goprobe(probe ebpfcommon.Probe) error {\\n\\t// Attach BPF programs as start and return probes\\n\\tif probe.Programs.Start != nil {\\n\\t\\tup, err := i.exe.Uprobe(\\logseq____&quot;\\logseq____&quot;, probe.Programs.Start, logseq____&amp;link.UprobeOptions{\\n\\t\\t\\tAddress: probe.Offsets.Start,\\n\\t\\t})\\n\\t\\tif err != nil {\\n\\t\\t\\treturn fmt.Errorf(\\logseq____&quot;setting uprobe: %w\\logseq____&quot;, err)\\n\\t\\t}\\n\\t\\ti.closables = append(i.closables, up)\\n\\t}\\n\\n\\tif probe.Programs.End != nil {\\n\\t\\t// Go wonlogseq____&apos;t work with Uretprobes because of the way Go manages the stack. We need to set uprobes just before the return\\n\\t\\t// values: https://github.com/iovisor/bcc/issues/1320\\n\\t\\tfor _, ret := range probe.Offsets.Returns {\\n\\t\\t\\turp, err := i.exe.Uprobe(\\logseq____&quot;\\logseq____&quot;, probe.Programs.End, logseq____&amp;link.UprobeOptions{\\n\\t\\t\\t\\tAddress: ret,\\n\\t\\t\\t})\\n\\t\\t\\tif err != nil {\\n\\t\\t\\t\\treturn fmt.Errorf(\\logseq____&quot;setting uretprobe: %w\\logseq____&quot;, err)\\n\\t\\t\\t}\\n\\t\\t\\ti.closables = append(i.closables, urp)\\n\\t\\t}\\n\\t}\\n\\n\\treturn nil\\n}\\n```logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^Flogseq____&quot;,1782,536870965]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-975e-4a78-88a5-2423645f2335logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在每個ebpf program中，都會有一連的go generate，呼叫[bpfto2]([bpf2go command - github.com/cilium/ebpf/cmd/bpf2go - Go Packages](https://pkg.go.dev/github.com/cilium/ebpf/cmd/bpf2go))，官方說明提到logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^Flogseq____&quot;,1762,536870965]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8860-4b79-8a4f-436c7c7fbe86logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### tracers\\nid:: 663672eb-8811-4916-a7ad-a09b5ac3b8e0logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^Flogseq____&quot;,1754,536870965]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;663672eb-8811-4916-a7ad-a09b5ac3b8e0logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870965]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;663672eb-8811-4916-a7ad-a09b5ac3b8e0logseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u663672eb-8811-4916-a7ad-a09b5ac3b8e0logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`beyla`在`pkg/internal/ebpf/tracer.go`定義了 `Tracer` interface，每一個beyla的ebpg的程式都需要實現這個interface。其中比較重要的method為`Constants`及`GoProbes`。\\nid:: 665211c8-158b-4d58-9d5e-9299735e6acdlogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^Flogseq____&quot;,1765,536870965]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;665211c8-158b-4d58-9d5e-9299735e6acdlogseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;665211c8-158b-4d58-9d5e-9299735e6acdlogseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u665211c8-158b-4d58-9d5e-9299735e6acdlogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// tracers returns Tracer implementer for each discovered eBPF traceable source: GRPC, HTTP...\\nfunc (pt *ProcessTracer) tracers() ([]Tracer, error) {\\n\\tloadMux.Lock()\\n\\tdefer loadMux.Unlock()\\n\\tvar log = ptlog()\\n\\n\\t// tracerFuncs contains the eBPF Programs (HTTP, GRPC tracers...)\\n\\tvar tracers []Tracer\\n\\n\\tfor _, p := range pt.Programs {\\n\\t\\tplog := log.With(\\logseq____&quot;program\\logseq____&quot;, reflect.TypeOf(p))\\n\\t\\tplog.Debug(\\logseq____&quot;loading eBPF program\\logseq____&quot;, \\logseq____&quot;PinPath\\logseq____&quot;, pt.PinPath, \\logseq____&quot;pid\\logseq____&quot;, pt.ELFInfo.Pid, \\logseq____&quot;cmd\\logseq____&quot;, pt.ELFInfo.CmdExePath)\\n\\t\\tspec, err := pt.loadSpec(p)\\n\\t\\tif err != nil {\\n\\t\\t\\treturn nil, err\\n\\t\\t}\\n\\t\\tif err := spec.LoadAndAssign(p.BpfObjects(), logseq____&amp;ebpf.CollectionOptions{\\n\\t\\t\\tPrograms: ebpf.ProgramOptions{LogSize: 640 * 1024},\\n\\t\\t\\tMaps: ebpf.MapOptions{\\n\\t\\t\\t\\tPinPath: pt.PinPath,\\n\\t\\t\\t}}); err != nil {\\n```logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^Flogseq____&quot;,1767,536870965]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-5edf-494d-bbfb-ec9408f416eelogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1759,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`UProbes`logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1759,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1759,logseq____&quot;^Flogseq____&quot;,1772,536870965]],[logseq____&quot;^15logseq____&quot;,[1759,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1759,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1759,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1759,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-12c4-4cb5-babe-31569625b72alogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## struct member offsetlogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^Flogseq____&quot;,1770,536870965]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870965]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^Jlogseq____&quot;,[],536870965]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-f1cb-4b96-a4f6-0bbaa1474d02logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1761,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;pkg/internal/ebpf/tracer_linux.gologseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1761,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1761,logseq____&quot;^Flogseq____&quot;,1760,536870965]],[logseq____&quot;^15logseq____&quot;,[1761,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1761,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1761,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1761,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7cd0-4b38-806a-096d563bbd7elogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### bpf2gologseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^Flogseq____&quot;,1758,536870965]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870965]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^Jlogseq____&quot;,[],536870965]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-6097-494c-9a66-51826909b807logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1763,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;可以看到在 `pkg/internal/ebpf/nethttp`中，有各種`bpf_*.go`以及`bpf_*.o`的檔案，這些檔案都是透過`bpf2go`產生的。logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1763,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1763,logseq____&quot;^Flogseq____&quot;,1775,536870965]],[logseq____&quot;^15logseq____&quot;,[1763,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1763,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1763,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1763,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-3158-408d-904c-d5746ee77279logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`UProbes` method定義一個key為function的完整module name，如`net/http.serverHandler.ServeHTTP`，value為uprobe對應的function開始及結束的ebpf golang symbol name，如`p.bpfObjects.UprobeServeHTTP`。這之後同樣透過`cilium/ebpf`的[*link.Executable.Uprobe](https://pkg.go.dev/github.com/cilium/ebpf@v0.15.0/link#Executable.Uprobe)將ebpf程式 attach。logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^Flogseq____&quot;,1766,536870965]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b1b6-4eaf-ac6f-a04a43741695logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870965]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^Flogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^:logseq____&quot;,true,536870965]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870965]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-e384-41b1-b3be-4516b76df78flogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; \\t// UProbes returns a map with the module name mapping to the uprobes that need to be\\n\\t// tapped into. Start matches uprobe, End matches uretprobe\\n\\tUProbes() map[string]map[string]ebpfcommon.FunctionProgramslogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^Flogseq____&quot;,1759,536870965]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7cbc-412b-930c-804db35cc640logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在每一個ebpf程式中，都有一個`Tracer` struct實現`Tracer` interface，其中`Tracer` struct有一個private member是`bpfObjects`，會在`BpfObjects` method中expose `bpfObjects`的pointer。這個pointer會在`pkg/internal/ebpf/tracer_linux.go`中的`tracers`被使用到，並使用`cilium/ebpf`的`*ebpf.CollectionSpec`呼叫[LoadAndAssign](https://pkg.go.dev/github.com/cilium/ebpf#CollectionSpec.LoadAndAssign) method將`Map`跟`Programs`載入kernel，並指定給`p.BpfObjects()`pointer。\\nid:: 6631311c-967c-4902-a94a-30a1c17f6bdalogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^Flogseq____&quot;,1756,536870965]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6631311c-967c-4902-a94a-30a1c17f6bdalogseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6631311c-967c-4902-a94a-30a1c17f6bdalogseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u6631311c-967c-4902-a94a-30a1c17f6bdalogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1768,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// bpfObjects contains all objects after they have been loaded into the kernel.\\n//\\n// It can be passed to loadBpfObjects or ebpf.CollectionSpec.LoadAndAssign.\\ntype bpfObjects struct {\\n\\tbpfPrograms\\n\\tbpfMaps\\n}\\n```logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1768,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1768,logseq____&quot;^Flogseq____&quot;,1774,536870965]],[logseq____&quot;^15logseq____&quot;,[1768,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1768,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1768,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1768,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-ebe2-48cc-bf7b-8a5c9dd042f3logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1769,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1769,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1769,logseq____&quot;^Flogseq____&quot;,1780,536870965]],[logseq____&quot;^15logseq____&quot;,[1769,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1769,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1769,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1769,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-462d-43d8-8e7c-3b852444ce60logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`Constants` method定義了一個map，key為常數的名稱，value是這個常數的值。在 ((66313365-7bb8-4b8d-9264-1761f7c4181e))，可以把各個struct member的offset定義在`Constants`裡面，之後會透過`cilium/ebpf`的`*ebpf.CollectionSpec`呼叫[RewriteConstants](https://pkg.go.dev/github.com/cilium/ebpf#CollectionSpec.RewriteConstants) method，將常數寫到ebpf程式中。logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^Flogseq____&quot;,1773,536870965]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^Hlogseq____&quot;,1374,536870965]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-5739-41c9-a1c6-8c1c20374e67logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`bpf_*.o`是c code經過編譯之後，生成出的ebpf檔案，用`file`指令查看其中一個object檔可以看到有ePBF的內容。logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^Flogseq____&quot;,1778,536870965]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c823-422a-b008-64afd5170d6clogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1772,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (pt *ProcessTracer) loadSpec(p Tracer) (*ebpf.CollectionSpec, error) {\\n\\tspec, err := p.Load()\\n\\tif err != nil {\\n\\t\\treturn nil, fmt.Errorf(\\logseq____&quot;loading eBPF program: %w\\logseq____&quot;, err)\\n\\t}\\n\\tif err := spec.RewriteConstants(p.Constants(pt.ELFInfo, pt.Goffsets)); err != nil {\\n\\t\\treturn nil, fmt.Errorf(\\logseq____&quot;rewriting BPF constants definition: %w\\logseq____&quot;, err)\\n\\t}\\n\\n\\treturn spec, nil\\n}\\n```logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1772,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1772,logseq____&quot;^Flogseq____&quot;,1761,536870965]],[logseq____&quot;^15logseq____&quot;,[1772,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1772,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1772,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1772,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-2157-4944-a772-5963ad600e81logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;\\t// Constants returns a map of constants to be overriden into the eBPF program.\\n\\t// The key is the constant name and the value is the value to overwrite.\\n\\tConstants(*exec.FileInfo, *goexec.Offsets) map[string]anylogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^Flogseq____&quot;,1777,536870965]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-e724-41cc-8739-e22ce4d487a8logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`bpf_*.go`定義了各類的program及map的specs及objects，可以直接在其他go檔案中調用。如在 ((663672eb-8811-4916-a7ad-a09b5ac3b8e0)) 中提到的 `tracer` struct中，`bpfObjects` private member的型態就來自於 `bpf_*.go`中的`bpfObjects`。logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^Flogseq____&quot;,1779,536870965]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^Hlogseq____&quot;,1756,536870965]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-3b34-4824-91db-64f9f7ff49cflogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1775,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n//go:generate $BPF2GO -cc $BPF_CLANG -cflags $BPF_CFLAGS -target amd64,arm64 bpf ../../../../bpf/go_nethttp.c -- -I../../../../bpf/headers -DNO_HEADER_PROPAGATION\\n//go:generate $BPF2GO -cc $BPF_CLANG -cflags $BPF_CFLAGS -target amd64,arm64 bpf_debug ../../../../bpf/go_nethttp.c -- -I../../../../bpf/headers -DBPF_DEBUG -DNO_HEADER_PROPAGATION\\n//go:generate $BPF2GO -cc $BPF_CLANG -cflags $BPF_CFLAGS -target amd64,arm64 bpf_tp ../../../../bpf/go_nethttp.c -- -I../../../../bpf/headers\\n//go:generate $BPF2GO -cc $BPF_CLANG -cflags $BPF_CFLAGS -target amd64,arm64 bpf_tp_debug ../../../../bpf/go_nethttp.c -- -I../../../../bpf/headers -DBPF_DEBUG\\n```logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1775,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1775,logseq____&quot;^Flogseq____&quot;,1776,536870965]],[logseq____&quot;^15logseq____&quot;,[1775,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1775,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1775,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1775,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-d4e9-4ec4-8ee0-bb2b543b12e7logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1776,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在 `pkg/internal/ebpf/nethttp/nethttp.go`中，有是否啟用`HEADER_PROPAGATION`以及`BPF_DEBUG`共四種go generate組合，bpf的來源來自`/bpf`資料夾下的`go_nethttp.c`。logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1776,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1776,logseq____&quot;^Flogseq____&quot;,1781,536870965]],[logseq____&quot;^15logseq____&quot;,[1776,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1776,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1776,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1776,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-5a03-4932-b0d1-5cb64ceb8a1flogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## `Constants`logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^Flogseq____&quot;,1757,536870965]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870965]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^Jlogseq____&quot;,[],536870965]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-56ba-43af-a1f2-867c9457dd35logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1778,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`bpf_*.go`還有些關於`map`以及`program`的struct，會在bpf相關的c程式中再回頭看。logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1778,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1778,logseq____&quot;^Flogseq____&quot;,1768,536870965]],[logseq____&quot;^15logseq____&quot;,[1778,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1778,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1778,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1778,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-97fa-4106-b203-b99fcdc5c157logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1779,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\ntitan@DESKTOP:~/sources/beyla$ ls pkg/internal/ebpf/nethttp/\\nbpf_bpfel_arm64.go  bpf_bpfel_x86.o           bpf_debug_bpfel_x86.go  bpf_tp_bpfel_arm64.o  bpf_tp_debug_bpfel_arm64.go  bpf_tp_debug_bpfel_x86.o\\nbpf_bpfel_arm64.o   bpf_debug_bpfel_arm64.go  bpf_debug_bpfel_x86.o   bpf_tp_bpfel_x86.go   bpf_tp_debug_bpfel_arm64.o   nethttp.go\\nbpf_bpfel_x86.go    bpf_debug_bpfel_arm64.o   bpf_tp_bpfel_arm64.go   bpf_tp_bpfel_x86.o    bpf_tp_debug_bpfel_x86.go\\n```logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1779,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1779,logseq____&quot;^Flogseq____&quot;,1763,536870965]],[logseq____&quot;^15logseq____&quot;,[1779,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1779,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1779,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1779,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-de35-4c47-95c7-dfdff3865d64logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1780,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\ntitan@DESKTOP:~/sources/beyla$ file pkg/internal/ebpf/nethttp/bpf_bpfel_x86.o\\npkg/internal/ebpf/nethttp/bpf_bpfel_x86.o: ELF 64-bit LSB relocatable, eBPF, version 1 (SYSV), not stripped\\n```logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1780,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1780,logseq____&quot;^Flogseq____&quot;,1771,536870965]],[logseq____&quot;^15logseq____&quot;,[1780,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1780,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1780,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1780,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7ce6-417f-a518-751d66e9e971logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;`bpf2go` compiles a C source file into eBPF bytecode and then emits a Go file containing the eBPF. The goal is to avoid loading the eBPF from disk at runtime and to minimise the amount of manual work required to interact with eBPF programs.logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^Flogseq____&quot;,1755,536870965]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b6b0-43c5-a08a-ecc374e89611logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1782,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;pkg/internal/ebpf/instrumenter.gologseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1782,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1782,logseq____&quot;^Flogseq____&quot;,1764,536870965]],[logseq____&quot;^15logseq____&quot;,[1782,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1782,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1782,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1782,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-5c5e-4997-a512-0c3ad925bae2logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`database/sql.(*DB).execDC`logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^Flogseq____&quot;,1811,536870966]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-5084-46d2-96bb-74488c6b4605logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1785,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[execDC](https://github.com/golang/go/blob/0d018b49e33b1383dc0ae5cc968e800dffeeaf7d/src/database/sql/sql.go#L1685-L1686)logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1785,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1785,logseq____&quot;^Flogseq____&quot;,1784,536870966]],[logseq____&quot;^15logseq____&quot;,[1785,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1785,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1785,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1785,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-338c-43f3-94ec-3a87afecdbfclogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^Flogseq____&quot;,1785,536870966]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-cd9b-487a-a219-b63e9056d396logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1787,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1787,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1787,logseq____&quot;^Flogseq____&quot;,1805,536870966]],[logseq____&quot;^15logseq____&quot;,[1787,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1787,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1787,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1787,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-244d-4719-ab74-7c9e6a0cd062logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`query`是string，占第8與9個GO_PARAM，分別是`query` array pointer與`query` array length。logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^Flogseq____&quot;,1797,536870966]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-1bca-4086-8b6c-75680167af86logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`queryDC`是method，根據 ((66370276-921c-4a97-9864-19b04feb2fb1)) ，receiver是`queryDC`第一個參數(`GO_PARAM1`)logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^Flogseq____&quot;,1810,536870966]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^Hlogseq____&quot;,1652,536870966]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b998-4086-96bb-5bbcbca71812logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## uprobe_queryDClogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^Flogseq____&quot;,1801,536870966]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870966]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^Jlogseq____&quot;,[],536870966]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b310-4ff5-9017-c3e5eaafb863logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`*driverConn`是pointer，第6個GO_PARAMlogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^Flogseq____&quot;,1800,536870966]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-aeda-4541-ade7-8f37bfc0ec0elogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1792,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\nSEC(\\logseq____&quot;uprobe/queryDC\\logseq____&quot;)\\nint uprobe_queryDC(struct pt_regs *ctx) {\\n    bpf_dbg_printk(\\logseq____&quot;=== uprobe/queryDC === \\logseq____&quot;);\\n    void *goroutine_addr = GOROUTINE_PTR(ctx);\\n    bpf_dbg_printk(\\logseq____&quot;goroutine_addr %lx\\logseq____&quot;, goroutine_addr);\\n\\n    void *sql_param = GO_PARAM8(ctx);\\n    void *query_len = GO_PARAM9(ctx);\\n    set_sql_info(goroutine_addr, sql_param, query_len);\\n    return 0;\\n}\\n```logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1792,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1792,logseq____&quot;^Flogseq____&quot;,1788,536870966]],[logseq____&quot;^15logseq____&quot;,[1792,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1792,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1792,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1792,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-cbf7-48f6-a2fc-596b0a5b2394logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1793,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`database/sql.(*DB).queryDC`logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1793,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1793,logseq____&quot;^Flogseq____&quot;,1787,536870966]],[logseq____&quot;^15logseq____&quot;,[1793,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1793,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1793,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1793,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-d2c1-408f-94b8-f2ab48f2401flogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1794,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`query`是string，占第6與7個GO_PARAMlogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1794,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1794,logseq____&quot;^Flogseq____&quot;,1808,536870966]],[logseq____&quot;^15logseq____&quot;,[1794,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1794,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1794,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1794,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c6b8-49ad-9ef8-7f5863ed0fc9logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1795,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`context.Context`是interface，所以分別占第2, 3, 4, 5個GO_PARAMlogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1795,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1795,logseq____&quot;^Flogseq____&quot;,1800,536870966]],[logseq____&quot;^15logseq____&quot;,[1795,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1795,logseq____&quot;^Vlogseq____&quot;,1800,536870966]],[logseq____&quot;^15logseq____&quot;,[1795,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1795,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-892b-44b4-9f84-dde3f9696343logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## uprobe_execDClogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^Flogseq____&quot;,1792,536870966]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870966]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^Jlogseq____&quot;,[],536870966]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-d567-4000-8dd2-1d476d059c14logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1797,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`releaseConn`是function pointer，第7個GO_PAGRAMlogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1797,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1797,logseq____&quot;^Flogseq____&quot;,1791,536870966]],[logseq____&quot;^15logseq____&quot;,[1797,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1797,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1797,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1797,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-f457-4440-bfff-5739d8219fdclogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1798,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[queryDC](https://github.com/golang/go/blob/0d018b49e33b1383dc0ae5cc968e800dffeeaf7d/src/database/sql/sql.go#L1761)logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1798,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1798,logseq____&quot;^Flogseq____&quot;,1793,536870966]],[logseq____&quot;^15logseq____&quot;,[1798,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1798,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1798,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1798,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8f4e-460f-afd6-3dc43074f016logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`*driverConn`是pointer，第4個GO_PARAMlogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^Flogseq____&quot;,1807,536870966]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-4f44-406f-9600-1c8b41005f57logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`ctx`, `txctx`logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^Flogseq____&quot;,1789,536870966]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-e383-4074-ab8f-a13cd26556bblogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870966]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^Flogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^:logseq____&quot;,true,536870966]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870966]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870966]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870966]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c1f4-489d-9a0b-c14f368c50f4logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1802,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`context.Context`是interface，所以分別占第2, 3個GO_PARAMlogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1802,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1802,logseq____&quot;^Flogseq____&quot;,1807,536870966]],[logseq____&quot;^15logseq____&quot;,[1802,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1802,logseq____&quot;^Vlogseq____&quot;,1807,536870966]],[logseq____&quot;^15logseq____&quot;,[1802,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1802,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7d41-44ba-93b9-75e04804fd24logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1803,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`execDC`是method，根據 ((66370276-921c-4a97-9864-19b04feb2fb1)) ，receiver是`execDC`第一個參數(`GO_PARAM1`)logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1803,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1803,logseq____&quot;^Flogseq____&quot;,1786,536870966]],[logseq____&quot;^15logseq____&quot;,[1803,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1803,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1803,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1803,logseq____&quot;^Hlogseq____&quot;,1652,536870966]],[logseq____&quot;^15logseq____&quot;,[1803,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-9cca-4e96-886e-d36869240c3dlogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1804,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (db *DB) queryDC(ctx, txctx context.Context, dc *driverConn, releaseConn func(error), query string, args []any) (*Rows, error)`logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1804,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1804,logseq____&quot;^Flogseq____&quot;,1810,536870966]],[logseq____&quot;^15logseq____&quot;,[1804,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1804,logseq____&quot;^Vlogseq____&quot;,1810,536870966]],[logseq____&quot;^15logseq____&quot;,[1804,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1804,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a42d-4c32-b5f6-3ce6adac4d36logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; // queryDC executes a query on the given connection.logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^Flogseq____&quot;,1790,536870966]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-75d5-4747-85e4-bdd83db90ec4logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1806,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\nSEC(\\logseq____&quot;uprobe/execDC\\logseq____&quot;)\\nint uprobe_execDC(struct pt_regs *ctx) {\\n    bpf_dbg_printk(\\logseq____&quot;=== uprobe/execDC === \\logseq____&quot;);\\n    void *goroutine_addr = GOROUTINE_PTR(ctx);\\n    bpf_dbg_printk(\\logseq____&quot;goroutine_addr %lx\\logseq____&quot;, goroutine_addr);\\n\\n    void *sql_param = GO_PARAM6(ctx);\\n    void *query_len = GO_PARAM7(ctx);\\n    set_sql_info(goroutine_addr, sql_param, query_len);\\n    return 0;\\n}\\n```logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1806,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1806,logseq____&quot;^Flogseq____&quot;,1794,536870966]],[logseq____&quot;^15logseq____&quot;,[1806,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1806,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1806,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1806,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-49a3-42a2-80f3-7762f55215f6logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`ctx`logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^Flogseq____&quot;,1803,536870966]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-cf2a-4db9-b6eb-36bad7213b82logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`releaseConn`是function pointer，第5個GO_PAGRAMlogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^Flogseq____&quot;,1799,536870966]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-220e-49a5-a7d4-fd468c685c39logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (db *DB) execDC(ctx context.Context, dc *driverConn, release func(error), query string, args []any) (res Result, err error)`logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^Flogseq____&quot;,1786,536870966]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^Vlogseq____&quot;,1786,536870966]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-d0d1-449b-aae9-74156c762b10logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1810,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1810,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1810,logseq____&quot;^Flogseq____&quot;,1798,536870966]],[logseq____&quot;^15logseq____&quot;,[1810,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1810,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1810,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1810,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-676e-4c0e-9438-e9f0d554c12flogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1811,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1811,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1811,logseq____&quot;^Flogseq____&quot;,1796,536870966]],[logseq____&quot;^15logseq____&quot;,[1811,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1811,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1811,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1811,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-46ae-4bf8-92db-2ee263560431logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^Klogseq____&quot;,1753899321508,536870967]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^@logseq____&quot;,false,536870967]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/traceslogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^Alogseq____&quot;,1359,536870967]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/traceslogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870967]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^Blogseq____&quot;,1753899321508,536870967]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-0c7d-434a-b631-a6ce1df4a5c3logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1814,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`pkg/internal/ebpf/tracer_linux.go`中`ProcessTracer.Run`會針對每一個`Tracer`，一樣將span channel傳給`Tracer.Run`。`Tracer`即是在 ((665211c8-158b-4d58-9d5e-9299735e6acd)) 提到的`Tracer` interface，也需要實現`Run` method。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1814,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1814,logseq____&quot;^Flogseq____&quot;,1822,536870967]],[logseq____&quot;^15logseq____&quot;,[1814,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1814,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1814,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1814,logseq____&quot;^Hlogseq____&quot;,1757,536870967]],[logseq____&quot;^15logseq____&quot;,[1814,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-06c2-449f-b2d9-0f6b42ac14e4logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1815,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`Tracer.lookForTimeouts`中，在ticker每隔2秒的時間時，會iterate `OngoingHttp` BPF map的內容，嘗試透過`ebpfcommon.HTTPInfoEventToSpan`將value轉成span，再丟入channel內，而後將key從`OngoingHttp`刪除掉。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1815,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1815,logseq____&quot;^Flogseq____&quot;,1818,536870967]],[logseq____&quot;^15logseq____&quot;,[1815,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1815,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1815,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1815,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-e7a7-4626-ac5f-fb396abf98c2logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1816,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1816,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1816,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870967]],[logseq____&quot;^15logseq____&quot;,[1816,logseq____&quot;^Flogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1816,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1816,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1816,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1816,logseq____&quot;^:logseq____&quot;,true,536870967]],[logseq____&quot;^15logseq____&quot;,[1816,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870967]],[logseq____&quot;^15logseq____&quot;,[1816,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1816,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1816,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-da93-4a7c-bf0d-20ec9da1c2a5logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1817,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (rbf *ringBufForwarder) sharedReadAndForward(ctx context.Context, closers []io.Closer, spansChan chanlogseq____&lt;- []request.Span) {\\n\\trbf.logger.Debug(\\logseq____&quot;start reading and forwarding\\logseq____&quot;)\\n\\t// BPF will send each measured trace via Ring Buffer, so we listen for them from the\\n\\t// user space.\\n\\teventsReader, err := readerFactory(rbf.ringbuffer)\\n\\tif err != nil {\\n\\t\\trbf.logger.Error(\\logseq____&quot;creating perf reader. Exiting\\logseq____&quot;, err)\\n\\t\\treturn\\n\\t}\\n\\trbf.spans = make([]request.Span, rbf.cfg.BatchLength)\\n\\trbf.spansLen = 0\\n\\n\\t// If the underlying context is closed, it closes the objects we have allocated for this bpf program\\n\\tgo rbf.bgListenSharedContextCancelation(ctx, closers)\\n\\trbf.readAndForwardInner(eventsReader, spansChan)\\n}\\n```logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1817,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1817,logseq____&quot;^Flogseq____&quot;,1825,536870967]],[logseq____&quot;^15logseq____&quot;,[1817,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1817,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1817,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1817,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-3adc-4fc0-a75b-7d7ec3f9be8elogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1818,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (p *Tracer) Run(ctx context.Context, eventsChan chanlogseq____&lt;- []request.Span) {\\n\\t// At this point we now have loaded the bpf objects, which means we should insert any\\n\\t// pids that are allowed into the bpf map\\n\\tif p.bpfObjects.ValidPids != nil {\\n\\t\\tp.rebuildValidPids()\\n\\t} else {\\n\\t\\tp.log.Error(\\logseq____&quot;BPF Pids map is not created yet, this is a bug.\\logseq____&quot;)\\n\\t}\\n\\n\\ttimeoutTicker := time.NewTicker(2 * time.Second)\\n\\n\\tgo p.watchForMisclassifedEvents()\\n\\tgo p.lookForTimeouts(timeoutTicker, eventsChan)\\n\\tdefer timeoutTicker.Stop()\\n\\n\\tebpfcommon.SharedRingbuf(\\n\\t\\tlogseq____&amp;p.cfg.EBPF,\\n\\t\\tp.pidsFilter,\\n\\t\\tp.bpfObjects.Events,\\n\\t\\tp.metrics,\\n\\t)(ctx, append(p.closers, logseq____&amp;p.bpfObjects), eventsChan)\\n}\\n```logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1818,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1818,logseq____&quot;^Flogseq____&quot;,1821,536870967]],[logseq____&quot;^15logseq____&quot;,[1818,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1818,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1818,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1818,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b1b8-42bf-99a6-41d992977c78logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1819,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在初始化`ringBufForwarder` (`rbf`)時候，是將`ReadBPFTraceAsSpan` function覆寫到`reader` field。`ReadBPFTraceAsSpan` function負責將ringbuffer的record依照event type，轉化給各式各樣的span。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1819,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1819,logseq____&quot;^Flogseq____&quot;,1827,536870967]],[logseq____&quot;^15logseq____&quot;,[1819,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1819,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1819,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1819,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c7d0-4035-9392-858fd7f8477flogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (p *Tracer) lookForTimeouts(ticker *time.Ticker, eventsChan chanlogseq____&lt;- []request.Span) {\\n\\tfor t := range ticker.C {\\n\\t\\tif p.bpfObjects.OngoingHttp != nil {\\n\\t\\t\\ti := p.bpfObjects.OngoingHttp.Iterate()\\n\\t\\t\\tvar k bpfPidConnectionInfoT\\n\\t\\t\\tvar v bpfHttpInfoT\\n\\t\\t\\tfor i.Next(logseq____&amp;k, logseq____&amp;v) {\\n\\t\\t\\t\\t// Check if we have a lingering request which welogseq____&apos;ve completed, as in it has EndMonotimeNs\\n\\t\\t\\t\\t// but it hasnlogseq____&apos;t been posted yet, likely missed by the logic that looks at finishing requests\\n\\t\\t\\t\\t// where we track the full response. If we havenlogseq____&apos;t updated the EndMonotimeNs in more than some\\n\\t\\t\\t\\t// short interval, we are likely not going to finish this request from eBPF, so letlogseq____&apos;s do it here.\\n\\t\\t\\t\\tif v.EndMonotimeNs != 0 logseq____&amp;logseq____&amp; t.After(kernelTime(v.EndMonotimeNs).Add(2*time.Second)) {\\n\\t\\t\\t\\t\\t// Must use unsafe here, the two bpfHttpInfoTs are the same but generated from different\\n\\t\\t\\t\\t\\t// ebpf2go outputs\\n\\t\\t\\t\\t\\ts, ignore, err := ebpfcommon.HTTPInfoEventToSpan(*(*ebpfcommon.BPFHTTPInfo)(unsafe.Pointer(logseq____&amp;v)))\\n\\t\\t\\t\\t\\tif !ignore logseq____&amp;logseq____&amp; err == nil {\\n\\t\\t\\t\\t\\t\\teventsChan logseq____&lt;- p.pidsFilter.Filter([]request.Span{s})\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tif err := p.bpfObjects.OngoingHttp.Delete(k); err != nil {\\n\\t\\t\\t\\t\\t\\tp.log.Debug(\\logseq____&quot;Error deleting ongoing request\\logseq____&quot;, \\logseq____&quot;error\\logseq____&quot;, err)\\n\\t\\t\\t\\t\\t}\\n```logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^Flogseq____&quot;,1815,536870967]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-eccf-4d25-a0ba-4a90635d8759logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1821,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;先看到`pkg/internal/ebpf/httpfltr/httpfltr.go`中實現的Run method。主要是在`p.lookForTimeouts(timeoutTicker, eventsChan)`把BPF map內容讀出來，轉成span再丟入channel。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1821,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1821,logseq____&quot;^Flogseq____&quot;,1830,536870967]],[logseq____&quot;^15logseq____&quot;,[1821,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1821,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1821,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1821,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a1f1-4ff9-bfe0-2848c291ab18logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1822,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n\\t\\t\\tcase pt := logseq____&lt;-foundProcesses:\\n\\t\\t\\t\\tlog.Debug(\\logseq____&quot;running tracer for new process\\logseq____&quot;,\\n\\t\\t\\t\\t\\t\\logseq____&quot;inode\\logseq____&quot;, pt.ELFInfo.Ino, \\logseq____&quot;pid\\logseq____&quot;, pt.ELFInfo.Pid, \\logseq____&quot;exec\\logseq____&quot;, pt.ELFInfo.CmdExePath)\\n\\t\\t\\t\\tcctx, ok := contexts[pt.ELFInfo.Ino]\\n\\t\\t\\t\\tif !ok {\\n\\t\\t\\t\\t\\tcctx.ctx, cctx.cancel = context.WithCancel(i.ctx)\\n\\t\\t\\t\\t\\tcontexts[pt.ELFInfo.Ino] = cctx\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tgo pt.Run(cctx.ctx, i.tracesInput)\\n```logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1822,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1822,logseq____&quot;^Flogseq____&quot;,1831,536870967]],[logseq____&quot;^15logseq____&quot;,[1822,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1822,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1822,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1822,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-fed9-4329-968d-f03a1efc174elogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1823,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`readAndForwardInner`是從ringbuffer讀trace的核心function，會將ringbuffer傳來的內容轉成span並放入`spansChan`，flush的時機是使用者設定的timeout或是buffer已滿。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1823,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1823,logseq____&quot;^Flogseq____&quot;,1817,536870967]],[logseq____&quot;^15logseq____&quot;,[1823,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1823,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1823,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1823,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-2c46-4702-b40f-8ffcad274f70logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1824,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1824,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1824,logseq____&quot;^Flogseq____&quot;,1819,536870967]],[logseq____&quot;^15logseq____&quot;,[1824,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1824,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1824,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1824,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-79e2-4123-94f1-640c5fe8ea1alogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;---\\n\\n在`ebpfcommon.SharedRingbuf`最終會呼叫`sharedReadAndForward`，這function主要在user space聆聽ring buffer傳來的trace。會先預先準備`BatchLength`長度的array，並傳給`rbf.readAndForwardInner`執行。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^Flogseq____&quot;,1820,536870967]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-f3b9-4aa7-aefd-78182be7cf25logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (rbf *ringBufForwarder) readAndForwardInner(eventsReader ringBufReader, spansChan chanlogseq____&lt;- []request.Span) {\\n\\t// Forwards periodically on timeout, if the batch is not full\\n\\tif rbf.cfg.BatchTimeout logseq____&gt; 0 {\\n\\t\\trbf.ticker = time.NewTicker(rbf.cfg.BatchTimeout)\\n\\t\\tgo rbf.bgFlushOnTimeout(spansChan)\\n\\t}\\n\\n\\trbf.logger.Debug(\\logseq____&quot;starting to read ring buffer\\logseq____&quot;)\\n\\trecord, err := eventsReader.Read()\\n\\tfor {\\n\\t\\tif err != nil {\\n\\t\\t\\tif errors.Is(err, ringbuf.ErrClosed) {\\n\\t\\t\\t\\trbf.logger.Debug(\\logseq____&quot;ring buffer is closed\\logseq____&quot;)\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\trbf.logger.Error(\\logseq____&quot;error reading from perf reader\\logseq____&quot;, err)\\n\\t\\t\\tcontinue\\n\\t\\t}\\n\\t\\trbf.processAndForward(record, spansChan)\\n\\n\\t\\t// read another event before the next loop iteration\\n\\t\\trecord, err = eventsReader.Read()\\n\\t}\\n}\\n```logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^Flogseq____&quot;,1823,536870967]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b071-4ac5-9939-1f74db4904dflogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1827,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (rbf *ringBufForwarder) processAndForward(record ringbuf.Record, spansChan chanlogseq____&lt;- []request.Span) {\\n\\trbf.access.Lock()\\n\\tdefer rbf.access.Unlock()\\n\\ts, ignore, err := rbf.reader(logseq____&amp;record, rbf.filter)\\n\\tif err != nil {\\n\\t\\trbf.logger.Error(\\logseq____&quot;error parsing perf event\\logseq____&quot;, err)\\n\\t\\treturn\\n\\t}\\n\\tif ignore {\\n\\t\\treturn\\n\\t}\\n\\tif !s.IsValid() {\\n\\t\\trbf.logger.Debug(\\logseq____&quot;invalid span\\logseq____&quot;, \\logseq____&quot;span\\logseq____&quot;, s)\\n\\t\\treturn\\n\\t}\\n\\trbf.spans[rbf.spansLen] = s\\n\\t// we need to decorate each span with the tracerlogseq____&apos;s service name\\n\\t// if this information is not forwarded from eBPF\\n\\trbf.spansLen++\\n\\tif rbf.spansLen == rbf.cfg.BatchLength {\\n\\t\\trbf.logger.Debug(\\logseq____&quot;submitting traces after batch is full\\logseq____&quot;, \\logseq____&quot;len\\logseq____&quot;, rbf.spansLen)\\n\\t\\trbf.flushEvents(spansChan)\\n\\t\\tif rbf.ticker != nil {\\n\\t\\t\\trbf.ticker.Reset(rbf.cfg.BatchTimeout)\\n\\t\\t}\\n\\t}\\n}\\n```logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1827,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1827,logseq____&quot;^Flogseq____&quot;,1829,536870967]],[logseq____&quot;^15logseq____&quot;,[1827,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1827,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1827,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1827,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-16b7-4103-aab8-2480c1a96c94logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## 追蹤在Beyla的user side如何接收從BPF傳來的span (event source)logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^Flogseq____&quot;,1816,536870967]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870967]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^Jlogseq____&quot;,[],536870967]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-3eac-4c4e-b233-4bdf26e8e867logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1829,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`rbf.processAndForward`中，利用`rbf.reader`將ringbuffer的record轉成span，再把span放在`spans` array的最後面。如果span長度達到batch的上限，則直接flush並更新ticker。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1829,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1829,logseq____&quot;^Flogseq____&quot;,1826,536870967]],[logseq____&quot;^15logseq____&quot;,[1829,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1829,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1829,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1829,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-700f-4a0b-895a-229599e72dcclogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1830,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (pt *ProcessTracer) Run(ctx context.Context, out chanlogseq____&lt;- []request.Span) {\\n\\tpt.log = ptlog().With(\\logseq____&quot;path\\logseq____&quot;, pt.ELFInfo.CmdExePath, \\logseq____&quot;pid\\logseq____&quot;, pt.ELFInfo.Pid)\\n\\n\\tpt.log.Debug(\\logseq____&quot;starting process tracer\\logseq____&quot;)\\n\\t// Searches for traceable functions\\n\\ttrcrs, err := pt.tracers()\\n\\tif err != nil {\\n\\t\\tpt.log.Error(\\logseq____&quot;couldnlogseq____&apos;t trace process. Stopping process tracer\\logseq____&quot;, \\logseq____&quot;error\\logseq____&quot;, err)\\n\\t\\treturn\\n\\t}\\n\\n\\tfor _, t := range trcrs {\\n\\t\\tgo t.Run(ctx, out)\\n\\t}\\n\\tgo func() {\\n\\t\\tlogseq____&lt;-ctx.Done()\\n\\t}()\\n}\\n```logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1830,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1830,logseq____&quot;^Flogseq____&quot;,1814,536870967]],[logseq____&quot;^15logseq____&quot;,[1830,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1830,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1830,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1830,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-874c-4e91-94c9-55f555a1ca9blogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1831,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`pkg/internal/appolly/appolly.go`中的`FindAndInstrument` function，會將span channel傳給`ProcessTracer.Run`。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1831,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1831,logseq____&quot;^Flogseq____&quot;,1828,536870967]],[logseq____&quot;^15logseq____&quot;,[1831,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1831,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1831,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1831,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-e207-4590-adce-60af4838ec10logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^Klogseq____&quot;,1753899321578,536870969]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^@logseq____&quot;,false,536870969]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;go/abilogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^Alogseq____&quot;,1837,536870969]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^11logseq____&quot;,logseq____&quot;Go/ABIlogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870969]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^Blogseq____&quot;,1753899321578,536870969]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-0713-4e33-8cc5-80e80d6731ddlogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1838,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[go/src/runtime/iface.go](https://github.com/golang/go/blob/master/src/runtime/iface.go)logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1838,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1838,logseq____&quot;^Flogseq____&quot;,1850,536870969]],[logseq____&quot;^15logseq____&quot;,[1838,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1838,logseq____&quot;^Vlogseq____&quot;,1840,536870969]],[logseq____&quot;^15logseq____&quot;,[1838,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1838,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a69e-45d6-8c3e-c0094e9c54d0logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1839,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;The `interface{}` type is a sequence of 1. a pointer to the runtime type description for the interface’s dynamic type and 2. an `unsafe.Pointer` data field. Any other interface type (besides the empty interface) is a sequence of 1. a pointer to the runtime “itab” that gives the method pointers and the type of the data field and 2. an `unsafe.Pointer` data field. An interface can be “direct” or “indirect” depending on the dynamic type: a direct interface stores the value directly in the data field, and an indirect interface stores a pointer to the value in the data field. An interface can only be direct if the value consists of a single pointer word.logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1839,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1839,logseq____&quot;^Flogseq____&quot;,1645,536870969]],[logseq____&quot;^15logseq____&quot;,[1839,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1839,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1839,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1839,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a83c-4868-9cd3-8d1af62c967clogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1840,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;參考logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1840,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1840,logseq____&quot;^Flogseq____&quot;,1842,536870969]],[logseq____&quot;^15logseq____&quot;,[1840,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1840,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1840,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1840,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-2c18-4fab-a2ac-6d09f9b1cce8logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1841,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; The receiver, arguments, and results of function or method F are assigned to registers or the stack using the following algorithm:\\n1. ...\\n2. If F is a method, assign F’s receiver.logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1841,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1841,logseq____&quot;^Flogseq____&quot;,1652,536870969]],[logseq____&quot;^15logseq____&quot;,[1841,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1841,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1841,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1841,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-97ca-4b92-9e18-f61f0ba13b55logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1842,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;第一個pointer是指向vtable，第二個pointer是指向實現interface的structlogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1842,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1842,logseq____&quot;^Flogseq____&quot;,1839,536870969]],[logseq____&quot;^15logseq____&quot;,[1842,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1842,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1842,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1842,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-0130-441b-9efb-1d5e5b97ae41logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;| Type | 64-bit |  | 32-bit |  |\\n| ---- | ---- |\\n|  | Size | Align | Size | Align |\\n| uintptr, *T, unsafe.Pointer | 8 | 8 | 4 | 4 |logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^Flogseq____&quot;,1627,536870969]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-d261-41f3-b398-faf439dd143elogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1844,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n#define GO_PARAM1(x) ((void*)(x)-logseq____&gt;ax)\\n#define GO_PARAM2(x) ((void*)(x)-logseq____&gt;bx)\\n#define GO_PARAM3(x) ((void*)(x)-logseq____&gt;cx)\\n#define GO_PARAM4(x) ((void*)(x)-logseq____&gt;di)\\n#define GO_PARAM5(x) ((void*)(x)-logseq____&gt;si)\\n#define GO_PARAM6(x) ((void*)(x)-logseq____&gt;r8)\\n#define GO_PARAM7(x) ((void*)(x)-logseq____&gt;r9)\\n#define GO_PARAM8(x) ((void*)(x)-logseq____&gt;r10)\\n#define GO_PARAM9(x) ((void*)(x)-logseq____&gt;r11)\\n\\n// In x86, current goroutine is pointed by r14, according to\\n// https://go.googlesource.com/go/+/refs/heads/dev.regabi/src/cmd/compile/internal-abi.md#amd64-architecture\\n#define GOROUTINE_PTR(x) ((void*)(x)-logseq____&gt;r14)\\n```logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1844,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1844,logseq____&quot;^Flogseq____&quot;,1853,536870969]],[logseq____&quot;^15logseq____&quot;,[1844,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1844,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1844,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1844,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8b00-40a0-9638-7338d7a2e9cdlogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1845,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The amd64 architecture uses the following sequence of 9 registers for integer arguments and results:logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1845,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1845,logseq____&quot;^Flogseq____&quot;,1658,536870969]],[logseq____&quot;^15logseq____&quot;,[1845,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1845,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1845,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1845,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-f8b7-45b5-8d8c-d18c97178571logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; The layout of `map`, `chan`, and `func` types is equivalent to *T.logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^Flogseq____&quot;,1861,536870969]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8854-48b4-bfeb-6d124ee4a258logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## int typelogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^Flogseq____&quot;,1856,536870969]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870969]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^Jlogseq____&quot;,[],536870969]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-cb8f-407e-b8e6-491eb5953575logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1848,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1848,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1848,logseq____&quot;^Flogseq____&quot;,1844,536870969]],[logseq____&quot;^15logseq____&quot;,[1848,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1848,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1848,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1848,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-d7d6-4f53-95a9-b7a5e563f963logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1849,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;| Register | Call meaning | Return meaning | Body meaning |\\n| ---- | ---- | ---- |\\n| RSP | Stack pointer | Same | Same |\\n| RBP | Frame pointer | Same | Same |\\n| RDX | Closure context pointer | Scratch | Scratch |\\n| R12 | Scratch | Scratch | Scratch |\\n| R13 | Scratch | Scratch | Scratch |\\n| R14 | Current goroutine | Same | Same |\\n| R15 | GOT reference temporary if dynlink | Same | Same |\\n| X15 | Zero value (*) | Same | Scratch |logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1849,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1849,logseq____&quot;^Flogseq____&quot;,1852,536870969]],[logseq____&quot;^15logseq____&quot;,[1849,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1849,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1849,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1849,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-977b-452e-9f29-a6d62d1f5f28logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://research.swtch.com/interfaceslogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^Flogseq____&quot;,1840,536870969]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^Vlogseq____&quot;,1840,536870969]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8197-4da4-893c-e52fcebe194flogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;| Type | 64-bit |  | 32-bit |  |\\n| ---- | ---- |\\n|  | Size | Align | Size | Align |\\n| int, uint | 8 | 8 | 4 | 4 |logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^Flogseq____&quot;,1847,536870969]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-f20d-4192-994a-b4578dabfd36logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1852,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Special-purpose registers are as follows:logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1852,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1852,logseq____&quot;^Flogseq____&quot;,1860,536870969]],[logseq____&quot;^15logseq____&quot;,[1852,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1852,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1852,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1852,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-9784-42e1-89c0-2fb3746681edlogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1853,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`bpf/headers/utils.h`定義了macro，取得argument以及go routine pointer。logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1853,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1853,logseq____&quot;^Flogseq____&quot;,1849,536870969]],[logseq____&quot;^15logseq____&quot;,[1853,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1853,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1853,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1853,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-2073-4e2c-a5ad-31cedbbaa76blogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1854,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://go.dev/blog/slices-intrologseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1854,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1854,logseq____&quot;^Flogseq____&quot;,1862,536870969]],[logseq____&quot;^15logseq____&quot;,[1854,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1854,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1854,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1854,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-35b6-4f21-97f9-36c808df1608logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870969]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^Flogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^:logseq____&quot;,true,536870969]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870969]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-1d0e-473a-a1ea-5d5b58aa225clogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[Go internal ABI specification](https://tip.golang.org/src/cmd/compile/abi-internal)logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^Flogseq____&quot;,1855,536870969]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-e721-4e63-a455-517ad9ab5e04logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1857,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; The slice type `[]T` is a sequence of a `*[cap]T` pointer to the slice backing store, an `int` giving the `len` of the slice, and an `int` giving the `cap` of the slice.logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1857,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1857,logseq____&quot;^Flogseq____&quot;,1859,536870969]],[logseq____&quot;^15logseq____&quot;,[1857,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1857,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1857,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1857,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-deda-42e3-aae0-5fb387dc8c25logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; The `string` type is a sequence of a `*[len]byte` pointer to the string backing store, and an `int` giving the `len` of the string.logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^Flogseq____&quot;,1857,536870969]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-be11-4232-b627-ccd30aa4e910logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## string typelogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^Flogseq____&quot;,1846,536870969]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870969]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^Jlogseq____&quot;,[],536870969]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-3e60-4318-b3cb-adc67f36064elogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1860,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nRAX, RBX, RCX, RDI, RSI, R8, R9, R10, R11\\n```logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1860,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1860,logseq____&quot;^Flogseq____&quot;,1845,536870969]],[logseq____&quot;^15logseq____&quot;,[1860,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1860,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1860,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1860,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a2ab-43bd-96d8-01909d2ce5fblogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## function type\\nid:: 66370734-e368-4c5f-813d-8afd569e965alogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^Flogseq____&quot;,1841,536870969]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370734-e368-4c5f-813d-8afd569e965alogseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870969]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370734-e368-4c5f-813d-8afd569e965alogseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66370734-e368-4c5f-813d-8afd569e965alogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## array typelogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^Flogseq____&quot;,1858,536870969]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870969]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^Jlogseq____&quot;,[],536870969]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7d3b-4438-b784-a83e0973ae2flogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^Klogseq____&quot;,1753899321620,536870970]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^@logseq____&quot;,false,536870970]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;go/internallogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^Alogseq____&quot;,1837,536870970]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^11logseq____&quot;,logseq____&quot;Go/internallogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870970]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^Blogseq____&quot;,1753899321620,536870970]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-3ef7-4138-87cd-95e86553e234logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1865,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[Internals of Map in Golang](https://phati-sawant.medium.com/internals-of-map-in-golang-33db6e25b3f8)logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1865,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1865,logseq____&quot;^Flogseq____&quot;,1874,536870970]],[logseq____&quot;^15logseq____&quot;,[1865,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1865,logseq____&quot;^Vlogseq____&quot;,1867,536870970]],[logseq____&quot;^15logseq____&quot;,[1865,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1865,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-5561-4b2e-b374-08aa35618327logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1866,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;source code: https://go.dev/src/runtime/map.gologseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1866,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1866,logseq____&quot;^Flogseq____&quot;,1470,536870970]],[logseq____&quot;^15logseq____&quot;,[1866,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1866,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1866,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1866,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-ccb4-4ad9-8bd6-3dcc3ba870ablogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1867,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;參考資料logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1867,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1867,logseq____&quot;^Flogseq____&quot;,1871,536870970]],[logseq____&quot;^15logseq____&quot;,[1867,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1867,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1867,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1867,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-5475-4a34-963d-33670b3089f8logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1868,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nconst (\\n\\tMapBucketCountBits = 3 // log2 of number of elements in a bucket.\\n\\tMapBucketCount     = 1 logseq____&lt;logseq____&lt; MapBucketCountBits\\n...\\n)\\n```logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1868,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1868,logseq____&quot;^Flogseq____&quot;,1490,536870970]],[logseq____&quot;^15logseq____&quot;,[1868,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1868,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1868,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1868,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-549d-40d9-b191-79921ef0c310logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// A bucket for a Go map.\\ntype bmap struct {\\n\\t// tophash generally contains the top byte of the hash value\\n\\t// for each key in this bucket. If tophash[0] logseq____&lt; minTopHash,\\n\\t// tophash[0] is a bucket evacuation state instead.\\n\\ttophash [bucketCnt]uint8\\n\\t// Followed by bucketCnt keys and then bucketCnt elems.\\n\\t// NOTE: packing all the keys together and then all the elems together makes the\\n\\t// code a bit more complicated than alternating key/elem/key/elem/... but it allows\\n\\t// us to eliminate padding which would be needed for, e.g., map[int64]int8.\\n\\t// Followed by an overflow pointer.\\n}\\n```logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^Flogseq____&quot;,1877,536870970]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-2197-4d3b-b07f-b9a6292ee917logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1870,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// A header for a Go map.\\ntype hmap struct {\\n\\t// Note: the format of the hmap is also encoded in cmd/compile/internal/reflectdata/reflect.go.\\n\\t// Make sure this stays in sync with the compilerlogseq____&apos;s definition.\\n\\tcount     int // # live cells == size of map.  Must be first (used by len() builtin)\\n...\\n\\tB         uint8  // log_2 of # of buckets (can hold up to loadFactor * 2^B items)\\n...\\n\\n\\tbuckets    unsafe.Pointer // array of 2^B Buckets. may be nil if count==0.\\n...\\n}\\n\\n```logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1870,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1870,logseq____&quot;^Flogseq____&quot;,1497,536870970]],[logseq____&quot;^15logseq____&quot;,[1870,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1870,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1870,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1870,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-0aed-4bb6-beba-69073ce29f52logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1871,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n\\t// Possible tophash values. We reserve a few possibilities for special marks.\\n\\t// Each bucket (including its overflow buckets, if any) will have either all or none of its\\n\\t// entries in the evacuated* states (except during the evacuate() method, which only happens\\n\\t// during map writes and thus no one else can observe the map during that time).\\n\\temptyRest      = 0 // this cell is empty, and there are no more non-empty cells at higher indexes or overflows.\\n    emptyOne       = 1 // this cell is empty\\n```logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1871,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1871,logseq____&quot;^Flogseq____&quot;,1878,536870970]],[logseq____&quot;^15logseq____&quot;,[1871,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1871,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1871,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1871,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-4340-4edf-9381-c9d1af8d77fflogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1872,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;每一個bucket的entry數量上限由`bucketCnt`定義logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1872,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1872,logseq____&quot;^Flogseq____&quot;,1870,536870970]],[logseq____&quot;^15logseq____&quot;,[1872,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1872,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1872,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1872,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7d76-4603-bb99-a6474be7c6e3logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870970]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^Flogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^:logseq____&quot;,true,536870970]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870970]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-71e9-4f85-bb21-794b32b407c4logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[GopherCon 2016: Keith Randall - Inside the Map Implementation](https://www.youtube.com/watch?v=Tl7mi9QmLns)logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^Flogseq____&quot;,1867,536870970]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^Vlogseq____&quot;,1867,536870970]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-4435-4c28-83bb-1ca9000f0ea4logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1875,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nconst (\\n\\t// Maximum number of key/elem pairs a bucket can hold.\\n\\tbucketCntBits = abi.MapBucketCountBits\\n\\tbucketCnt     = abi.MapBucketCount\\n  \\n```logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1875,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1875,logseq____&quot;^Flogseq____&quot;,1872,536870970]],[logseq____&quot;^15logseq____&quot;,[1875,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1875,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1875,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1875,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-ce95-4939-b863-d9228f79f9c3logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1876,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://themsaid.com/map-internals-go-1-24logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1876,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1876,logseq____&quot;^Flogseq____&quot;,1865,536870970]],[logseq____&quot;^15logseq____&quot;,[1876,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1876,logseq____&quot;^Vlogseq____&quot;,1867,536870970]],[logseq____&quot;^15logseq____&quot;,[1876,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1876,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-86ca-450d-9c67-a09010d92580logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;bucket的主要結構是`bmap`，在struct中只定義了`tophash` member，註解有提到接著是`bucketCnt`個`keys`以及`bucketCnt`個`elems`，最後是`overflow` pointer。\\nid:: 66424a8b-6b55-4842-848e-2c75ef257c7alogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^Flogseq____&quot;,1868,536870970]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66424a8b-6b55-4842-848e-2c75ef257c7alogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66424a8b-6b55-4842-848e-2c75ef257c7alogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66424a8b-6b55-4842-848e-2c75ef257c7alogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`tophash[i]`值是1，則這cell為空值  [參考](https://github.com/golang/go/blob/9050ce9b334419066c364e747499a2faf4425dad/src/runtime/map.go#L87)\\nid:: 66375d2e-4f0d-4bcf-8e29-60920f0b0d00logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^Flogseq____&quot;,1491,536870970]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66375d2e-4f0d-4bcf-8e29-60920f0b0d00logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66375d2e-4f0d-4bcf-8e29-60920f0b0d00logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66375d2e-4f0d-4bcf-8e29-60920f0b0d00logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^Klogseq____&quot;,1753899321656,536870971]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^@logseq____&quot;,false,536870971]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;go/netlogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^Alogseq____&quot;,1837,536870971]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^11logseq____&quot;,logseq____&quot;Go/netlogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870971]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870971]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^Blogseq____&quot;,1753899321656,536870971]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-5576-43ba-90c5-5c4a419a76f7logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`ServeConn`其中的參數就是`net.Conn` interface。[tls.Conn](https://github.com/golang/go/blob/1e12eab8705d1d8d7472be9147a39caa1c8380db/src/crypto/tls/conn.go#L28)跟[net.TCPConn](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/tcpsock.go#L112)都有實作`net.Conn` interface，都能夠傳入。logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^Flogseq____&quot;,1893,536870971]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-43c2-485c-9aca-68ca348451f9logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`tls.Conn`包含一個`net.Conn` interface `conn`。logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^Flogseq____&quot;,1889,536870971]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-2be8-47e1-ae50-2261282f9713logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (l *listener) Accept() (net.Conn, error) {\\n\\tc, err := l.Listener.Accept()\\n\\tif err != nil {\\n\\t\\treturn nil, err\\n\\t}\\n\\treturn Server(c, l.config), nil\\n}\\n```logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^Flogseq____&quot;,1886,536870971]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-300c-4b92-9ee7-af8785aacbcelogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870971]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^Flogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^:logseq____&quot;,true,536870971]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870971]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870971]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870971]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-195c-4662-8ca6-937f98e6019flogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1885,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// TCPConn is an implementation of the [Conn] interface for TCP network\\n// connections.\\ntype TCPConn struct {\\n\\tconn\\n}\\n```logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1885,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1885,logseq____&quot;^Flogseq____&quot;,1902,536870971]],[logseq____&quot;^15logseq____&quot;,[1885,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1885,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1885,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1885,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-2d89-4b29-a190-8c35a7a72105logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1886,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Server會在 `listener.Accept`被回傳，其中的`c`就是會被傳入`Server` function的`net.Conn`logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1886,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1886,logseq____&quot;^Flogseq____&quot;,1899,536870971]],[logseq____&quot;^15logseq____&quot;,[1886,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1886,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1886,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1886,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-9864-4d8a-a8b9-2b2cb9c77018logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1887,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1887,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1887,logseq____&quot;^Flogseq____&quot;,1894,536870971]],[logseq____&quot;^15logseq____&quot;,[1887,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1887,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1887,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1887,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-1c65-473e-a118-03ad373e6284logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## `tls.Conn`logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^Flogseq____&quot;,1881,536870971]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870971]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^Jlogseq____&quot;,[],536870971]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-f75a-4d99-ac96-f6d692957bf4logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## [tls.Conn](https://github.com/golang/go/blob/1e12eab8705d1d8d7472be9147a39caa1c8380db/src/crypto/tls/conn.go#L28)logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^Flogseq____&quot;,1885,536870971]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870971]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^Jlogseq____&quot;,[],536870971]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-85a3-4640-b129-ccddda20120elogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1890,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// A Conn represents a secured connection.\\n// It implements the net.Conn interface.\\ntype Conn struct {\\n\\t// constant\\n\\tconn        net.Conn\\n\\tisClient    bool\\n\\thandshakeFn func(context.Context) error // (*Conn).clientHandshake or serverHandshake\\n\\tquic        *quicState                  // nil for non-QUIC connections\\n```logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1890,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1890,logseq____&quot;^Flogseq____&quot;,1900,536870971]],[logseq____&quot;^15logseq____&quot;,[1890,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1890,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1890,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1890,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-4e45-416e-89eb-5a4a1c63bc70logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# http2 net.Conn\\nid:: 663efa9b-0732-4601-ab4b-474f1349059clogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^Flogseq____&quot;,1884,536870971]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;663efa9b-0732-4601-ab4b-474f1349059clogseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870971]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870971]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;663efa9b-0732-4601-ab4b-474f1349059clogseq____&quot;],536870971]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u663efa9b-0732-4601-ab4b-474f1349059clogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1892,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在建立http2 server時，是使用[tls.Server](https://github.com/golang/go/blob/a0da9c00aeb51261b9845a46fbc9878870884ab6/src/crypto/tls/tls.go#L34)建立[tls.Conn](https://github.com/golang/go/blob/1e12eab8705d1d8d7472be9147a39caa1c8380db/src/crypto/tls/conn.go#L28) struct。logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1892,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1892,logseq____&quot;^Flogseq____&quot;,1890,536870971]],[logseq____&quot;^15logseq____&quot;,[1892,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1892,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1892,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1892,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-be9f-46bb-9b1c-54ce99481e86logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1893,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;http2中的[serverConn](https://github.com/golang/net/blob/7fa635bd2621428e6b8528111446dcdd91910203/http2/server.go#L406)會在[ServeConn](https://github.com/golang/go/blob/d6c972ad41043f38bfa31f3c7036e6d8a3361f2d/src/net/http/h2_bundle.go#L4215)被建立，其中有`net.Conn` interface型態的`conn` member。logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1893,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1893,logseq____&quot;^Flogseq____&quot;,1891,536870971]],[logseq____&quot;^15logseq____&quot;,[1893,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1893,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1893,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1893,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-dc12-4938-b890-7521bfdb784alogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1894,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// TCPConn is an implementation of the [Conn] interface for TCP network\\n// connections.\\ntype TCPConn struct {\\n\\tconn\\n}\\n```logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1894,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1894,logseq____&quot;^Flogseq____&quot;,1898,536870971]],[logseq____&quot;^15logseq____&quot;,[1894,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1894,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1894,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1894,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-162d-47f4-93ea-20c4cf3cd00dlogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## [net.TCPConn](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/tcpsock.go#L112)logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^Flogseq____&quot;,1637,536870971]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870971]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^Jlogseq____&quot;,[],536870971]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-19af-4bc3-8b7e-9bede562e8e5logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1896,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// A Conn represents a secured connection.\\n// It implements the net.Conn interface.\\ntype Conn struct {\\n\\t// constant\\n\\tconn        net.Conn\\n\\tisClient    bool\\n\\thandshakeFn func(context.Context) error // (*Conn).clientHandshake or serverHandshake\\n\\tquic        *quicState                  // nil for non-QUIC connections\\n    ...\\n}\\n```logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1896,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1896,logseq____&quot;^Flogseq____&quot;,1882,536870971]],[logseq____&quot;^15logseq____&quot;,[1896,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1896,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1896,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1896,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-fdf0-412f-8a5b-9cfc7a0fdcd1logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`listener`可以透過[Listen](https://github.com/golang/go/blob/a0da9c00aeb51261b9845a46fbc9878870884ab6/src/crypto/tls/tls.go#L88) function建立，其中的`network`可以選擇`tcp`。logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^Flogseq____&quot;,1883,536870971]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b0d9-4aa1-9ae2-91c494427a4flogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`network`是`tcp`，則會在`l.Listener.Accept`回傳實作`net.Conn`的[net.TCPConn](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/tcpsock.go#L112)。`conn`就是[net.conn](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/net.go#L166)，也同樣實作`net.Conn` interface，以embed struct形式在`TCPConn`內。logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^Flogseq____&quot;,1901,536870971]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c497-4595-8d96-9b1a1f71e52blogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1899,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc Server(conn net.Conn, config *Config) *Conn {\\n\\tc := logseq____&amp;Conn{\\n\\t\\tconn:   conn,\\n\\t\\tconfig: config,\\n\\t}\\n\\tc.handshakeFn = c.serverHandshake\\n\\treturn c\\n}\\n\\n```logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1899,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1899,logseq____&quot;^Flogseq____&quot;,1892,536870971]],[logseq____&quot;^15logseq____&quot;,[1899,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1899,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1899,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1899,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-edae-4a0f-b04a-d2362f016bf4logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1900,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`tls.Conn` struct裡面的`conn`，又是另一個`net.Conn` interface。logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1900,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1900,logseq____&quot;^Flogseq____&quot;,1888,536870971]],[logseq____&quot;^15logseq____&quot;,[1900,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1900,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1900,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1900,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b35e-450c-9578-6ef53a59b740logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## `TCPConn`logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^Flogseq____&quot;,1897,536870971]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870971]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^Jlogseq____&quot;,[],536870971]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-be49-4f27-bc03-c1643efd1ee8logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1902,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`net.TCPConn`包含一個embed struct `conn`，`conn`就是[net.conn](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/net.go#L166)，也同樣實作`net.Conn` interface。logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1902,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1902,logseq____&quot;^Flogseq____&quot;,1895,536870971]],[logseq____&quot;^15logseq____&quot;,[1902,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1902,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1902,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1902,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-9ea8-4b9d-afba-5f91df7c21c1logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 補充logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^Flogseq____&quot;,1937,536870972]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870972]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c494-439e-97cc-72b778f64fa0logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1905,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```yaml\\n  schemaConfig:\\n    configs:\\n    - from: 2024-12-01\\n      store: tsdb\\n      object_store: shardv1\\n      schema: v13\\n      index:\\n        prefix: loki_index_\\n        period: 24h\\n   storage_config:\\n    named_stores:\\n      aws:\\n        shardv1:\\n          endpoint: logseq____&lt;s3-endpointlogseq____&gt;\\n          bucketnames: loki-shard-0,loki-shard-1\\n          access_key_id: ${ACCESS_KEY_ID}\\n          secret_access_key: ${SECRET_ACCESS_KEY}\\n          insecure: false\\n          signature_version: v4\\n          storage_class: STANDARD\\n          http_config:\\n            idle_conn_timeout: 90s\\n            response_header_timeout: 0s\\n            insecure_skip_verify: false\\n          s3forcepathstyle: true\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1905,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1905,logseq____&quot;^Flogseq____&quot;,1907,536870972]],[logseq____&quot;^15logseq____&quot;,[1905,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1905,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1905,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1905,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-e42e-4eb5-bc49-e27ab4962d9elogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`store.background.write-back-concurrency`代表寫入memcached的go routine數量，建議調整成1，避免太aggresive的寫入memcached，造成一些item被evict。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^Flogseq____&quot;,1927,536870972]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-d859-4c4b-a352-b562f53a6b21logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1907,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Loki允許設定[named storage](https://grafana.com/docs/loki/latest/configure/#named_stores_config)，如果要schema migration，例如從S3搬到GCS，或是從單一的bucket搬到多個bucket，都可以搭配[storage schema](https://grafana.com/docs/loki/latest/operations/storage/schema/)做到。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1907,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1907,logseq____&quot;^Flogseq____&quot;,1944,536870972]],[logseq____&quot;^15logseq____&quot;,[1907,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1907,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1907,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1907,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-d917-4ebd-9009-de30f4eab5calogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 實現logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^Flogseq____&quot;,1924,536870972]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870972]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-20a5-480a-bd39-5ea6b320f2bblogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## memcached tuninglogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^Flogseq____&quot;,1929,536870972]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870972]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-647f-4298-91d7-e07a56c84e60logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果stream的label一多，那就非常有可能會遇到max-age問題。另外如果當log的源頭是cronjob或是job的話，就有可能會遇到idle（排程可能一天一次而已）。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^Flogseq____&quot;,1975,536870972]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8f73-461c-a766-76c29d48fd09logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;force: 當ingester被shutdown時候，裡面的chunk會被強制flushlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^Flogseq____&quot;,1949,536870972]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^Vlogseq____&quot;,1975,536870972]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-0766-40a1-b5e8-087ffc180533logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1912,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如[memcached文件所提](https://github.com/memcached/memcached/wiki/ConfiguringLokiExtstore)，讓`ingester.chunk-target-size` 以及在memcached的max item size (`-I`)不要太大，可以設定成`2MB`，同時在memcached加上extstore特別的參數。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1912,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1912,logseq____&quot;^Flogseq____&quot;,1956,536870972]],[logseq____&quot;^15logseq____&quot;,[1912,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1912,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1912,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1912,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-86d2-4afc-aaee-17df22e61fc5logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;最佳化chunk使用率logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^Flogseq____&quot;,1924,536870972]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^Vlogseq____&quot;,1924,536870972]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-68b7-4917-acae-f3b24af1535dlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 背景logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^Flogseq____&quot;,1943,536870972]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870972]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-169f-4446-932f-f37a6e01d96flogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1915,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;大幅降低ingester的消耗記憶體及需要的replicalogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1915,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1915,logseq____&quot;^Flogseq____&quot;,1933,536870972]],[logseq____&quot;^15logseq____&quot;,[1915,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1915,logseq____&quot;^Vlogseq____&quot;,1924,536870972]],[logseq____&quot;^15logseq____&quot;,[1915,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1915,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-bbfc-4ab7-b442-f785d56d636flogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1916,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://grafana.com/blog/2024/05/29/grafana-loki-query-acceleration-how-we-sped-up-queries-without-adding-resources/logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1916,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1916,logseq____&quot;^Flogseq____&quot;,1976,536870972]],[logseq____&quot;^15logseq____&quot;,[1916,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1916,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1916,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1916,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-511f-46e6-8a16-f132698806c3logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## 必讀文章logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^Flogseq____&quot;,1962,536870972]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870972]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-91b6-450c-824f-9b72114a1b98logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;ingestion rate limit: 因為label變少導致stream數量變少，變相導致每一條stream送的量變多，這時會遇到ingester的rate limit。這時可以調整limits_config裡面的`per_stream_rate_limit`以及`per_stream_rate_limit_burst`，有global以及每一位loki tenant的runtime config可供調整。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^Flogseq____&quot;,1904,536870972]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-f7de-4749-9ca4-f0aaa3b15c59logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;![image.png](../assets/image_1737517693938_0.png)logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^Flogseq____&quot;,1970,536870972]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-0808-42dd-8efc-c164ca58154elogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1920,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果ingester的資源充足的話，可以考慮將`ingester.max-chunk-age`拉大，除了讓chunk flush reason比較有機會從max-age改成full之外，也連帶增加[out of order write](https://grafana.com/docs/loki/latest/configure/#accept-out-of-order-writes)的寫入時間，讓舊的log有機會被寫入(也要配合log collector的tail log機制)，但應該會增加些許的memory使用。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1920,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1920,logseq____&quot;^Flogseq____&quot;,1982,536870972]],[logseq____&quot;^15logseq____&quot;,[1920,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1920,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1920,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1920,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-2501-4364-8244-bc1770a676b0logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1921,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;考慮啟用zoneAwareReplication機制，`grafana/loki` helm chart已經針對這個config做上層封裝，管理者只要指定ingester數量以及affinity，就能將不同的ingester分別部到不同的AZ，能有更高可用性的寫入。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1921,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1921,logseq____&quot;^Flogseq____&quot;,1969,536870972]],[logseq____&quot;^15logseq____&quot;,[1921,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1921,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1921,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1921,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-03df-45e2-8270-55411b546f91logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1922,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;AS ISlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1922,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1922,logseq____&quot;^Flogseq____&quot;,1963,536870972]],[logseq____&quot;^15logseq____&quot;,[1922,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1922,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1922,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1922,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8b24-4caa-a83a-506748cdf6c5logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1923,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;讓querier拿chunk cache時不會發生timeout，也就不用retry好幾次才去拿object storage裡面的chunk。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1923,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1923,logseq____&quot;^Flogseq____&quot;,1981,536870972]],[logseq____&quot;^15logseq____&quot;,[1923,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1923,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1923,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1923,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-69fa-4cdb-96e7-01ce9414f528logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;讓chunk的flush reason盡可能是full，而不是idle跟max agelogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^Flogseq____&quot;,1930,536870972]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-fe45-4f3c-a4e2-e859e776cd60logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1925,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;調整適當的`querier.split-queries-by-interval`，query frontend會根據這個數值將query切分成多的subquery進而去執行，如果log量大，可以縮減時間拆分更多subquery讓他們去執行。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1925,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1925,logseq____&quot;^Flogseq____&quot;,1931,536870972]],[logseq____&quot;^15logseq____&quot;,[1925,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1925,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1925,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1925,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-6783-4831-b2fa-05941a638d0clogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://grafana.com/blog/2023/12/20/the-concise-guide-to-grafana-loki-everything-you-need-to-know-about-labels/logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^Flogseq____&quot;,1917,536870972]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-f7a6-4aaf-af78-805c8ccf3dc1logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1927,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; Lokilogseq____&apos;s memcache client timeout is measuring the amount of time to *fetch and read and process the entire batch of keys from each host*.logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1927,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1927,logseq____&quot;^Flogseq____&quot;,1950,536870972]],[logseq____&quot;^15logseq____&quot;,[1927,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1927,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1927,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1927,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a536-4c2e-b7ee-47b4eb26e6b3logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n{cluster=\\logseq____&quot;dev\\logseq____&quot;, container=\\logseq____&quot;app\\logseq____&quot;, pod=\\logseq____&quot;app-123456\\logseq____&quot;}\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^Flogseq____&quot;,1922,536870972]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-ec85-403a-b1f1-f48a4b73d51clogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;shard streams: 如果某個stream的log量太大，這時可以考慮採用[shard stream](https://grafana.com/docs/loki/latest/operations/automatic-stream-sharding/)，透過提供預期的stream rate，他會在distributor那邊為每條stream附上新的`__stream_shard__` label，所以理順上這就會變成不同的stream，讓ingester有能力消化。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^Flogseq____&quot;,1918,536870972]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-652a-45d6-ac6a-34689444928blogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 目標logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^Flogseq____&quot;,1910,536870972]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870972]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-d7c1-4212-b233-ab15ce1cef1dlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## querier configlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^Flogseq____&quot;,1954,536870972]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870972]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-61db-413c-8356-4d5d0f08a6a7logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1932,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;ingester的chunk在被flush前不僅會寫入object storage，也會寫入chunk cache，[這篇文章](https://grafana.com/blog/2023/08/23/how-we-scaled-grafana-cloud-logs-memcached-cluster-to-50tb-and-improved-reliability/)提到Grafana Cloud是使用extstore(SSD)去取代高價的memory，讓memcached能有更多的空間儲存chunk。但預設的memcached config有點太agressive，不太適合extstore使用，所以要做些調整。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1932,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1932,logseq____&quot;^Flogseq____&quot;,1979,536870972]],[logseq____&quot;^15logseq____&quot;,[1932,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1932,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1932,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1932,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-85d2-4b88-a450-1ec0a0a83bedlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1933,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;減少object storage訪問次數，降低rate limit發生機會logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1933,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1933,logseq____&quot;^Flogseq____&quot;,1913,536870972]],[logseq____&quot;^15logseq____&quot;,[1933,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1933,logseq____&quot;^Vlogseq____&quot;,1924,536870972]],[logseq____&quot;^15logseq____&quot;,[1933,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1933,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-9c37-4e59-8a26-f0065d7b7569logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1934,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;調整適當的`querier.max-concurrent`，`querier.tsdb-max-query-parallelism`以及querier的replicas數量。`querier.tsdb-max-query-parallelism`是一個global的queue代表現在等待被處理的subquery，`querier.max-concurrent`代表一個querier能同時處理的的subquery上限，所以querier replicas * `querier.max-concurrent`要大於 `querier.tsdb-max-query-parallelism`才代表query任務能順利被消化。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1934,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1934,logseq____&quot;^Flogseq____&quot;,1925,536870972]],[logseq____&quot;^15logseq____&quot;,[1934,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1934,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1934,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1934,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-eb12-4fc0-930c-9e34487d80c2logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 成效logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^Flogseq____&quot;,1968,536870972]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870972]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-55d2-4d1b-b45d-d4a87f222901logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1936,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果要定時刪掉舊的log，讓index gateway認知到所要查詢的stream不存在的話，可以將`compactor.retention-enabled`設定成true，將`compactor.delete-request-store`指到存放chunk的storage name，並且將`store.retention`設定成預計的上限例如`28d`。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1936,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1936,logseq____&quot;^Flogseq____&quot;,1972,536870972]],[logseq____&quot;^15logseq____&quot;,[1936,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1936,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1936,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1936,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-4fe0-4aed-9b4a-423b84d2e8fblogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;![image.png](../assets/image_1737521783152_0.png)logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^Flogseq____&quot;,1946,536870972]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-f5d2-4350-9aa8-d5ad329d04dalogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1938,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nmemcached -m 6000 -I 2m -o ext_path=/disk/extstore:500G,ext_wbuf_size=32,ext_threads=10,ext_max_sleep=10000,slab_automove_freeratio=0.10,ext_recache_rate=0\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1938,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1938,logseq____&quot;^Flogseq____&quot;,1912,536870972]],[logseq____&quot;^15logseq____&quot;,[1938,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1938,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1938,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1938,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-4d23-4805-8c0a-bb04f01ad610logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`store.chunks-cache.memcached.parallelism`目的是同時有多少的go routine是取得memcached keys，盡可能設定愈低的值，但如果網路頻寬允許的話可以拉高。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^Flogseq____&quot;,1973,536870972]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-5307-4e14-a6c5-bbcb902060b3logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1940,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果有特定的stream想做特別的retention處理，可以設定`retention_stream`例如logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1940,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1940,logseq____&quot;^Flogseq____&quot;,1936,536870972]],[logseq____&quot;^15logseq____&quot;,[1940,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1940,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1940,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1940,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a83c-49fa-85e4-0eb6584705b4logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1941,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```yml\\nchunk_store_config:\\n  chunk_cache_config:\\n    memcached:\\n      batch_size: 3\\n      parallelism: 2\\n    memcached_client:\\n      addresses: 127.0.0.1:11211\\n      timeout: 60s\\n    background:\\n      writeback_goroutines: 1\\n      writeback_buffer: 1000\\n      writeback_size_limit: 500MB\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1941,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1941,logseq____&quot;^Flogseq____&quot;,1906,536870972]],[logseq____&quot;^15logseq____&quot;,[1941,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1941,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1941,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1941,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c035-4e7f-ac9c-12714bd5ef5flogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## ingester configlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^Flogseq____&quot;,1980,536870972]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870972]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-db24-41f6-957f-d8b4d63f153flogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## chunk writelogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^Flogseq____&quot;,1905,536870972]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870972]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-16c4-49d0-ba3b-bdf144d8051alogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Loki的`s3.buckets`允許一次設定多個bucket，使用逗號隔開，例如`loki-shard-0,loki-shard-1`。將chunk storage拆成多個bucket將可以分流request到多的bucket去，大幅降低發生429的機會。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^Flogseq____&quot;,1974,536870972]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-abd7-454b-a27b-98ff29402be5logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1945,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```yaml\\ningester:\\n  replicas: 12\\n  zoneAwareReplication:\\n    zoneA:\\n      extraAffinity:\\n        nodeAffinity:\\n          requiredDuringSchedulingIgnoredDuringExecution:\\n            nodeSelectorTerms:\\n            - matchExpressions:\\n              - key: nodepool\\n                operator: In\\n                values:\\n                - loki\\n              - key: availability-zone\\n                operator: In\\n                values:\\n                - az-1\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1945,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1945,logseq____&quot;^Flogseq____&quot;,1921,536870972]],[logseq____&quot;^15logseq____&quot;,[1945,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1945,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1945,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1945,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-5277-46f3-b954-0bbac2eac9e5logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1946,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;object storage遇到429比率近乎於0logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1946,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1946,logseq____&quot;^Flogseq____&quot;,1919,536870972]],[logseq____&quot;^15logseq____&quot;,[1946,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1946,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1946,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1946,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-198c-40d8-b14f-3cf640cc8662logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1947,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;full: 當chunk的size到達 `ingester.chunk-target-size` 就會被flushlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1947,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1947,logseq____&quot;^Flogseq____&quot;,1975,536870972]],[logseq____&quot;^15logseq____&quot;,[1947,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1947,logseq____&quot;^Vlogseq____&quot;,1975,536870972]],[logseq____&quot;^15logseq____&quot;,[1947,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1947,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-1260-4a51-a152-3fbfacf787dalogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;另外在loki config中，設定不要太大的batch size及parallelism，拉高timeout。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^Flogseq____&quot;,1978,536870972]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-1206-43e8-90bd-300b01b19a2clogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1949,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;idle: 當chunk有長達`ingester.chunks-idle-period`沒有steam被寫入的話，就會被flushlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1949,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1949,logseq____&quot;^Flogseq____&quot;,1957,536870972]],[logseq____&quot;^15logseq____&quot;,[1949,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1949,logseq____&quot;^Vlogseq____&quot;,1975,536870972]],[logseq____&quot;^15logseq____&quot;,[1949,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1949,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-99b0-4805-870a-6123cc4ee564logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1950,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`store.chunks-cache.memcached.timeout`的時間包含去memcached拿key，deserialize轉成loki懂的格式的時間，如果chunk的item size一大，或是batch size大的話會影響timeout時間。預設是`100ms`但強烈建議調整成較高的值例如`60s`。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1950,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1950,logseq____&quot;^Flogseq____&quot;,1939,536870972]],[logseq____&quot;^15logseq____&quot;,[1950,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1950,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1950,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1950,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-afa0-47f8-ba7b-9c301eb23edblogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```yaml\\n    retention_stream:\\n    - selector: logseq____&apos;{cluster=\\logseq____&quot;cluster-prod\\logseq____&quot;, app=\\logseq____&quot;nginx\\logseq____&quot;}logseq____&apos;\\n      period: 168h # 1w\\n      priority: 1\\n    - selector: logseq____&apos;{cluster=\\logseq____&quot;cluster-dev\\logseq____&quot;, app=\\logseq____&quot;nginx\\logseq____&quot;}logseq____&apos;\\n      period: 168h # 1w\\n      priority: 1\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^Flogseq____&quot;,1940,536870972]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-6b42-4d90-a43f-fbf75ea38e5dlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1952,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果ingester的replica一多，在restart ingester statefulset時候預設會去檢查ingester ring上的健康程度，這時等待單顆ingester可能就會長達10分鐘，這時可以考慮將`ingester.readiness-check-ring-health`改成false，加速ready等待時間到2分鐘。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1952,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1952,logseq____&quot;^Flogseq____&quot;,1920,536870972]],[logseq____&quot;^15logseq____&quot;,[1952,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1952,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1952,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1952,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a225-4175-92ee-fff236afda8alogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1953,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n{cluster=\\logseq____&quot;dev\\logseq____&quot;, container=\\logseq____&quot;app\\logseq____&quot;, app=\\logseq____&quot;app\\logseq____&quot;}\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1953,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1953,logseq____&quot;^Flogseq____&quot;,1966,536870972]],[logseq____&quot;^15logseq____&quot;,[1953,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1953,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1953,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1953,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-2f74-4e34-bb23-59497bfa74c5logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1954,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果ingester的request duration較長，可以稍微增加`distributor.rate-store.ingester-request-timeout`避免distributor發生錯誤。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1954,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1954,logseq____&quot;^Flogseq____&quot;,1977,536870972]],[logseq____&quot;^15logseq____&quot;,[1954,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1954,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1954,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1954,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-2e7c-4ba5-8f0b-160c9ce09060logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## distributor configlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^Flogseq____&quot;,1945,536870972]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870972]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-bbba-4eec-a4b1-98284664db85logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 實現logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^Flogseq____&quot;,1923,536870972]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870972]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-ba3f-42bb-8f03-986ae8620a02logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;max-age: 當chunk的時間長度到達 `ingester.max-chunk-age` 但是還沒滿，就會被flushlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^Flogseq____&quot;,1947,536870972]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^Vlogseq____&quot;,1975,536870972]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-1d7a-4bbc-ac1e-bff9495196bflogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## object storagelogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^Flogseq____&quot;,1951,536870972]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870972]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c8b4-4ea4-9714-c83c2f25a47dlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://grafana.com/blog/2023/08/23/how-we-scaled-grafana-cloud-logs-memcached-cluster-to-50tb-and-improved-reliability/logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^Flogseq____&quot;,1916,536870972]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-f46e-48ee-8274-499656ff1cdblogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1960,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;透過`logcli series`可以查到目前的tenant的series有哪些，進而去處理這些labelslogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1960,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1960,logseq____&quot;^Flogseq____&quot;,1965,536870972]],[logseq____&quot;^15logseq____&quot;,[1960,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1960,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1960,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1960,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-92e5-4b29-88a5-25fadf86d883logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 目標logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^Flogseq____&quot;,1932,536870972]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870972]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-67c1-4ee5-af4c-fb06cdaa7289logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1962,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1962,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1962,logseq____&quot;^Flogseq____&quot;,1941,536870972]],[logseq____&quot;^15logseq____&quot;,[1962,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1962,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1962,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1962,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7096-4a81-9bf5-f227fa80687blogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;可以在log collector端事前針對loki的label做處理，label盡量採用變化不太的，例如cluster, namespace, container, app等。pod不建議放在label因為他會帶suffix影響chunk flush reason。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^Flogseq____&quot;,1908,536870972]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-cb58-44b9-a921-5f26ddea4881logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1964,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://github.com/memcached/memcached/wiki/ConfiguringLokiExtstorelogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1964,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1964,logseq____&quot;^Flogseq____&quot;,1959,536870972]],[logseq____&quot;^15logseq____&quot;,[1964,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1964,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1964,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1964,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-32d2-4562-924d-dcd93a83b6c5logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1965,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;其中app可以是deplyoment, daemonset名稱，或者是helm chart名稱logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1965,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1965,logseq____&quot;^Flogseq____&quot;,1953,536870972]],[logseq____&quot;^15logseq____&quot;,[1965,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1965,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1965,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1965,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b586-492c-847f-11601ab3d045logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;THENlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^Flogseq____&quot;,1928,536870972]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-d07a-4da0-b130-048df6b20a26logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1967,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;chunk寫入的單位是tenant與steam，stream又會細分成多個label，如果stream的label都相同，就會被寫到同一個chunk。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1967,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1967,logseq____&quot;^Flogseq____&quot;,1914,536870972]],[logseq____&quot;^15logseq____&quot;,[1967,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1967,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1967,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1967,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7c61-4c15-a4db-f98e07d473ddlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```bash\\nexport LOKI_ADDR=logseq____&lt;loki-gatewaylogseq____&gt;\\nexport LOKI_ORG_ID=logseq____&lt;tenant-idlogseq____&gt;\\nlogcli series logseq____&apos;{}logseq____&apos;\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^Flogseq____&quot;,1960,536870972]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-6909-4339-a850-f57f20212cd0logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;為ingester啟用WAL機制，並掛載PVC，讓接收到SIGTERM指令的ingester能將正在處理的chunk寫到WAL裡面，重啟之後能把先前的工作撿回來繼續做。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^Flogseq____&quot;,1952,536870972]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-202d-41f1-8237-8166e36853b4logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1970,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果label處理得當，將可以讓chunk flush reason為full的比率高達95%以上logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1970,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1970,logseq____&quot;^Flogseq____&quot;,1935,536870972]],[logseq____&quot;^15logseq____&quot;,[1970,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1970,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1970,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1970,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-2f26-42e6-8e12-b2fdc6450202logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870972]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^Flogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^:logseq____&quot;,true,536870972]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870972]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870972]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870972]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-54a3-43ea-af19-ae05512d0b91logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## compactor及retentionlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^Flogseq____&quot;,1934,536870972]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870972]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-0349-427d-b6a4-5a0965326ad5logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1973,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`store.chunks-cache.memcached.batchsize`意思是memcached client一次拿多少個memcached keys，可以設定成memcached server的2倍數量，所以如果memcached server是5台的話可以設定成10。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1973,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1973,logseq____&quot;^Flogseq____&quot;,1948,536870972]],[logseq____&quot;^15logseq____&quot;,[1973,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1973,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1973,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1973,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-6c4b-403f-b200-799d51bc752blogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為存放chunk的bucket最外層分成許多tenant的資料夾(prefix)，可以在object storage的lifecycle中，針對特定的prefix去做處理，例如可以預設採用30天的retention，但如果針對特定的短週期tenant的話，再設定成較短的retention例如7天。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^Flogseq____&quot;,1958,536870972]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-4bd5-44ba-a33d-13b2352a5e73logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1975,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;chunk會有多的原因會被flushlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1975,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1975,logseq____&quot;^Flogseq____&quot;,1967,536870972]],[logseq____&quot;^15logseq____&quot;,[1975,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1975,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1975,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1975,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-efb9-4b84-8fdf-b767bb2cd0e6logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://grafana.com/blog/2023/12/28/the-concise-guide-to-loki-how-to-get-the-most-out-of-your-query-performance/logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^Flogseq____&quot;,1926,536870972]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7839-4041-9def-fe874a53f35alogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1977,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在ingester restart過程中，distributor仍會向ingester要最新的stream消化程度，其中distributor會每隔`distributor.client-cleanup-period`，更新一次最新的ingester server endpoint，如果時間太長，將會導致distributor有些許的error產生（distributor沒發現ingester還沒ready，但已經把log丟給他）。這時可以考慮把時間調短，從預設的`15s`改成`5s`，更早發現不健康的ingester以免誤送。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1977,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1977,logseq____&quot;^Flogseq____&quot;,1955,536870972]],[logseq____&quot;^15logseq____&quot;,[1977,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1977,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1977,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1977,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c4cd-435c-8fc9-2d52d073b5e5logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1978,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1978,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1978,logseq____&quot;^Flogseq____&quot;,1938,536870972]],[logseq____&quot;^15logseq____&quot;,[1978,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1978,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1978,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1978,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-4468-4ec9-9204-e83b4515e597logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 背景logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^Flogseq____&quot;,1909,536870972]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870972]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-d631-4fc4-b5fd-2e6e8793b8f6logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# Loki operation與tuninglogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^Flogseq____&quot;,1971,536870972]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870972]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a46a-4b1b-bfa4-58ada65a6ae9logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1981,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用query frontend的metrics去評估絕大部分使用者去query log的range時間，可能是近3小時，一天，又或是一週，利用這段時間加上每小時被寫入多少chunk去估cache size應該要多大。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1981,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1981,logseq____&quot;^Flogseq____&quot;,1961,536870972]],[logseq____&quot;^15logseq____&quot;,[1981,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1981,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1981,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1981,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8620-4fb1-a9f0-46387cc37a05logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1982,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;直接設定`ingester.chunk-encoding`成`snappy`，雖然不是最大的壓縮比，但是速度較快，壓縮比也能接受，[官方](https://grafana.com/docs/loki/latest/configure/bp-configure/#use-snappy-compression-algorithm)也推薦使用。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1982,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1982,logseq____&quot;^Flogseq____&quot;,1942,536870972]],[logseq____&quot;^15logseq____&quot;,[1982,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1982,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1982,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1982,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c9e5-4fcd-a543-c848828c8c68logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[2031,logseq____&quot;^Klogseq____&quot;,1753899321875,536870975]],[logseq____&quot;^15logseq____&quot;,[2031,logseq____&quot;^@logseq____&quot;,false,536870975]],[logseq____&quot;^15logseq____&quot;,[2031,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;resource/http2/hpacklogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2031,logseq____&quot;^Alogseq____&quot;,2032,536870975]],[logseq____&quot;^15logseq____&quot;,[2031,logseq____&quot;^11logseq____&quot;,logseq____&quot;Resource/http2/HPACKlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2031,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870975]],[logseq____&quot;^15logseq____&quot;,[2031,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[2031,logseq____&quot;^Blogseq____&quot;,1753899321875,536870975]],[logseq____&quot;^15logseq____&quot;,[2031,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-5b6c-4c86-9d2b-25934dc08af3logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2033,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\npackage main\\nimport \\logseq____&quot;golang.org/x/net/http2/hpack\\logseq____&quot;\\nimport \\logseq____&quot;bytes\\logseq____&quot;\\nimport \\logseq____&quot;fmt\\logseq____&quot;\\nimport \\logseq____&quot;encoding/hex\\logseq____&quot;\\n\\nfunc main() {\\n  buf := new(bytes.Buffer)\\n  encoder := hpack.NewEncoder(buf)\\n  header := \\logseq____&quot;traceparent\\logseq____&quot;\\n  encoder.WriteField(hpack.HeaderField{Name: header})\\n  hexBuf := hex.EncodeToString(buf.Bytes())\\n  fmt.Println(hexBuf)\\n}\\n```logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2033,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2033,logseq____&quot;^Flogseq____&quot;,1557,536870975]],[logseq____&quot;^15logseq____&quot;,[2033,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2033,logseq____&quot;^Vlogseq____&quot;,1557,536870975]],[logseq____&quot;^15logseq____&quot;,[2033,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2033,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a445-45c0-adaf-96912f38cd23logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2034,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## [spec]([RFC 7541 - HPACK: Header Compression for HTTP/2 (ietf.org)](https://datatracker.ietf.org/doc/html/rfc7541))logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2034,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2034,logseq____&quot;^Flogseq____&quot;,2073,536870975]],[logseq____&quot;^15logseq____&quot;,[2034,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2034,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2034,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2034,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870975]],[logseq____&quot;^15logseq____&quot;,[2034,logseq____&quot;^Jlogseq____&quot;,[],536870975]],[logseq____&quot;^15logseq____&quot;,[2034,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-9e2d-40fa-8db2-b97ee4d2d820logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2035,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b0000 0000 =logseq____&gt; 0x00logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2035,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2035,logseq____&quot;^Flogseq____&quot;,2040,536870975]],[logseq____&quot;^15logseq____&quot;,[2035,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2035,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2035,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2035,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-99f4-47f7-8f9a-dbc93b4fe5fflogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2036,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2036,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2036,logseq____&quot;^Flogseq____&quot;,2052,536870975]],[logseq____&quot;^15logseq____&quot;,[2036,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2036,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2036,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2036,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-2b4d-4d24-9d4a-a89ed6081bc9logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2037,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b(0100 0000) =logseq____&gt; 0x40logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2037,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2037,logseq____&quot;^Flogseq____&quot;,2081,536870975]],[logseq____&quot;^15logseq____&quot;,[2037,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2037,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2037,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2037,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-9df7-49b0-9233-22a61fd1d72elogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2038,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2038,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2038,logseq____&quot;^Flogseq____&quot;,2071,536870975]],[logseq____&quot;^15logseq____&quot;,[2038,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2038,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2038,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2038,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-6beb-4fa5-9519-dded37f03a97logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2039,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`01001` + `101100` + `00011` + `00100` + `00101` + `101011` + `00011` + `101100` + `00101` + `101010` + `01001` =logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2039,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2039,logseq____&quot;^Flogseq____&quot;,2056,536870975]],[logseq____&quot;^15logseq____&quot;,[2039,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2039,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2039,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2039,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-f1fc-4fbd-9b65-b696f14f7fdalogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2040,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0x(f1 e3 c2 e5 f2 3a 6b a0 ab 90 f4 ff) name stringlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2040,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2040,logseq____&quot;^Flogseq____&quot;,2051,536870975]],[logseq____&quot;^15logseq____&quot;,[2040,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2040,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2040,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2040,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-ab75-4c08-8c29-d43b65d3256elogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2041,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;1111 0001, 1110 0011, 1100 0010, 1110 0101, 1111 0010, 0011 1010, 0110 1011, 1010 0000, 1010 1011, 1001 0000, 1111 0100, 1111 1111logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2041,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2041,logseq____&quot;^Flogseq____&quot;,2066,536870975]],[logseq____&quot;^15logseq____&quot;,[2041,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2041,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2041,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2041,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-2fae-4b5b-ad2a-9cf13c556ad8logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2042,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[table](https://datatracker.ietf.org/doc/html/rfc7541#appendix-B)logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2042,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2042,logseq____&quot;^Flogseq____&quot;,2074,536870975]],[logseq____&quot;^15logseq____&quot;,[2042,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2042,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2042,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2042,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c1b0-40cd-90c3-f776cd6716f3logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2043,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`www.example.com`: `108cf1e3c2e5f23a6ba0ab90f4ff00`logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2043,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2043,logseq____&quot;^Flogseq____&quot;,2045,536870975]],[logseq____&quot;^15logseq____&quot;,[2043,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2043,logseq____&quot;^Vlogseq____&quot;,1557,536870975]],[logseq____&quot;^15logseq____&quot;,[2043,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2043,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-f327-40ad-a414-c048d4145fb5logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2044,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Literal Header Field Never Indexedlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2044,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2044,logseq____&quot;^Flogseq____&quot;,2049,536870975]],[logseq____&quot;^15logseq____&quot;,[2044,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2044,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2044,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2044,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870975]],[logseq____&quot;^15logseq____&quot;,[2044,logseq____&quot;^Jlogseq____&quot;,[],536870975]],[logseq____&quot;^15logseq____&quot;,[2044,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-4f63-4957-b4e1-276e73044283logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2045,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;header field is sensitive (never index):logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2045,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2045,logseq____&quot;^Flogseq____&quot;,2054,536870975]],[logseq____&quot;^15logseq____&quot;,[2045,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2045,logseq____&quot;^Vlogseq____&quot;,1557,536870975]],[logseq____&quot;^15logseq____&quot;,[2045,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2045,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7ecf-44a7-97f3-a2ca6cb41d36logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2046,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2046,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2046,logseq____&quot;^Flogseq____&quot;,2079,536870975]],[logseq____&quot;^15logseq____&quot;,[2046,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2046,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2046,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2046,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8a4e-469f-bf48-ea667878265clogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2047,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`0100 1101, 1000 0011, 0010 0001, 0110 1011, 0001 1101, 1000 0101, 1010 1001, 0011 1111`logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2047,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2047,logseq____&quot;^Flogseq____&quot;,2039,536870975]],[logseq____&quot;^15logseq____&quot;,[2047,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2047,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2047,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2047,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b42c-45c3-b073-e7f84a193fbflogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2048,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nA string literal representation contains the following fields:\\n- H: A one-bit flag, H, indicating whether or not the octets of the\\n    string are Huffman encoded.\\n- String Length:  The number of octets used to encode the string\\n    literal, encoded as an integer with a 7-bit prefix\\n- String Data:  The encoded data of the string literal.  If H is logseq____&apos;0logseq____&apos;,\\n    then the encoded data is the raw octets of the string literal.  If\\n    H is logseq____&apos;1logseq____&apos;, then the encoded data is the Huffman encoding of the\\n    string literal.\\n```logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2048,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2048,logseq____&quot;^Flogseq____&quot;,2036,536870975]],[logseq____&quot;^15logseq____&quot;,[2048,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2048,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2048,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2048,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b178-4cd5-8d1e-19c200f4cfe4logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2049,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b(0000 0000) =logseq____&gt; (0x00)logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2049,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2049,logseq____&quot;^Flogseq____&quot;,2078,536870975]],[logseq____&quot;^15logseq____&quot;,[2049,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2049,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2049,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2049,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-68f0-447a-8921-aaf00a3d6090logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2050,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n     0   1   2   3   4   5   6   7\\n   +---+---+---+---+---+---+---+---+\\n   | 0 | 0 | 0 | 1 |       0       |\\n   +---+---+-----------------------+\\n   | H |     Name Length (7+)      |\\n   +---+---------------------------+\\n   |  Name String (Length octets)  |\\n   +---+---------------------------+\\n   | H |     Value Length (7+)     |\\n   +---+---------------------------+\\n   | Value String (Length octets)  |\\n   +-------------------------------+\\n\\n         Figure 11: Literal Header Field Never Indexed -- New Name\\n```logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2050,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2050,logseq____&quot;^Flogseq____&quot;,2044,536870975]],[logseq____&quot;^15logseq____&quot;,[2050,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2050,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2050,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2050,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-91d6-427d-bcb2-d2c0438112cdlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2051,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b10001010 =logseq____&gt; 0x8c Huffman encoding + name lengthlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2051,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2051,logseq____&quot;^Flogseq____&quot;,2062,536870975]],[logseq____&quot;^15logseq____&quot;,[2051,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2051,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2051,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2051,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8f8b-462b-ad7f-54904dcec189logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2052,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n0   1   2   3   4   5   6   7\\n +---+---+---+---+---+---+---+---+\\n | H |    String Length (7+)     |\\n +---+---------------------------+\\n |  String Data (Length octets)  |\\n +-------------------------------+\\n- Figure 4: String Literal Representation\\n```logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2052,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2052,logseq____&quot;^Flogseq____&quot;,2082,536870975]],[logseq____&quot;^15logseq____&quot;,[2052,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2052,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2052,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2052,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-433d-43a1-9a9a-9e4cf1b4a507logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2053,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2053,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2053,logseq____&quot;^Flogseq____&quot;,2063,536870975]],[logseq____&quot;^15logseq____&quot;,[2053,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2053,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2053,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2053,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c724-438e-ba15-fa396130a1adlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2054,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// encodeTypeByte returns type byte. If sensitive is true, type byte\\n// for \\logseq____&quot;Never Indexed\\logseq____&quot; representation is returned. If sensitive is\\n// false and indexing is true, type byte for \\logseq____&quot;Incremental Indexing\\logseq____&quot;\\n// representation is returned. Otherwise, type byte for \\logseq____&quot;Without\\n// Indexing\\logseq____&quot; is returned.\\nfunc encodeTypeByte(indexing, sensitive bool) byte {\\n\\tif sensitive {\\n\\t\\treturn 0x10\\n\\t}\\n\\tif indexing {\\n\\t\\treturn 0x40\\n\\t}\\n\\treturn 0\\n}\\n```logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2054,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2054,logseq____&quot;^Flogseq____&quot;,2067,536870975]],[logseq____&quot;^15logseq____&quot;,[2054,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2054,logseq____&quot;^Vlogseq____&quot;,1557,536870975]],[logseq____&quot;^15logseq____&quot;,[2054,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2054,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8e45-4a3c-9c36-02157541d357logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2055,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Literal Header Field with Incremental Indexinglogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2055,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2055,logseq____&quot;^Flogseq____&quot;,2048,536870975]],[logseq____&quot;^15logseq____&quot;,[2055,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2055,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2055,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2055,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870975]],[logseq____&quot;^15logseq____&quot;,[2055,logseq____&quot;^Jlogseq____&quot;,[],536870975]],[logseq____&quot;^15logseq____&quot;,[2055,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-fbd2-4915-9f87-4db8bdee3237logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2056,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`traceparent` example\\nid:: 6642508b-09e2-4aee-b7a1-55a28a2b7631logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2056,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2056,logseq____&quot;^Flogseq____&quot;,2042,536870975]],[logseq____&quot;^15logseq____&quot;,[2056,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2056,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2056,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2056,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6642508b-09e2-4aee-b7a1-55a28a2b7631logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[2056,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[2056,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6642508b-09e2-4aee-b7a1-55a28a2b7631logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[2056,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u6642508b-09e2-4aee-b7a1-55a28a2b7631logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2057,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;2nd 8-logseq____&gt; Number of octets to represent encoding `traceparent`logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2057,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2057,logseq____&quot;^Flogseq____&quot;,2061,536870975]],[logseq____&quot;^15logseq____&quot;,[2057,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2057,logseq____&quot;^Vlogseq____&quot;,2084,536870975]],[logseq____&quot;^15logseq____&quot;,[2057,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2057,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-7ac5-45c0-8802-c39e40ce06e8logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2058,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;1st c -logseq____&gt;Number of octets to represent encoding `www.example.com`logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2058,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2058,logseq____&quot;^Flogseq____&quot;,2068,536870975]],[logseq____&quot;^15logseq____&quot;,[2058,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2058,logseq____&quot;^Vlogseq____&quot;,2069,536870975]],[logseq____&quot;^15logseq____&quot;,[2058,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2058,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-4a83-4de1-bba3-e45b4ea4cfcdlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2059,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`traceparent`: `10884d83216b1d85a93f00`logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2059,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2059,logseq____&quot;^Flogseq____&quot;,2043,536870975]],[logseq____&quot;^15logseq____&quot;,[2059,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2059,logseq____&quot;^Vlogseq____&quot;,1557,536870975]],[logseq____&quot;^15logseq____&quot;,[2059,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2059,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-4fc7-41c7-be45-dde2b4bf5406logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2060,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n     0   1   2   3   4   5   6   7\\n   +---+---+---+---+---+---+---+---+\\n   | 0 | 1 |           0           |\\n   +---+---+-----------------------+\\n   | H |     Name Length (7+)      |\\n   +---+---------------------------+\\n   |  Name String (Length octets)  |\\n   +---+---------------------------+\\n   | H |     Value Length (7+)     |\\n   +---+---------------------------+\\n   | Value String (Length octets)  |\\n   +-------------------------------+\\n\\n   Figure 7: Literal Header Field with Incremental Indexing -- New Name\\n```logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2060,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2060,logseq____&quot;^Flogseq____&quot;,2055,536870975]],[logseq____&quot;^15logseq____&quot;,[2060,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2060,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2060,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2060,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-eff3-4a9f-b164-4d40dda4c0cclogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2061,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;1st 8 -logseq____&gt; 1000: Enable Huffman Encodinglogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2061,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2061,logseq____&quot;^Flogseq____&quot;,2084,536870975]],[logseq____&quot;^15logseq____&quot;,[2061,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2061,logseq____&quot;^Vlogseq____&quot;,2084,536870975]],[logseq____&quot;^15logseq____&quot;,[2061,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2061,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-d6c4-4371-b753-f48b421ac4e9logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2062,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b(0001 0000) =logseq____&gt; 0x10logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2062,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2062,logseq____&quot;^Flogseq____&quot;,2077,536870975]],[logseq____&quot;^15logseq____&quot;,[2062,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2062,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2062,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2062,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-69ea-4737-8b5b-e5388725a38alogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2063,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;pad the rest of bits to 1logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2063,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2063,logseq____&quot;^Flogseq____&quot;,2084,536870975]],[logseq____&quot;^15logseq____&quot;,[2063,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2063,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2063,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2063,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c4d3-4d01-b4b3-a76656d4740flogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0x(8c f1 e3 c2 e5 f2 3a 6b a0 ab 90 f4 ff)logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^Flogseq____&quot;,2046,536870975]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-8818-457a-8626-840e502389dalogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2065,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`www.example.com`: `408cf1e3c2e5f23a6ba0ab90f4ff00`logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2065,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2065,logseq____&quot;^Flogseq____&quot;,2075,536870975]],[logseq____&quot;^15logseq____&quot;,[2065,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2065,logseq____&quot;^Vlogseq____&quot;,1557,536870975]],[logseq____&quot;^15logseq____&quot;,[2065,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2065,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-ad44-4867-a38b-8530b5aeea5flogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2066,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`1111000` + `1111000` + `1111000` + `010111` + `00101` + `1111001` + `00011` + `101001` + `101011` + `101000` + `00101` + `010111` + `00100` + `00111` + `101001`logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2066,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2066,logseq____&quot;^Flogseq____&quot;,2072,536870975]],[logseq____&quot;^15logseq____&quot;,[2066,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2066,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2066,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2066,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-3bae-4c2b-b728-25c404ba05eblogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[encode.go - Go (opensource.google)](https://cs.opensource.google/go/x/net/+/refs/tags/v0.29.0:http2/hpack/encode.go;l=232)logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^Flogseq____&quot;,2033,536870975]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^Vlogseq____&quot;,1557,536870975]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c71a-481f-b8dd-6e068f81ae1elogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2068,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;1st 8 -logseq____&gt; 1000: Enable Huffman Encodinglogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2068,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2068,logseq____&quot;^Flogseq____&quot;,2069,536870975]],[logseq____&quot;^15logseq____&quot;,[2068,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2068,logseq____&quot;^Vlogseq____&quot;,2069,536870975]],[logseq____&quot;^15logseq____&quot;,[2068,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2068,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-50c7-4b00-a6ee-e50e504ca524logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2069,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b10001010 =logseq____&gt; 0x8clogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2069,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2069,logseq____&quot;^Flogseq____&quot;,2064,536870975]],[logseq____&quot;^15logseq____&quot;,[2069,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2069,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2069,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2069,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a627-4b6a-a36f-108f033e85b7logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2070,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2070,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2070,logseq____&quot;^Flogseq____&quot;,2076,536870975]],[logseq____&quot;^15logseq____&quot;,[2070,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2070,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2070,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2070,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-a18e-4bc6-9369-85762f2aceb7logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2071,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;4D 83 21 6B 1D 85 A9 3Flogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2071,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2071,logseq____&quot;^Flogseq____&quot;,2047,536870975]],[logseq____&quot;^15logseq____&quot;,[2071,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2071,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2071,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2071,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-f6e2-4fa9-a6f9-16a437ccb0eelogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`www.example.com` examplelogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^Flogseq____&quot;,2053,536870975]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-1597-40d3-a2e7-08becbac01b6logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870975]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^Flogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^:logseq____&quot;,true,536870975]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870975]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-23b1-4590-a0d4-f4ddc8e9f71elogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Huffman Encodinglogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^Flogseq____&quot;,2035,536870975]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870975]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^Jlogseq____&quot;,[],536870975]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-c33c-4684-a60f-5f499be71d40logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;header field is not sensitive (incremental index):logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^Flogseq____&quot;,2059,536870975]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^Vlogseq____&quot;,1557,536870975]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-9983-4b28-9c7f-01cab29aaf83logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2076,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;pad the rest of bits to 1logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2076,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2076,logseq____&quot;^Flogseq____&quot;,2069,536870975]],[logseq____&quot;^15logseq____&quot;,[2076,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2076,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2076,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2076,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-358e-486c-9fe9-26726f2674aelogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2077,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;New name for `www.example.com` =logseq____&gt;logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2077,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2077,logseq____&quot;^Flogseq____&quot;,2050,536870975]],[logseq____&quot;^15logseq____&quot;,[2077,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2077,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2077,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2077,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-3ebb-46a8-a052-370f1b0aa2f2logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0x(f1 e3 c2 e5 f2 3a 6b a0 ab 90 f4 ff) name stringlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^Flogseq____&quot;,2085,536870975]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-43d9-4236-bac6-63fe40889847logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2079,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;f1e3 c2e5 f23a 6ba0 ab90 f4fflogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2079,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2079,logseq____&quot;^Flogseq____&quot;,2041,536870975]],[logseq____&quot;^15logseq____&quot;,[2079,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2079,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2079,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2079,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-e860-4c66-9740-01368eb274c9logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`traceparent`: `40884d83216b1d85a93f00`logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^Flogseq____&quot;,2065,536870975]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^Vlogseq____&quot;,1557,536870975]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-b2ad-473f-aff2-5a0a8e405463logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2081,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;New name for `www.example.com` =logseq____&gt;logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2081,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2081,logseq____&quot;^Flogseq____&quot;,2060,536870975]],[logseq____&quot;^15logseq____&quot;,[2081,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2081,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2081,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2081,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-ee5d-4393-9fe2-01da072b2668logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## String literal encodinglogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^Flogseq____&quot;,2034,536870975]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870975]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^Jlogseq____&quot;,[],536870975]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-0f73-435f-840d-eeb243fdc42dlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2083,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0x(88 4D 83 21 6B 1D 85 A9 3F)logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2083,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2083,logseq____&quot;^Flogseq____&quot;,2038,536870975]],[logseq____&quot;^15logseq____&quot;,[2083,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2083,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2083,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2083,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-6f39-4001-88d6-5750bbe41aadlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2084,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b10001000 =logseq____&gt; 0x88logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2084,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2084,logseq____&quot;^Flogseq____&quot;,2083,536870975]],[logseq____&quot;^15logseq____&quot;,[2084,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2084,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2084,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2084,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-0d7d-4ec3-92bc-e765c3b4f0a9logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2085,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b(10001010) =logseq____&gt; 0x8c Huffman encoding + name lengthlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2085,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2085,logseq____&quot;^Flogseq____&quot;,2037,536870975]],[logseq____&quot;^15logseq____&quot;,[2085,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2085,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2085,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2085,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6139-33db-4a7b-96fb-3198f108278alogseq____&quot;,536870975]]]]]]"</script>
 <script>window.logseq_state="{:ui/theme \"light\", :ui/radix-color :blue, :config {\"local\" {:shortcuts {}, :default-templates {:journals \"\"}, :query/views {:pprint (fn [r] [:pre.code (pprint r)])}, :macros {}, :shortcut/doc-mode-enter-for-new-block? false, :favorites [], :ui/show-empty-bullets? false, :file/name-format :triple-lowbar, :preferred-workflow :now, :ref/default-open-blocks-level 2, :feature/enable-block-timestamps? false, :start-of-week 6, :ref/linked-references-collapsed-threshold 50, :outliner/block-title-collapse-enabled? false, :commands [], :ui/show-full-blocks? false, :meta/version 1, :hidden [], :default-queries {:journals [{:title \"🔨 NOW\", :query [:find (pull ?h [*]) :in $ ?start ?today :where [?h :block/marker ?marker] [(contains? #{\"NOW\" \"DOING\"} ?marker)] [?h :block/page ?p] [?p :block/journal? true] [?p :block/journal-day ?d] [(>= ?d ?start)] [(<= ?d ?today)]], :inputs [:14d :today], :result-transform (fn [result] (sort-by (fn [h] (get h :block/priority \"Z\")) result)), :group-by-page? false, :collapsed? false} {:title \"📅 NEXT\", :query [:find (pull ?h [*]) :in $ ?start ?next :where [?h :block/marker ?marker] [(contains? #{\"NOW\" \"LATER\" \"TODO\"} ?marker)] [?h :block/page ?p] [?p :block/journal? true] [?p :block/journal-day ?d] [(> ?d ?start)] [(< ?d ?next)]], :inputs [:today :7d-after], :group-by-page? false, :collapsed? false}]}, :ui/auto-expand-block-refs? true, :ui/enable-tooltip? true, :query/result-transforms {:sort-by-priority (fn [result] (sort-by (fn [h] (get h :block/priority \"Z\")) result))}, :property-pages/enabled? true, :block/content-max-length 10000, :ui/show-command-doc? true, :feature/enable-search-remove-accents? true}}}"</script>
 <script type="text/javascript">// Single Page Apps for GitHub Pages
      // https://github.com/rafgraph/spa-github-pages
      // Copyright (c) 2016 Rafael Pedicini, licensed under the MIT License
      // ----------------------------------------------------------------------
      // This script checks to see if a redirect is present in the query string
      // and converts it back into the correct url and adds it to the
      // browser's history using window.history.replaceState(...),
      // which won't cause the browser to attempt to load the new url.
      // When the single page app is loaded further down in this file,
      // the correct url will be waiting in the browser's history for
      // the single page app to route accordingly.
      (function(l) {
        if (l.search) {
          var q = {};
          l.search.slice(1).split('&').forEach(function(v) {
            var a = v.split('=');
            q[a[0]] = a.slice(1).join('=').replace(/~and~/g, '&');
          });
          if (q.p !== undefined) {
            window.history.replaceState(null, null,
              l.pathname.slice(0, -1) + (q.p || '') +
              (q.q ? ('?' + q.q) : '') +
              l.hash
            );
          }
        }
      }(window.location))</script>
 <script src="static/js/react.production.min.js"></script>
 <script src="static/js/react-dom.production.min.js"></script>
 <script src="static/js/ui.js"></script>
 <script src="static/js/main.js"></script>
 <script src="static/js/interact.min.js"></script>
 <script src="static/js/highlight.min.js"></script>
 <script src="static/js/katex.min.js"></script>
 <script src="static/js/html2canvas.min.js"></script>
 <script src="static/js/code-editor.js"></script>
 <script src="static/js/custom.js"></script>
</body>

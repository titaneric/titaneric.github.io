<!DOCTYPE html>
<head><meta charset="utf-8"></meta>
 <meta content="minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no" name="viewport"></meta>
 <link type="text/css" href="static/css/tabler-icons.min.css" rel="stylesheet"></link>
 <link type="text/css" href="static/css/style.css" rel="stylesheet"></link>
 <link type="text/css" href="static/css/custom.css" rel="stylesheet"></link>
 <link type="text/css" href="static/css/export.css" rel="stylesheet"></link>
 <link href="static/img/logo.png" type="image/png" rel="shortcut icon"></link>
 <link href="static/img/logo.png" sizes="192x192" rel="shortcut icon"></link>
 <link href="static/img/logo.png" rel="apple-touch-icon"></link>
 <meta name="apple-mobile-web-app-title"></meta>
 <meta name="apple-mobile-web-app-capable" content="yes"></meta>
 <meta name="apple-touch-fullscreen" content="yes"></meta>
 <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"></meta>
 <meta name="mobile-web-app-capable" content="yes"></meta>
 <meta property="og:title"></meta>
 <meta content="site" property="og:type"></meta>
  <meta content="static/img/logo.png" property="og:image"></meta>
 <meta property="og:description"></meta>
 <title></title>
 <meta property="og:site_name"></meta>
 <meta></meta>
</head>
 <body><div id="root"></div>
 <script>window.logseq_db="[logseq____&quot;~#datascript/DBlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:schemalogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:ast/versionlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:file/contentlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/properties-text-valueslogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/aliaslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:db/valueTypelogseq____&quot;,logseq____&quot;~:db.type/reflogseq____&quot;,logseq____&quot;~:db/cardinalitylogseq____&quot;,logseq____&quot;~:db.cardinality/manylogseq____&quot;],logseq____&quot;~:block/pre-block?logseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/uuidlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:db/uniquelogseq____&quot;,logseq____&quot;~:db.unique/identitylogseq____&quot;],logseq____&quot;~:block/prioritylogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/propertieslogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/journal?logseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/namespacelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;],logseq____&quot;~:block/updated-atlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/repeated?logseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:db/typelogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:file/handlelogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/leftlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;~:db/indexlogseq____&quot;,true],logseq____&quot;~:block/refslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^8logseq____&quot;,logseq____&quot;^9logseq____&quot;],logseq____&quot;~:block/scheduledlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/properties-orderlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/created-atlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/deadlinelogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/collapsed?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^Glogseq____&quot;,true],logseq____&quot;~:block/journal-daylogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/formatlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/tagslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^8logseq____&quot;,logseq____&quot;^9logseq____&quot;],logseq____&quot;~:block/contentlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:recent/pageslogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/macroslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^8logseq____&quot;,logseq____&quot;^9logseq____&quot;],logseq____&quot;~:db/identlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^logseq____&lt;logseq____&quot;,logseq____&quot;^=logseq____&quot;],logseq____&quot;~:block/path-refslogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^8logseq____&quot;,logseq____&quot;^9logseq____&quot;],logseq____&quot;~:block/parentlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^Glogseq____&quot;,true],logseq____&quot;~:block/typelogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/pagelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;,logseq____&quot;^Glogseq____&quot;,true],logseq____&quot;~:block/namelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^logseq____&lt;logseq____&quot;,logseq____&quot;^=logseq____&quot;],logseq____&quot;~:file/pathlogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^logseq____&lt;logseq____&quot;,logseq____&quot;^=logseq____&quot;],logseq____&quot;~:block/filelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^6logseq____&quot;,logseq____&quot;^7logseq____&quot;],logseq____&quot;~:block/markerlogseq____&quot;,[logseq____&quot;^ logseq____&quot;],logseq____&quot;~:block/original-namelogseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^logseq____&lt;logseq____&quot;,logseq____&quot;^=logseq____&quot;],logseq____&quot;~:schema/versionlogseq____&quot;,[logseq____&quot;^ logseq____&quot;]],logseq____&quot;~:datomslogseq____&quot;,[logseq____&quot;~#listlogseq____&quot;,[[logseq____&quot;~#datascript/Datomlogseq____&quot;,[1,logseq____&quot;^12logseq____&quot;,2,536870913]],[logseq____&quot;^15logseq____&quot;,[240,logseq____&quot;^Klogseq____&quot;,1753899392152,536870921]],[logseq____&quot;^15logseq____&quot;,[240,logseq____&quot;^@logseq____&quot;,false,536870921]],[logseq____&quot;^15logseq____&quot;,[240,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;grafana/lokilogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[240,logseq____&quot;^Alogseq____&quot;,241,536870921]],[logseq____&quot;^15logseq____&quot;,[240,logseq____&quot;^11logseq____&quot;,logseq____&quot;Grafana/Lokilogseq____&quot;,536870921]],[logseq____&quot;^15logseq____&quot;,[240,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:publiclogseq____&quot;,true],536870972]],[logseq____&quot;^15logseq____&quot;,[240,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870972]],[logseq____&quot;^15logseq____&quot;,[240,logseq____&quot;^Blogseq____&quot;,1753899392152,536870921]],[logseq____&quot;^15logseq____&quot;,[240,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0930-469e-8780-65693b99ed12logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1355,logseq____&quot;^Tlogseq____&quot;,logseq____&quot;query (namespace [[Beyla]] )logseq____&quot;,536870956]],[logseq____&quot;^15logseq____&quot;,[1356,logseq____&quot;^Tlogseq____&quot;,logseq____&quot;query (namespace [[Career]] )logseq____&quot;,536870956]],[logseq____&quot;^15logseq____&quot;,[1357,logseq____&quot;^Tlogseq____&quot;,logseq____&quot;query (namespace [[Go]] )logseq____&quot;,536870956]],[logseq____&quot;^15logseq____&quot;,[1359,logseq____&quot;^Klogseq____&quot;,1753899393918,536870957]],[logseq____&quot;^15logseq____&quot;,[1359,logseq____&quot;^Ologseq____&quot;,logseq____&quot;~:markdownlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1359,logseq____&quot;^@logseq____&quot;,false,536870957]],[logseq____&quot;^15logseq____&quot;,[1359,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beylalogseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1359,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beylalogseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1359,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870957]],[logseq____&quot;^15logseq____&quot;,[1359,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870957]],[logseq____&quot;^15logseq____&quot;,[1359,logseq____&quot;^Blogseq____&quot;,1753899393918,536870957]],[logseq____&quot;^15logseq____&quot;,[1359,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0d23-45e5-a1b6-5972bef1a2f7logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;~:block/invalid-propertieslogseq____&quot;,[logseq____&quot;~#setlogseq____&quot;,[]],536870957]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;^Flogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;^Xlogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;^Vlogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;^Ulogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;^:logseq____&quot;,true,536870957]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870957]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870957]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870957]],[logseq____&quot;^15logseq____&quot;,[1360,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-1c78-481b-b7b1-919aa6a85d87logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1361,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Referencelogseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1361,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1361,logseq____&quot;^Flogseq____&quot;,1360,536870957]],[logseq____&quot;^15logseq____&quot;,[1361,logseq____&quot;^Xlogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1361,logseq____&quot;^Vlogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1361,logseq____&quot;^Ulogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1361,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:headinglogseq____&quot;,2],536870957]],[logseq____&quot;^15logseq____&quot;,[1361,logseq____&quot;^Jlogseq____&quot;,[],536870957]],[logseq____&quot;^15logseq____&quot;,[1361,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-fd38-43d6-80b7-a964afbb0991logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1362,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;{{query (namespace [[Go]] )}}logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1362,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1362,logseq____&quot;^Flogseq____&quot;,1361,536870957]],[logseq____&quot;^15logseq____&quot;,[1362,logseq____&quot;^Slogseq____&quot;,1357,536870957]],[logseq____&quot;^15logseq____&quot;,[1362,logseq____&quot;^Xlogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1362,logseq____&quot;^Vlogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1362,logseq____&quot;^Ulogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1362,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-cd3e-426c-a468-212e8858528alogseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1363,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;{{query (namespace [[http2]] )}}logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1363,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1363,logseq____&quot;^Flogseq____&quot;,1362,536870957]],[logseq____&quot;^15logseq____&quot;,[1363,logseq____&quot;^Slogseq____&quot;,1365,536870957]],[logseq____&quot;^15logseq____&quot;,[1363,logseq____&quot;^Xlogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1363,logseq____&quot;^Vlogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1363,logseq____&quot;^Ulogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1363,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-71d7-4c93-b26d-837f48d8f8delogseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1364,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1364,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1364,logseq____&quot;^Flogseq____&quot;,1363,536870957]],[logseq____&quot;^15logseq____&quot;,[1364,logseq____&quot;^Xlogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1364,logseq____&quot;^Vlogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1364,logseq____&quot;^Ulogseq____&quot;,1359,536870957]],[logseq____&quot;^15logseq____&quot;,[1364,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-fb95-4dd4-9d7f-66d059a88dc2logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1365,logseq____&quot;^Tlogseq____&quot;,logseq____&quot;query (namespace [[http2]] )logseq____&quot;,536870957]],[logseq____&quot;^15logseq____&quot;,[1367,logseq____&quot;^Klogseq____&quot;,1753899394007,536870958]],[logseq____&quot;^15logseq____&quot;,[1367,logseq____&quot;^@logseq____&quot;,false,536870958]],[logseq____&quot;^15logseq____&quot;,[1367,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/elflogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1367,logseq____&quot;^Alogseq____&quot;,1359,536870958]],[logseq____&quot;^15logseq____&quot;,[1367,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/ELFlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1367,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870958]],[logseq____&quot;^15logseq____&quot;,[1367,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1367,logseq____&quot;^Blogseq____&quot;,1753899394007,536870958]],[logseq____&quot;^15logseq____&quot;,[1367,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f83e-44ef-819c-0ad0c0572b0blogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1368,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### structMemberOffsetsFromDwarf\\nid:: 662e8b82-7db2-4753-b84c-8bdde48f5eb2logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1368,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1368,logseq____&quot;^Flogseq____&quot;,1397,536870958]],[logseq____&quot;^15logseq____&quot;,[1368,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1368,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1368,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1368,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:idlogseq____&quot;,logseq____&quot;662e8b82-7db2-4753-b84c-8bdde48f5eb2logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870958]],[logseq____&quot;^15logseq____&quot;,[1368,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1368,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;662e8b82-7db2-4753-b84c-8bdde48f5eb2logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1368,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u662e8b82-7db2-4753-b84c-8bdde48f5eb2logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1369,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### findGoSymbolTable\\nid:: 66362a69-0c2d-4c47-9945-43c5f2233c72logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1369,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1369,logseq____&quot;^Flogseq____&quot;,1411,536870958]],[logseq____&quot;^15logseq____&quot;,[1369,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1369,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1369,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1369,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66362a69-0c2d-4c47-9945-43c5f2233c72logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870958]],[logseq____&quot;^15logseq____&quot;,[1369,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1369,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66362a69-0c2d-4c47-9945-43c5f2233c72logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1369,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66362a69-0c2d-4c47-9945-43c5f2233c72logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1370,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nThere are 36 section headers, starting at offset 0x238:\\n\\nSection Headers:\\n  [Nr] Name              Type             Address           Offset\\n       Size              EntSize          Flags  Link  Info  Align\\n  [ 0]                   NULL             0000000000000000  00000000\\n       0000000000000000  0000000000000000           0     0     0\\n  [ 1] .text             PROGBITS         0000000000401000  00001000\\n       000000000025e8f6  0000000000000000  AX       0     0     32\\n  [ 2] .plt              PROGBITS         000000000065f900  0025f900\\n       0000000000000260  0000000000000010  AX       0     0     16\\n  [ 3] .rodata           PROGBITS         0000000000660000  00260000\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1370,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1370,logseq____&quot;^Flogseq____&quot;,1409,536870958]],[logseq____&quot;^15logseq____&quot;,[1370,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1370,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1370,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1370,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-dae7-44cd-a4fe-742a24fe4282logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1371,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;對照[`prog.Vaddr`, `prog.Vaddr+prog.Memsz`]，這個section在vaddr的範圍是[0x400000,0x65fb60]。因為`.text` section 落在編號3 segment，所以全部的symbol都會在編號3 segment中。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1371,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1371,logseq____&quot;^Flogseq____&quot;,1376,536870958]],[logseq____&quot;^15logseq____&quot;,[1371,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1371,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1371,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1371,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-ff0e-44e1-8cf6-c042c3d785a5logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1372,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;可以看到URL的offset為16，跟`TestGoOffsetsFromDwarf`預期中的一樣。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1372,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1372,logseq____&quot;^Flogseq____&quot;,1410,536870958]],[logseq____&quot;^15logseq____&quot;,[1372,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1372,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1372,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1372,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-8630-4fc1-b7ba-4cb6c020f3fflogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1373,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`findReturnOffssets` function會在給定的data中，找尋那些instruction是`RET`的位址logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1373,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1373,logseq____&quot;^Flogseq____&quot;,1384,536870958]],[logseq____&quot;^15logseq____&quot;,[1373,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1373,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1373,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1373,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-1408-4448-9dc6-6e4d4e25ba4clogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1374,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### InspectOffsetslogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1374,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1374,logseq____&quot;^Flogseq____&quot;,1408,536870958]],[logseq____&quot;^15logseq____&quot;,[1374,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1374,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1374,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1374,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870958]],[logseq____&quot;^15logseq____&quot;,[1374,logseq____&quot;^Jlogseq____&quot;,[],536870958]],[logseq____&quot;^15logseq____&quot;,[1374,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-db00-4ddd-a6a1-3fb35fa45135logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1375,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;可以看到有9個segment，section與segment的mapping關係被描述在下方。如編號3的segment，就包含`.text`,`.plt`,`interp`,`note.go.buildid`sections。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1375,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1375,logseq____&quot;^Flogseq____&quot;,1395,536870958]],[logseq____&quot;^15logseq____&quot;,[1375,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1375,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1375,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1375,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-86db-4169-a267-37b553f82cd3logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1376,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n  LOAD           0x0000000000000000 0x0000000000400000 0x0000000000400000\\n                 0x000000000025fb60 0x000000000025fb60  R E    0x1000\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1376,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1376,logseq____&quot;^Flogseq____&quot;,1440,536870958]],[logseq____&quot;^15logseq____&quot;,[1376,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1376,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1376,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1376,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-46dd-44c6-ba67-b5fa2ff28d12logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1377,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;類似輸出logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1377,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1377,logseq____&quot;^Flogseq____&quot;,1386,536870958]],[logseq____&quot;^15logseq____&quot;,[1377,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1377,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1377,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1377,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-2819-4863-889a-abeae63ba8adlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1378,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# struct member offset\\nid:: 66313365-7bb8-4b8d-9264-1761f7c4181elogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1378,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1378,logseq____&quot;^Flogseq____&quot;,1423,536870958]],[logseq____&quot;^15logseq____&quot;,[1378,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1378,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1378,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1378,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313365-7bb8-4b8d-9264-1761f7c4181elogseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870958]],[logseq____&quot;^15logseq____&quot;,[1378,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1378,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313365-7bb8-4b8d-9264-1761f7c4181elogseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1378,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66313365-7bb8-4b8d-9264-1761f7c4181elogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1379,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### FindExeSymbols\\nid:: 663636de-6569-44d7-99df-dc7b1a67b96blogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1379,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1379,logseq____&quot;^Flogseq____&quot;,1418,536870958]],[logseq____&quot;^15logseq____&quot;,[1379,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1379,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1379,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1379,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;663636de-6569-44d7-99df-dc7b1a67b96blogseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870958]],[logseq____&quot;^15logseq____&quot;,[1379,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1379,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;663636de-6569-44d7-99df-dc7b1a67b96blogseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1379,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u663636de-6569-44d7-99df-dc7b1a67b96blogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1380,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;golang drawf source: [structure_type](https://github.com/golang/go/blob/fe36ce669c1a452d2b0e81108a7e07674b50692a/src/cmd/internal/dwarf/dwarf.go#L748-L758), [struct member](https://github.com/golang/go/blob/fe36ce669c1a452d2b0e81108a7e07674b50692a/src/cmd/internal/dwarf/dwarf.go#L571-L581)logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1380,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1380,logseq____&quot;^Flogseq____&quot;,1399,536870958]],[logseq____&quot;^15logseq____&quot;,[1380,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1380,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1380,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1380,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-3505-440f-aca8-3fc302e0c54clogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1381,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;註：[這裡](https://stackoverflow.com/questions/40237321/find-functions-start-offset-in-elf)提到使用text section的vaddr及offset，與symbol自己的vaddr，經過類似的計算，能得到symbol在記憶體中的位址。因為text section在某一個segment中，所以text section與segment的差都會是固定的，如編號3 segment的vaddr是0x400000，而`.text` section的vaddr是0x401000，兩者差為0x1000，所以在計算`address = s.Value - prog.Vaddr + prog.Off`時候，一減再一加同一個差，對結果不會有改變。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1381,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1381,logseq____&quot;^Flogseq____&quot;,1441,536870958]],[logseq____&quot;^15logseq____&quot;,[1381,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1381,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1381,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1381,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-accb-40ab-b006-3432be2b283dlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1382,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果ELF沒有debug相關的section (DWARF)，beyla會從預先取得的`prefetchedOffsets`中取得。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1382,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1382,logseq____&quot;^Flogseq____&quot;,1433,536870958]],[logseq____&quot;^15logseq____&quot;,[1382,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1382,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1382,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1382,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-01bd-4083-9d3e-2d707667cf16logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1383,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[A Quick Guide to Gologseq____&apos;s Assembler - The Go Programming Language](https://go.dev/doc/asm#symbols)logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1383,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1383,logseq____&quot;^Flogseq____&quot;,1405,536870958]],[logseq____&quot;^15logseq____&quot;,[1383,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1383,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1383,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1383,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-500a-41b9-a48c-b5339a0b7181logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1384,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### findReturnOffssets\\nid:: 66363677-1e61-445d-b207-8c8ffcd447a8logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1384,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1384,logseq____&quot;^Flogseq____&quot;,1407,536870958]],[logseq____&quot;^15logseq____&quot;,[1384,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1384,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1384,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1384,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363677-1e61-445d-b207-8c8ffcd447a8logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870958]],[logseq____&quot;^15logseq____&quot;,[1384,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1384,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363677-1e61-445d-b207-8c8ffcd447a8logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1384,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66363677-1e61-445d-b207-8c8ffcd447a8logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1385,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;In Go object files and binaries, the full name of a symbol is the package path followed by a period and the symbol name: `fmt.Printf` or `math/rand.Int`.logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1385,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1385,logseq____&quot;^Flogseq____&quot;,1412,536870958]],[logseq____&quot;^15logseq____&quot;,[1385,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1385,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1385,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1385,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-fd36-47f6-ab54-41e0e8a68b88logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1386,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```bash\\nreadelf -x .go.buildinfo pingserver\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1386,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1386,logseq____&quot;^Flogseq____&quot;,1431,536870958]],[logseq____&quot;^15logseq____&quot;,[1386,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1386,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1386,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1386,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-c175-4a73-be4e-7c8d009dd2e9logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1387,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\naddresses[s.Name] = Sym{Off: address, Len: s.Size, Prog: p}\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1387,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1387,logseq____&quot;^Flogseq____&quot;,1432,536870958]],[logseq____&quot;^15logseq____&quot;,[1387,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1387,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1387,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1387,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-164b-41c9-826b-39433c1869c6logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1388,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;可見pclntab是一張記錄program counter及各種function相關的表，不僅是function所在檔名及行數，也可以是stack pointer，可以用來還原panic並顯示完整的stack trace。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1388,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1388,logseq____&quot;^Flogseq____&quot;,1428,536870958]],[logseq____&quot;^15logseq____&quot;,[1388,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1388,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1388,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1388,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-70f9-413b-9fe5-a7041148e174logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1389,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```bash\\ncd test/cmd/pingserver\\ngo build\\nreadelf -w pingserver | grep \\logseq____&quot; net/http.Request\\logseq____&quot; -C 30\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1389,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1389,logseq____&quot;^Flogseq____&quot;,1425,536870958]],[logseq____&quot;^15logseq____&quot;,[1389,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1389,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1389,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1389,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-4d71-44fb-a18a-eef97cab239dlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1390,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### instrumentationPoints\\nid:: 66362f79-8e32-40d1-85e7-a3c1bddb16d1logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1390,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1390,logseq____&quot;^Flogseq____&quot;,1416,536870958]],[logseq____&quot;^15logseq____&quot;,[1390,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1390,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1390,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1390,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66362f79-8e32-40d1-85e7-a3c1bddb16d1logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870958]],[logseq____&quot;^15logseq____&quot;,[1390,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1390,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66362f79-8e32-40d1-85e7-a3c1bddb16d1logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1390,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66362f79-8e32-40d1-85e7-a3c1bddb16d1logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1391,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n\\t\\t// Loop over ELF segments.\\n\\t\\tfor _, prog := range f.Progs {\\n\\t\\t\\t// Skip uninteresting segments.\\n\\t\\t\\tif prog.Type != elf.PT_LOAD || (prog.Flagslogseq____&amp;elf.PF_X) == 0 {\\n\\t\\t\\t\\tcontinue\\n\\t\\t\\t}\\n\\n\\t\\t\\tif prog.Vaddr logseq____&lt;= s.Value logseq____&amp;logseq____&amp; s.Value logseq____&lt; (prog.Vaddr+prog.Memsz) {\\n\\t\\t\\t\\taddress = s.Value - prog.Vaddr + prog.Off\\n\\t\\t\\t\\tp = prog\\n\\t\\t\\t\\tbreak\\n\\t\\t\\t}\\n\\t\\t}\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1391,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1391,logseq____&quot;^Flogseq____&quot;,1406,536870958]],[logseq____&quot;^15logseq____&quot;,[1391,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1391,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1391,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1391,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-475c-45d5-b83c-4c4e214922b2logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;The table is used to map a virtual memory address back to the nearest symbol name to generate stack traces with function and file names. ... For symbol recovery purposes, the pclntab is important because it stores function names, function start and end addresses, file names, and more.logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^Flogseq____&quot;,1434,536870958]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1392,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-b6aa-448b-9abf-62f44333e43alogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[- The Go Programming Language](https://go.dev/src/debug/gosym/symtab.go)logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^Flogseq____&quot;,1419,536870958]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1393,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-c934-4860-8679-e41c06e5aad9logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`structMemberOffsetsFromDwarf`會嘗試在ELF中的`DWARF`中，找到struct member所對應的offset。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^Flogseq____&quot;,1368,536870958]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1394,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-87fa-404c-bc48-92477e1ab76elogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1395,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```bash\\n readelf -l pingserver\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1395,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1395,logseq____&quot;^Flogseq____&quot;,1398,536870958]],[logseq____&quot;^15logseq____&quot;,[1395,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1395,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1395,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1395,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-c524-43de-84aa-07f6856ac029logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1396,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nHex dump of section logseq____&apos;.go.buildinfologseq____&apos;:\\n  0x008d1000 ff20476f 20627569 6c64696e 663a0802 . Go buildinf:..\\n  0x008d1010 00000000 00000000 00000000 00000000 ................\\n  0x008d1020 08676f31 2e32322e 30bd0330 77af0c92 .go1.22.0..0w...\\n  0x008d1030 74080241 e1c107e6 d618e670 61746809 t..A.......path.\\n  0x008d1040 67697468 75622e63 6f6d2f67 72616661 github.com/grafa\\n  0x008d1050 6e612f62 65796c61 2f746573 742f636d na/beyla/test/cm\\n  0x008d1060 642f7069 6e677365 72766572 0a6d6f64 d/pingserver.mod\\n  0x008d1070 09676974 6875622e 636f6d2f 67726166 .github.com/graf\\n  0x008d1080 616e612f 6265796c 61092864 6576656c ana/beyla.(devel\\n  0x008d1090 29090a62 75696c64 092d6275 696c646d )..build.-buildm\\n...\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1396,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1396,logseq____&quot;^Flogseq____&quot;,1377,536870958]],[logseq____&quot;^15logseq____&quot;,[1396,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1396,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1396,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1396,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-7141-4757-a30b-af8fb5c38d15logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`structMemberOffsets` 處理golang中各struct field的offset，並透過linker將offset傳給ebpf使用。`structMembers`預先把可能的library, struct以及filed欄位標記出來。 ((662e8b82-7db2-4753-b84c-8bdde48f5eb2))會先嘗試在ELF檔案中的`Dwarf`尋找對應欄位的offset，如果找不到，則會利用 ((662e8b94-08d7-432f-8b32-606dd4955f6f)) 在預先取得的offet清當中尋找。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^Flogseq____&quot;,1422,536870958]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^Hlogseq____&quot;,1368,536870958]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^Hlogseq____&quot;,1433,536870958]],[logseq____&quot;^15logseq____&quot;,[1397,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-70d7-4fce-9ba1-005d2c8b76c3logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1398,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;取得程式的segment (program header)\\nid:: 66313e73-e4ae-45e3-962e-7a891863f090logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1398,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1398,logseq____&quot;^Flogseq____&quot;,1403,536870958]],[logseq____&quot;^15logseq____&quot;,[1398,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1398,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1398,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1398,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313e73-e4ae-45e3-962e-7a891863f090logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1398,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1398,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313e73-e4ae-45e3-962e-7a891863f090logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1398,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66313e73-e4ae-45e3-962e-7a891863f090logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1399,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`structMemberOffsetsFromDwarf`會先在DWARF欄位中找尋`DW_AT_name`符合`net/http.Request`等struct名稱，且tag是`DW_TAG_structure_type`的entry。從那entry往下會尋找struct中有興趣的欄位，如`net/http.Request`中的`URL`、`Method`等，過程中會過濾只符合`DW_TAG_member`的entry。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1399,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1399,logseq____&quot;^Flogseq____&quot;,1385,536870958]],[logseq____&quot;^15logseq____&quot;,[1399,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1399,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1399,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1399,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-1a15-4f58-b6f3-b96398ed70bdlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```json\\n    \\logseq____&quot;net/http.Request\\logseq____&quot;: {\\n...\\n      \\logseq____&quot;URL\\logseq____&quot;: {\\n        \\logseq____&quot;versions\\logseq____&quot;: {\\n          \\logseq____&quot;oldest\\logseq____&quot;: \\logseq____&quot;1.17.0\\logseq____&quot;,\\n          \\logseq____&quot;newest\\logseq____&quot;: \\logseq____&quot;1.22.2\\logseq____&quot;\\n        },\\n        \\logseq____&quot;offsets\\logseq____&quot;: [\\n          {\\n            \\logseq____&quot;offset\\logseq____&quot;: 16,\\n            \\logseq____&quot;since\\logseq____&quot;: \\logseq____&quot;1.17.0\\logseq____&quot;\\n          }\\n        ]\\n      }\\n    },\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^Flogseq____&quot;,1401,536870958]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1400,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-ae11-47a1-999f-f2057463c142logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;同樣以`net/http.Request`中的URL member為例，在`offset.json`中可以看到`URL`同樣會是預期的16。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^Flogseq____&quot;,1396,536870958]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1401,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-f0cd-4877-bdc5-9ededb1e291elogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n\\tfor _, s := range syms {\\n\\t\\tif elf.ST_TYPE(s.Info) != elf.STT_FUNC {\\n\\t\\t\\t// Symbol not associated with a function or other executable code.\\n\\t\\t\\tcontinue\\n\\t\\t}\\n\\n\\t\\taddress := s.Value\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^Flogseq____&quot;,1370,536870958]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1402,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-23d7-40bc-a59d-106769ff3ba1logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n  4165: 0000000000578d60   124 FUNC    GLOBAL DEFAULT    1 net.Listen\\n  4166: 0000000000578de0   236 FUNC    GLOBAL DEFAULT    1 net.isDomainName\\n  4167: 0000000000578ee0   946 FUNC    GLOBAL DEFAULT    1 net.newRequest\\n  4168: 00000000005792a0   357 FUNC    GLOBAL DEFAULT    1 net.checkResponse\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^Flogseq____&quot;,1436,536870958]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1403,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-f2cc-4eda-a917-2950c7757a53logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;取得 `.symtab` 及 `.dynsym`\\nid:: 66313f65-4e1c-4cd0-b665-9ddddea8a66blogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^Flogseq____&quot;,1402,536870958]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313f65-4e1c-4cd0-b665-9ddddea8a66blogseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313f65-4e1c-4cd0-b665-9ddddea8a66blogseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1404,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66313f65-4e1c-4cd0-b665-9ddddea8a66blogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1405,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[Chapter I: Go Assembly | Go Internals (gitbook.io)](https://cmc.gitbook.io/go-internals/chapter-i-go-assembly)logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1405,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1405,logseq____&quot;^Flogseq____&quot;,1393,536870958]],[logseq____&quot;^15logseq____&quot;,[1405,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1405,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1405,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1405,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-8f51-40af-92d1-46e36bf8a897logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`FindExeSymbols`列舉出全部的`symbols`以及 `dymsym`(參考 ((66313f65-4e1c-4cd0-b665-9ddddea8a66b)) )，並找尋symbol的address(`S.Value`)落在[`prog.Vaddr`, `prog.Vaddr+prog.Memsz`]的program header (參考 ((66313e73-e4ae-45e3-962e-7a891863f090)))。`s.Value-prog.Vaddr`將會是function在記憶體中，相較於segment的值，再加上segment本身的偏差`prog.Off`，即是function在記憶體中的位址`address`。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^Flogseq____&quot;,1379,536870958]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^Hlogseq____&quot;,1398,536870958]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^Hlogseq____&quot;,1404,536870958]],[logseq____&quot;^15logseq____&quot;,[1406,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-3355-42f8-a1f1-6c5574ec7fb3logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1407,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n\\n\\t\\t\\tfuncLen := f.End - f.Entry\\n\\t\\t\\tdata := make([]byte, funcLen)\\n\\t\\t\\t_, err := prog.ReadAt(data, int64(f.Value-prog.Vaddr))\\n\\t\\t\\tif err != nil {\\n\\t\\t\\t\\treturn FuncOffsets{}, false, fmt.Errorf(\\logseq____&quot;finding function return: %w\\logseq____&quot;, err)\\n\\t\\t\\t}\\n\\n\\t\\t\\treturns, err := findReturnOffssets(off, data)\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1407,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1407,logseq____&quot;^Flogseq____&quot;,1439,536870958]],[logseq____&quot;^15logseq____&quot;,[1407,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1407,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1407,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1407,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-4ed8-42cb-a910-d2ff0e2a5e94logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;先使用 ((66362a69-0c2d-4c47-9945-43c5f2233c72)) 取得 go symbol table (`symTab`)，如果ELF中沒有`.gosymtab` section (`gosyms`)，這個ELF為static link的binary，使用 ((663636de-6569-44d7-99df-dc7b1a67b96b)) 拿到一般的ELF symbol。接著遍歷`symTab`每個symbol，如果symbol name在`functions`內，那這symbol就是我們關心且要被instrumented的，這時分成兩個情境，如果`gosyms`不存在，使用 ((66363656-fd97-4825-a3ca-f11d31e3249d)) 找到這個symbol的offset，否則使用 ((66363762-097f-4143-9900-5897436d2563)) 尋找，function的開始及return的位址最終存放在`allOffsets`中。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^Flogseq____&quot;,1421,536870958]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^Hlogseq____&quot;,1369,536870958]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^Hlogseq____&quot;,1379,536870958]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^Hlogseq____&quot;,1415,536870958]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^Hlogseq____&quot;,1437,536870958]],[logseq____&quot;^15logseq____&quot;,[1408,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-3c87-4307-882d-d738c9d15d37logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;類似結果logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^Flogseq____&quot;,1420,536870958]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1409,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-984f-420a-9049-af8a499665eflogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1410,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n logseq____&lt;1logseq____&gt;logseq____&lt;cace1logseq____&gt;: Abbrev Number: 39 (DW_TAG_structure_type)\\n    logseq____&lt;cace2logseq____&gt;   DW_AT_name        : net/http.Request\\n    logseq____&lt;cacf3logseq____&gt;   DW_AT_byte_size   : 288\\n    logseq____&lt;cacf5logseq____&gt;   Unknown AT value: 2900: 25\\n    logseq____&lt;cacf6logseq____&gt;   Unknown AT value: 2904: 0x695a0\\n logseq____&lt;2logseq____&gt;logseq____&lt;cacfelogseq____&gt;: Abbrev Number: 24 (DW_TAG_member)\\n    logseq____&lt;cacfflogseq____&gt;   DW_AT_name        : Method\\n    logseq____&lt;cad06logseq____&gt;   DW_AT_data_member_location: 0\\n    logseq____&lt;cad07logseq____&gt;   DW_AT_type        : logseq____&lt;0x95c97logseq____&gt;\\n    logseq____&lt;cad0blogseq____&gt;   Unknown AT value: 2903: 0\\n logseq____&lt;2logseq____&gt;logseq____&lt;cad0clogseq____&gt;: Abbrev Number: 24 (DW_TAG_member)\\n    logseq____&lt;cad0dlogseq____&gt;   DW_AT_name        : URL\\n    logseq____&lt;cad11logseq____&gt;   DW_AT_data_member_location: 16\\n    logseq____&lt;cad12logseq____&gt;   DW_AT_type        : logseq____&lt;0xbe008logseq____&gt;\\n    logseq____&lt;cad16logseq____&gt;   Unknown AT value: 2903: 0\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1410,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1410,logseq____&quot;^Flogseq____&quot;,1414,536870958]],[logseq____&quot;^15logseq____&quot;,[1410,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1410,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1410,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1410,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-1ec8-426c-b8a0-cb4119963eealogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1411,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc handleStaticSymbol(fName string, allOffsets map[string]FuncOffsets, allSyms map[string]exec.Sym, ilog *slog.Logger) {\\n\\ts, ok := allSyms[fName]\\n\\n\\tif ok logseq____&amp;logseq____&amp; s.Prog != nil {\\n\\t\\tdata := make([]byte, s.Len)\\n\\t\\t_, err := s.Prog.ReadAt(data, int64(s.Off-s.Prog.Off))\\n\\t\\tif err != nil {\\n\\t\\t\\tilog.Error(\\logseq____&quot;error reading instructions for symbol\\logseq____&quot;, \\logseq____&quot;symbol\\logseq____&quot;, fName, \\logseq____&quot;error\\logseq____&quot;, err)\\n\\t\\t\\treturn\\n\\t\\t}\\n\\n\\t\\treturns, err := findReturnOffssets(s.Off, data)\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1411,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1411,logseq____&quot;^Flogseq____&quot;,1426,536870958]],[logseq____&quot;^15logseq____&quot;,[1411,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1411,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1411,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1411,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-4774-4e5e-bed3-25e949e195dalogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在golang中，struct在ELF中的symbol name定義在[go asm相關文件](https://go.dev/doc/asm#symbols)中logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^Flogseq____&quot;,1394,536870958]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1412,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-ae47-428f-bf22-1783b14c1b19logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[Go at Google: Language Design in the Service of Software Engineering - The Go Programming Language](https://go.dev/talks/2012/splash.article)logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^Flogseq____&quot;,1383,536870958]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1413,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-7a51-4c9a-be08-16f36940e9e9logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;類似結果logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^Flogseq____&quot;,1389,536870958]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1414,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-5097-463f-8a4d-56c90a49760blogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### findFuncOffset\\nid:: 66363762-097f-4143-9900-5897436d2563logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Flogseq____&quot;,1381,536870958]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363762-097f-4143-9900-5897436d2563logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870958]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363762-097f-4143-9900-5897436d2563logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1415,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66363762-097f-4143-9900-5897436d2563logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1416,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;有了`.gopclntab`及`.text`就能夠取得golang的symbol table。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1416,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1416,logseq____&quot;^Flogseq____&quot;,1388,536870958]],[logseq____&quot;^15logseq____&quot;,[1416,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1416,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1416,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1416,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-5f8d-4767-80c2-f119e7bb68c0logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;取得程式的section header\\nid:: 66313fb8-efd1-4424-85ea-6c485b25888blogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^Flogseq____&quot;,1387,536870958]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313fb8-efd1-4424-85ea-6c485b25888blogseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66313fb8-efd1-4424-85ea-6c485b25888blogseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1417,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66313fb8-efd1-4424-85ea-6c485b25888blogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# function offsetlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^Flogseq____&quot;,1400,536870958]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870958]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^Jlogseq____&quot;,[],536870958]],[logseq____&quot;^15logseq____&quot;,[1418,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-325e-4a45-8b51-7dea9f740485logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## 延伸閱讀logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^Flogseq____&quot;,1429,536870958]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870958]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^Jlogseq____&quot;,[],536870958]],[logseq____&quot;^15logseq____&quot;,[1419,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-00a6-4d36-af51-48e50562739dlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```bash\\nreadelf -S pingserver\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^Flogseq____&quot;,1417,536870958]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1420,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-e983-42d1-9278-d040eebbd774logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1421,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`instrumentationPoints`目的是找到ELF中，那些被instrumented的`functions`，每個function的開始及return位址。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1421,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1421,logseq____&quot;^Flogseq____&quot;,1390,536870958]],[logseq____&quot;^15logseq____&quot;,[1421,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1421,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1421,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1421,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-c48a-4cd8-8a5d-9b4cc43d80ddlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### structMemberOffsets\\nid:: 66363aad-2a1d-4514-9317-4edbf5a06ba6logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^Flogseq____&quot;,1378,536870958]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363aad-2a1d-4514-9317-4edbf5a06ba6logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870958]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363aad-2a1d-4514-9317-4edbf5a06ba6logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1422,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66363aad-2a1d-4514-9317-4edbf5a06ba6logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870958]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^Flogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^:logseq____&quot;,true,536870958]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870958]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1423,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-bd9d-4505-a8e0-aae4290881b6logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1424,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc findReturnOffssets(baseOffset uint64, data []byte) ([]uint64, error) {\\n\\tvar returnOffsets []uint64\\n\\tindex := 0\\n\\tfor index logseq____&lt; len(data) {\\n\\t\\tinstruction, err := x86asm.Decode(data[index:], 64)\\n\\t\\tif err != nil {\\n\\t\\t\\treturn nil, fmt.Errorf(\\logseq____&quot;failed to decode x64 instruction at offset %d: %w\\logseq____&quot;, index, err)\\n\\t\\t}\\n\\n\\t\\tif instruction.Op == x86asm.RET {\\n\\t\\t\\treturnOffsets = append(returnOffsets, baseOffset+uint64(index))\\n\\t\\t}\\n\\n\\t\\tindex += instruction.Len\\n\\t}\\n\\n\\treturn returnOffsets, nil\\n}\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1424,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1424,logseq____&quot;^Flogseq____&quot;,1373,536870958]],[logseq____&quot;^15logseq____&quot;,[1424,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1424,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1424,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1424,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-dfe0-457e-b480-28dfaea70b45logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;驗證`structMemberOffsetsFromDwarf`邏輯:logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^Flogseq____&quot;,1380,536870958]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1425,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-3487-4461-a6ca-60aef44d51c8logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1426,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;透過在`FindExeSymbols`function蒐集到的`allSyms`，因為有function name以及function所在的segment資訊，所以同樣可以使用 ((66363677-1e61-445d-b207-8c8ffcd447a8))，直接在複製的program header (`data`)中，找到function return的位址。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1426,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1426,logseq____&quot;^Flogseq____&quot;,1437,536870958]],[logseq____&quot;^15logseq____&quot;,[1426,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1426,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1426,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1426,logseq____&quot;^Hlogseq____&quot;,1384,536870958]],[logseq____&quot;^15logseq____&quot;,[1426,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-f2d1-4c5c-a79b-74bd7f52f0adlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nElf file type is EXEC (Executable file)\\nEntry point 0x46f360\\nThere are 9 program headers, starting at offset 64\\n\\nProgram Headers:\\n  Type           Offset             VirtAddr           PhysAddr\\n                 FileSiz            MemSiz              Flags  Align\\n  PHDR           0x0000000000000040 0x0000000000400040 0x0000000000400040\\n                 0x00000000000001f8 0x00000000000001f8  R      0x1000\\n  INTERP         0x0000000000000fe4 0x0000000000400fe4 0x0000000000400fe4\\n                 0x000000000000001c 0x000000000000001c  R      0x1\\n      [Requesting program interpreter: /lib64/ld-linux-x86-64.so.2]\\n  NOTE           0x0000000000000f80 0x0000000000400f80 0x0000000000400f80\\n                 0x0000000000000064 0x0000000000000064  R      0x4\\n  LOAD           0x0000000000000000 0x0000000000400000 0x0000000000400000\\n                 0x000000000025fb60 0x000000000025fb60  R E    0x1000\\n  LOAD           0x0000000000260000 0x0000000000660000 0x0000000000660000\\n                 0x0000000000270878 0x0000000000270878  R      0x1000\\n  LOAD           0x00000000004d1000 0x00000000008d1000 0x00000000008d1000\\n                 0x0000000000034c00 0x00000000000a3f70  RW     0x1000\\n  DYNAMIC        0x00000000004d1200 0x00000000008d1200 0x00000000008d1200\\n                 0x0000000000000120 0x0000000000000120  RW     0x8\\n  TLS            0x0000000000000000 0x0000000000000000 0x0000000000000000\\n                 0x0000000000000000 0x0000000000000008  R      0x8\\n  GNU_STACK      0x0000000000000000 0x0000000000000000 0x0000000000000000\\n                 0x0000000000000000 0x0000000000000000  RW     0x8\\n\\n Section to Segment mapping:\\n  Segment Sections...\\n   00     \\n   01     .interp \\n   02     .note.go.buildid \\n   03     .text .plt .interp .note.go.buildid \\n   04     .rodata .rela .rela.plt .gnu.version .gnu.version_r .hash .dynstr .dynsym .typelink .itablink .gosymtab .gopclntab \\n   05     .go.buildinfo .dynamic .got.plt .got .noptrdata .data .bss .noptrbss \\n   06     .dynamic \\n   07     .tbss \\n   08  \\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^Flogseq____&quot;,1375,536870958]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1427,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-7c07-45a4-99f4-615b8e185e53logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1428,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;There are many interesting uses of pc-value tables. The most obvious is mapping program counter to line number, but another use is to generate a pcsp table recording the stack frame size at each program counter, so that stack unwinding can always determine where the current frame ends and the next one begins.logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1428,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1428,logseq____&quot;^Flogseq____&quot;,1442,536870958]],[logseq____&quot;^15logseq____&quot;,[1428,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1428,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1428,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1428,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-7303-443f-a4b5-e076d76219a4logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`InspectOffsets`使用 ((66362f79-8e32-40d1-85e7-a3c1bddb16d1)) 找到被instrumented的function的開始及return位址，並使用 ((66363aad-2a1d-4514-9317-4edbf5a06ba6)) 找到struct中，特定field的位址。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^Flogseq____&quot;,1374,536870958]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^Hlogseq____&quot;,1390,536870958]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^Hlogseq____&quot;,1422,536870958]],[logseq____&quot;^15logseq____&quot;,[1429,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-fa4b-447b-b320-031fb8583c35logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1430,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```bash\\nreadelf --symbols pingserver | grep logseq____&apos; FUNC logseq____&apos;\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1430,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1430,logseq____&quot;^Flogseq____&quot;,1404,536870958]],[logseq____&quot;^15logseq____&quot;,[1430,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1430,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1430,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1430,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-d152-4d1e-859f-626f626a5460logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`prefetchedOffsets`是在編譯時期讀入的`offsets.json`，這是從[grafana/go-offsets-tracker](https://github.com/grafana/go-offsets-tracker)取得golang各版本的struct offset。golang版本是從ELF中的`.go.buildinfo` section中取得，可以用`readelf`中看到:logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^Flogseq____&quot;,1438,536870958]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1431,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-998f-45fa-a5f4-c7197c855791logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;最後在`FindExeSymbols`保存的map中，key是function的名稱，value是`Sym struct`，包含function在記憶體中的位址(`Off`)，function symbol長度(`Len`)，以及function位在哪一個segment，即program header中(`Prog`)。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^Flogseq____&quot;,1391,536870958]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1432,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-d1a7-46cf-a29c-30f95fd267b5logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### structMemberPreFetchedOffsets\\nid:: 662e8b94-08d7-432f-8b32-606dd4955f6flogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^Flogseq____&quot;,1435,536870958]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;662e8b94-08d7-432f-8b32-606dd4955f6flogseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870958]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;662e8b94-08d7-432f-8b32-606dd4955f6flogseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1433,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u662e8b94-08d7-432f-8b32-606dd4955f6flogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1434,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`findGoSymbolTable`讀兩個ELF中的section，分別是`.gopclntab`及`.text`。pclntab代表program counter line table，[GoReSym blog](https://cloud.google.com/blog/topics/threat-intelligence/golang-internals-symbol-recovery)提及logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1434,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1434,logseq____&quot;^Flogseq____&quot;,1369,536870958]],[logseq____&quot;^15logseq____&quot;,[1434,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1434,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1434,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1434,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-2326-447a-9f8c-076cd07a89a6logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc TestGoOffsetsFromDwarf(t *testing.T) {\\n\\toffsets, _ := structMemberOffsetsFromDwarf(debugData)\\n\\t// this test might fail if a future Go version updates the internal structure of the used structs.\\n\\tmustMatch(t, FieldOffsets{\\n\\t\\t\\logseq____&quot;url_ptr_pos\\logseq____&quot;:           uint64(16),\\n      ...\\n      \\t}, offsets)\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^Flogseq____&quot;,1372,536870958]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1435,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-d9e7-4e4e-804f-56bf838d418elogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;以`net.Listen`為例，他所在的Segment是編號1的section，對照 ((66313fb8-efd1-4424-85ea-6c485b25888b)) 也就是 text section，他在text section中的偏差為`578d60`。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^Flogseq____&quot;,1430,536870958]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^Hlogseq____&quot;,1417,536870958]],[logseq____&quot;^15logseq____&quot;,[1436,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-c33d-456f-bd36-63c930388189logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### handleStaticSymbol\\nid:: 66363656-fd97-4825-a3ca-f11d31e3249dlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^Flogseq____&quot;,1424,536870958]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363656-fd97-4825-a3ca-f11d31e3249dlogseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870958]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66363656-fd97-4825-a3ca-f11d31e3249dlogseq____&quot;],536870958]],[logseq____&quot;^15logseq____&quot;,[1437,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66363656-fd97-4825-a3ca-f11d31e3249dlogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1438,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n//go:embed offsets.json\\nvar prefetchedOffsets string\\n```logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1438,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1438,logseq____&quot;^Flogseq____&quot;,1382,536870958]],[logseq____&quot;^15logseq____&quot;,[1438,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1438,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1438,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1438,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-1b39-41cd-a4c5-8a376f8a8bb1logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`prog.ReadAt`會將此prog第`int64(f.Value)-prog.Vaddr`的地方，讀data的大小(即`funcLen`)到data裡面。之後並使用 ((66363677-1e61-445d-b207-8c8ffcd447a8)) 找尋function的return address。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^Flogseq____&quot;,1443,536870958]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^Hlogseq____&quot;,1384,536870958]],[logseq____&quot;^15logseq____&quot;,[1439,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-94c3-48ac-b9a2-952314d96839logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1440,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;過濾掉type不是LOAD而且FLAGS沒有**X(可執行)**屬性program header，剩下編號3的program header，logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1440,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1440,logseq____&quot;^Flogseq____&quot;,1427,536870958]],[logseq____&quot;^15logseq____&quot;,[1440,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1440,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1440,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1440,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-314a-43ac-90b1-ceacced81437logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1441,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1441,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1441,logseq____&quot;^Flogseq____&quot;,1371,536870958]],[logseq____&quot;^15logseq____&quot;,[1441,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1441,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1441,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1441,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-4115-4a54-931e-060f644dd7e1logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1442,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[原始的Go Runtime Symbol Information](https://docs.google.com/document/d/1lyPIbmsYbXnpNj57a261hgOYVpNRcgydurVQIyZOz_o/pub)也提及logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1442,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1442,logseq____&quot;^Flogseq____&quot;,1392,536870958]],[logseq____&quot;^15logseq____&quot;,[1442,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1442,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1442,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1442,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-b869-4099-963a-305be9420473logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`findFuncOffset`中，透過給定的function，嘗試在program header中找到符合的segment，找尋function在記憶體中位置的方法與前面一致。logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^Flogseq____&quot;,1415,536870958]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^Xlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^Vlogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^Ulogseq____&quot;,1367,536870958]],[logseq____&quot;^15logseq____&quot;,[1443,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6181-2dfc-46b9-a207-cef77ebb427clogseq____&quot;,536870958]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^Klogseq____&quot;,1753899394066,536870959]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^@logseq____&quot;,false,536870959]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/go_nethttplogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^Alogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/go_nethttplogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870959]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870959]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^Blogseq____&quot;,1753899394066,536870959]],[logseq____&quot;^15logseq____&quot;,[1445,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-95e6-450a-bf0b-17b3b9554d6clogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^Klogseq____&quot;,1753899394067,536870959]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^@logseq____&quot;,false,536870959]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/http_server (v1.8.1)logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^Alogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/http_server (v1.8.1)logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870963]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^Blogseq____&quot;,1753899394067,536870959]],[logseq____&quot;^15logseq____&quot;,[1446,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-610d-4257-98fd-acbfa5af1498logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^Klogseq____&quot;,1753899394068,536870959]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^@logseq____&quot;,false,536870959]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/http_client (v1.8.1)logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^Alogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/http_client (v1.8.1)logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870961]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870961]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^Blogseq____&quot;,1753899394068,536870959]],[logseq____&quot;^15logseq____&quot;,[1447,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-3453-4470-8ae5-3713fcf97ac9logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^Klogseq____&quot;,1753899394069,536870959]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^@logseq____&quot;,false,536870959]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/http_header (v1.8.1)logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^Alogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/http_header (v1.8.1)logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870962]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^Blogseq____&quot;,1753899394069,536870959]],[logseq____&quot;^15logseq____&quot;,[1448,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-73d8-49e2-ba54-2fbff0262351logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^Klogseq____&quot;,1753899394069,536870959]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^@logseq____&quot;,false,536870959]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/sqllogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^Alogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/sqllogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870966]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870966]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^Blogseq____&quot;,1753899394069,536870959]],[logseq____&quot;^15logseq____&quot;,[1449,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-36dc-4df4-a873-0b8bb45a37e3logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^Klogseq____&quot;,1753899394070,536870959]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^@logseq____&quot;,false,536870959]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/go_traceparentlogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^Alogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/go_traceparentlogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870960]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870960]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^Blogseq____&quot;,1753899394070,536870959]],[logseq____&quot;^15logseq____&quot;,[1450,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-1a5b-4a42-af96-6c4e275e271clogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[[Beyla/sql]]logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Flogseq____&quot;,1459,536870959]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Xlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Vlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Ulogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Ulogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Ulogseq____&quot;,1449,536870959]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Hlogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^Hlogseq____&quot;,1449,536870959]],[logseq____&quot;^15logseq____&quot;,[1451,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-16bd-4444-8097-b7b764aadc2flogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[[Beyla/go_traceparent]]logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Flogseq____&quot;,1458,536870959]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Xlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Vlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Ulogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Ulogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Ulogseq____&quot;,1450,536870959]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Hlogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^Hlogseq____&quot;,1450,536870959]],[logseq____&quot;^15logseq____&quot;,[1452,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-1514-43dd-afbf-7ad8e1fa4292logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# Clientlogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Flogseq____&quot;,1461,536870959]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Xlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Vlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Ulogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870959]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^Jlogseq____&quot;,[],536870959]],[logseq____&quot;^15logseq____&quot;,[1453,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5461-4efb-a0b4-c4183b72c3b4logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# Serverlogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Flogseq____&quot;,1456,536870959]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Xlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Vlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Ulogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870959]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^Jlogseq____&quot;,[],536870959]],[logseq____&quot;^15logseq____&quot;,[1454,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-e7e4-4f4f-a8bb-2b11d3213e84logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# Headerlogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^Flogseq____&quot;,1460,536870959]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^Xlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^Vlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^Ulogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870959]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^Jlogseq____&quot;,[],536870959]],[logseq____&quot;^15logseq____&quot;,[1455,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7513-469c-abe0-bfa5064dabe3logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Flogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Xlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Vlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Ulogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^:logseq____&quot;,true,536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870959]],[logseq____&quot;^15logseq____&quot;,[1456,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-60d8-4f7f-b5e6-3a780af45e9clogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[[Beyla/http_header (v1.8.1)]]logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Flogseq____&quot;,1455,536870959]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Xlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Vlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Ulogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Ulogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Ulogseq____&quot;,1448,536870959]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Hlogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^Hlogseq____&quot;,1448,536870959]],[logseq____&quot;^15logseq____&quot;,[1457,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0126-4d48-a27f-49745228016clogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# Traceparentlogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^Flogseq____&quot;,1451,536870959]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^Xlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^Vlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^Ulogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870959]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^Jlogseq____&quot;,[],536870959]],[logseq____&quot;^15logseq____&quot;,[1458,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-2a0c-4df7-81de-0706b75f126alogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# SQLlogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Flogseq____&quot;,1457,536870959]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Xlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Vlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Ulogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870959]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^Jlogseq____&quot;,[],536870959]],[logseq____&quot;^15logseq____&quot;,[1459,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-e23f-4860-8e69-7ad43f776dcdlogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[[Beyla/http_client (v1.8.1)]]logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Flogseq____&quot;,1453,536870959]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Xlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Vlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Ulogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Ulogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Ulogseq____&quot;,1447,536870959]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Hlogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^Hlogseq____&quot;,1447,536870959]],[logseq____&quot;^15logseq____&quot;,[1460,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9f2b-4966-8833-3cc538309cdelogseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[[Beyla/http_server (v1.8.1)]]logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Flogseq____&quot;,1454,536870959]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Xlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Vlogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Ulogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Ulogseq____&quot;,1445,536870959]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Ulogseq____&quot;,1446,536870959]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Hlogseq____&quot;,1359,536870959]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^Hlogseq____&quot;,1446,536870959]],[logseq____&quot;^15logseq____&quot;,[1461,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-bbc7-46e6-9f14-ea9feabcd799logseq____&quot;,536870959]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;目的：在給定的`*headers_ptr_ptr` pointer中尋找`traceparent`header的值logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^Flogseq____&quot;,1498,536870960]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^Vlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1464,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-2094-4624-9aa6-d9829d7093eflogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1465,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`traceparent_header_value_go_str`長度不是55，則忽略logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1465,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1465,logseq____&quot;^Flogseq____&quot;,1476,536870960]],[logseq____&quot;^15logseq____&quot;,[1465,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1465,logseq____&quot;^Vlogseq____&quot;,1478,536870960]],[logseq____&quot;^15logseq____&quot;,[1465,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1465,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-426a-460e-8084-db3f06142daelogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;bucket entry上限是8，參考 ((66374dc9-21f4-4ba3-b03e-a3d6897a636f))logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^Flogseq____&quot;,1478,536870960]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^Vlogseq____&quot;,1478,536870960]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^Hlogseq____&quot;,1490,536870960]],[logseq____&quot;^15logseq____&quot;,[1466,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-dbc5-484f-acac-ae2b5de02efclogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870960]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^Flogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^Vlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^:logseq____&quot;,true,536870960]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870960]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870960]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870960]],[logseq____&quot;^15logseq____&quot;,[1467,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0ad7-4b58-abcd-4329ccc025falogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`headers_ptr` pointer讀 ((66374d1c-fdad-4156-a614-da2dfd503258))，寫入`header_buckets`logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^Flogseq____&quot;,1483,536870960]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^Vlogseq____&quot;,1469,536870960]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^Hlogseq____&quot;,1486,536870960]],[logseq____&quot;^15logseq____&quot;,[1468,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-07cf-4b8a-a4ac-b75727ab61calogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;定位`header`欄位logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^Flogseq____&quot;,1496,536870960]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^Vlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1469,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-c64e-471c-b366-04837db13c08logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## map\\nid:: 66374b78-b6a9-42a4-aedd-3e3403cd8a00logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^Flogseq____&quot;,1867,536870970]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374b78-b6a9-42a4-aedd-3e3403cd8a00logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870970]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374b78-b6a9-42a4-aedd-3e3403cd8a00logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1470,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66374b78-b6a9-42a4-aedd-3e3403cd8a00logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n#define W3C_KEY_LENGTH 11\\n#define W3C_VAL_LENGTH 55\\n...\\n\\n// assumes s2 is all lowercase\\nstatic __always_inline int bpf_memicmp(char *s1, char *s2, s32 size)\\n{\\n    for (int i = 0; i logseq____&lt; size; i++)\\n    {\\n        if (s1[i] != s2[i] logseq____&amp;logseq____&amp; s1[i] != (s2[i] - 32)) // compare with each uppercase character\\n        {\\n            return i+1;\\n        }\\n    }\\n\\n    return 0;\\n}\\n\\nstatic __always_inline void *extract_traceparent_from_req_headers(void *headers_ptr_ptr)\\n{\\n...\\n        for (u64 i = 0; i logseq____&lt; 8; i++)\\n        {\\n            // break the bucket iteration when tophash is zero\\n            // since \\logseq____&quot;there are no more non-empty cells at higher indexes or overflows\\logseq____&quot;\\n            // ref: https://github.com/golang/go/blob/9050ce9b334419066c364e747499a2faf4425dad/src/runtime/map.go#L86\\n            if (map_value-logseq____&gt;tophash[i] == 0)\\n            {\\n                break;\\n            }\\n            // skip the cell if tophash is empty\\n            // ref: https://github.com/golang/go/blob/9050ce9b334419066c364e747499a2faf4425dad/src/runtime/map.go#L87\\n            if (map_value-logseq____&gt;tophash[i] == 1)\\n            {\\n                continue;\\n            }\\n            if (map_value-logseq____&gt;keys[i].len != W3C_KEY_LENGTH)\\n            {\\n                continue;\\n            }\\n            char current_header_key[W3C_KEY_LENGTH];\\n            bpf_probe_read(current_header_key, sizeof(current_header_key), map_value-logseq____&gt;keys[i].str);        \\n            if (bpf_memicmp(current_header_key, \\logseq____&quot;traceparent\\logseq____&quot;, W3C_KEY_LENGTH)) // grpc headers donlogseq____&apos;t get normalized\\n            {\\n                continue;\\n            }\\n            void *traceparent_header_value_ptr = map_value-logseq____&gt;values[i].array;\\n            struct go_string traceparent_header_value_go_str;\\n            res = bpf_probe_read(logseq____&amp;traceparent_header_value_go_str, sizeof(traceparent_header_value_go_str), traceparent_header_value_ptr);\\n            if (res logseq____&lt; 0)\\n            {\\n                return NULL;\\n            }\\n            if (traceparent_header_value_go_str.len != W3C_VAL_LENGTH)\\n            {\\n                continue;\\n            }\\n            return traceparent_header_value_go_str.str;\\n```logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^Flogseq____&quot;,1478,536870960]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^Vlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1471,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-80ea-435e-bffb-eaee128ab75elogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1472,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Go ((66374b78-b6a9-42a4-aedd-3e3403cd8a00)) internallogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1472,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1472,logseq____&quot;^Flogseq____&quot;,1501,536870960]],[logseq____&quot;^15logseq____&quot;,[1472,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1472,logseq____&quot;^Vlogseq____&quot;,1496,536870960]],[logseq____&quot;^15logseq____&quot;,[1472,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1472,logseq____&quot;^Hlogseq____&quot;,1470,536870960]],[logseq____&quot;^15logseq____&quot;,[1472,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-abcf-4ae4-acbe-f84a3aa83651logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nvalue           = version \\logseq____&quot;-\\logseq____&quot; version-format\\nversion         = 2HEXDIGLC   ; this document assumes version 00. Version ff is forbidden\\nversion-format   = trace-id \\logseq____&quot;-\\logseq____&quot; parent-id \\logseq____&quot;-\\logseq____&quot; trace-flags\\ntrace-id         = 32HEXDIGLC  ; 16 bytes array identifier. All zeroes forbidden\\nparent-id        = 16HEXDIGLC  ; 8 bytes array identifier. All zeroes forbidden\\ntrace-flags      = 2HEXDIGLC   ; 8 bit flags. Currently, only one bit is used. See below for details\\n```logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^Flogseq____&quot;,1474,536870960]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^Vlogseq____&quot;,1474,536870960]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1473,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-2707-4182-b564-ec9de82bbdbelogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1474,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`W3C_KEY_LENGTH`是`traceparent`的長度，也就是11；`W3C_VAL_LENGTH`=2+1+32+1+16+1+2=55logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1474,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1474,logseq____&quot;^Flogseq____&quot;,1484,536870960]],[logseq____&quot;^15logseq____&quot;,[1474,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1474,logseq____&quot;^Vlogseq____&quot;,1478,536870960]],[logseq____&quot;^15logseq____&quot;,[1474,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1474,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-438a-424f-8709-b333f1b1cab4logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`B` member的offset是8+1=9，用來描述buckets的`log_2`數量\\nid:: 66374cde-c73c-49eb-93f1-cb556a3dca9dlogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^Flogseq____&quot;,1488,536870970]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^Vlogseq____&quot;,1499,536870970]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374cde-c73c-49eb-93f1-cb556a3dca9dlogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374cde-c73c-49eb-93f1-cb556a3dca9dlogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1475,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66374cde-c73c-49eb-93f1-cb556a3dca9dlogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1476,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`map_value-logseq____&gt;values[i].array`讀入目前的header value，並寫入`traceparent_header_value_go_str`logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1476,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1476,logseq____&quot;^Flogseq____&quot;,1485,536870960]],[logseq____&quot;^15logseq____&quot;,[1476,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1476,logseq____&quot;^Vlogseq____&quot;,1478,536870960]],[logseq____&quot;^15logseq____&quot;,[1476,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1476,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-3af7-4c92-9262-0829a71c6aeelogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1477,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`golang_mapbucket_storage_map`中查唯一的`struct map_bucket`logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1477,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1477,logseq____&quot;^Flogseq____&quot;,1500,536870960]],[logseq____&quot;^15logseq____&quot;,[1477,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1477,logseq____&quot;^Vlogseq____&quot;,1500,536870960]],[logseq____&quot;^15logseq____&quot;,[1477,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1477,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-94b7-43f5-92ea-939deb939ab7logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;遍歷第`j`個bucket中每個entry，找尋`traceparent` headerlogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^Flogseq____&quot;,1493,536870960]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^Vlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1478,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5c14-4a50-8539-1e7d25760567logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`header_buckets + (j * sizeof(struct map_bucket))`，也就是第`j`個bucket在`header_buckets`的位址中，讀入`map_value`。logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^Flogseq____&quot;,1494,536870960]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^Vlogseq____&quot;,1500,536870960]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1479,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-563b-4a7d-b11b-c809438ca473logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在 `headers_ptr_ptr` pointer讀 ((66375148-ddf7-4ad2-aca2-03e421bd6db4))，寫入`*headers_ptr`logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^Flogseq____&quot;,1469,536870960]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^Vlogseq____&quot;,1469,536870960]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^Hlogseq____&quot;,1499,536870960]],[logseq____&quot;^15logseq____&quot;,[1480,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-311a-4e0e-a979-32f7dcd9d4bblogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`headers_ptr` pointer讀 ((66374cb7-1493-4c04-9846-71c67396fd68))，寫入`headers_count`logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^Flogseq____&quot;,1480,536870960]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^Vlogseq____&quot;,1469,536870960]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^Hlogseq____&quot;,1488,536870960]],[logseq____&quot;^15logseq____&quot;,[1481,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-04ec-4b96-a99c-7c4ebddb158blogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`headers_ptr` pointer讀 ((66374cde-c73c-49eb-93f1-cb556a3dca9d))，寫入`log_2_bucket_count` [[Beyla/Assertion]]logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^Flogseq____&quot;,1481,536870960]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^Vlogseq____&quot;,1469,536870960]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^Ulogseq____&quot;,1359,536870960]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^Ulogseq____&quot;,1463,536870960]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^Hlogseq____&quot;,1359,536870960]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^Hlogseq____&quot;,1463,536870960]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^Hlogseq____&quot;,1475,536870960]],[logseq____&quot;^15logseq____&quot;,[1482,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9c29-4139-ae61-af2abc43b47elogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;計算`bucket_count = 1 logseq____&lt;logseq____&lt; log_2_bucket_count`logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^Flogseq____&quot;,1482,536870960]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^Vlogseq____&quot;,1469,536870960]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1483,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-6574-46a1-bdef-c5b940a4ea72logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果bucket中第`i`個entry為0，代表該cell為空值，參考 ((66375be1-a305-45a6-9272-92b77030892f))。logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Flogseq____&quot;,1466,536870960]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Vlogseq____&quot;,1478,536870960]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^Hlogseq____&quot;,1492,536870960]],[logseq____&quot;^15logseq____&quot;,[1484,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-3ba9-4597-b868-33e45012985elogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`current_header_key`與`traceparent`進行`bpf_memicmp`(忽略大小寫的比較)後，return code不是0，則忽略logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Flogseq____&quot;,1497,536870960]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Vlogseq____&quot;,1478,536870960]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1485,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-3d8e-4144-8f17-789cfc73b902logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`buckets` member的offset是8 + 1 + 1 + 2 + 4 = 16，pointer指向buckets的結構\\nid:: 66374d1c-fdad-4156-a614-da2dfd503258logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^Flogseq____&quot;,1475,536870970]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^Vlogseq____&quot;,1499,536870970]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374d1c-fdad-4156-a614-da2dfd503258logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374d1c-fdad-4156-a614-da2dfd503258logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1486,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66374d1c-fdad-4156-a614-da2dfd503258logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[net/http.Header](https://pkg.go.dev/net/http#Header)就是key為string，value為string[]的maplogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^Flogseq____&quot;,1496,536870960]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^Vlogseq____&quot;,1496,536870960]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1487,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-2b18-46a3-8f42-b33162c94c8elogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`count` member的offset為0，用來描述map的數量\\nid:: 66374cb7-1493-4c04-9846-71c67396fd68logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^Flogseq____&quot;,1499,536870970]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^Vlogseq____&quot;,1499,536870970]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374cb7-1493-4c04-9846-71c67396fd68logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374cb7-1493-4c04-9846-71c67396fd68logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1488,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66374cb7-1493-4c04-9846-71c67396fd68logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n#define OFFSET_OF_GO_RUNTIME_HMAP_FIELD_B 9\\n#define OFFSET_OF_GO_RUNTIME_HMAP_FIELD_BUCKETS 16\\n// ...\\nstatic __always_inline void *extract_traceparent_from_req_headers(void *headers_ptr_ptr)\\n{\\n    void *headers_ptr;\\n    long res;\\n    res = bpf_probe_read(logseq____&amp;headers_ptr, sizeof(headers_ptr), headers_ptr_ptr);\\n    if (res logseq____&lt; 0)\\n    {\\n        return NULL;\\n    }\\n    u64 headers_count = 0;\\n    res = bpf_probe_read(logseq____&amp;headers_count, sizeof(headers_count), headers_ptr);\\n    if (res logseq____&lt; 0)\\n    {\\n        return NULL;\\n    }\\n    if (headers_count == 0)\\n    {\\n        return NULL;\\n    }\\n    unsigned char log_2_bucket_count;\\n    res = bpf_probe_read(logseq____&amp;log_2_bucket_count, sizeof(log_2_bucket_count), headers_ptr + OFFSET_OF_GO_RUNTIME_HMAP_FIELD_B);\\n    if (res logseq____&lt; 0)\\n    {\\n        return NULL;\\n    }\\n    u64 bucket_count = 1 logseq____&lt;logseq____&lt; log_2_bucket_count;\\n    void *header_buckets;\\n    res = bpf_probe_read(logseq____&amp;header_buckets, sizeof(header_buckets), headers_ptr + OFFSET_OF_GO_RUNTIME_HMAP_FIELD_BUCKETS);\\n    if (res logseq____&lt; 0)\\n    {\\n        return NULL;\\n    }\\n```logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^Flogseq____&quot;,1469,536870960]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^Vlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1489,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-533c-4582-a011-ba7a06611c39logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`internal/abi`中，定義`MapBucketCount`為1logseq____&lt;logseq____&lt;3 = 8\\nid:: 66374dc9-21f4-4ba3-b03e-a3d6897a636flogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^Flogseq____&quot;,1869,536870970]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374dc9-21f4-4ba3-b03e-a3d6897a636flogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66374dc9-21f4-4ba3-b03e-a3d6897a636flogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1490,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66374dc9-21f4-4ba3-b03e-a3d6897a636flogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;註：不確定原因，因為找到`traceparent` header之後就直接return，有可能是要讓`golang_mapbucket_storage_map`唯一的value指向存在`traceparent` header的bucketlogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^Flogseq____&quot;,1477,536870960]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^Vlogseq____&quot;,1477,536870960]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1491,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-296e-4e3e-aaaa-697f3587cb2elogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`tophash[i]`值是0，則這cell為空值，而且更高index的cell皆為空值 [參考](https://github.com/golang/go/blob/9050ce9b334419066c364e747499a2faf4425dad/src/runtime/map.go#L86)\\nid:: 66375be1-a305-45a6-9272-92b77030892flogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^Flogseq____&quot;,1875,536870970]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66375be1-a305-45a6-9272-92b77030892flogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66375be1-a305-45a6-9272-92b77030892flogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1492,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66375be1-a305-45a6-9272-92b77030892flogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n#define MAX_BUCKETS 8\\n...\\nstruct\\n{\\n    __uint(type, BPF_MAP_TYPE_PERCPU_ARRAY);\\n    __uint(key_size, sizeof(u32));\\n    __uint(value_size, sizeof(struct map_bucket));\\n    __uint(max_entries, 1);\\n} golang_mapbucket_storage_map SEC(\\logseq____&quot;.maps\\logseq____&quot;);\\n...\\nstruct map_bucket {\\n    char tophash[8];\\n    struct go_string keys[8];\\n    struct go_slice values[8];\\n    void *overflow;\\n};\\n...\\nstatic __always_inline void *extract_traceparent_from_req_headers(void *headers_ptr_ptr)\\n{\\n...\\n    u32 map_id = 0;\\n    struct map_bucket *map_value = (struct map_bucket *)bpf_map_lookup_elem(logseq____&amp;golang_mapbucket_storage_map, logseq____&amp;map_id);\\n    if (!map_value)\\n    {\\n        return NULL;\\n    }\\n    for (u64 j = 0; j logseq____&lt; MAX_BUCKETS; j++)\\n    {\\n        if (j logseq____&gt;= bucket_count)\\n        {\\n            break;\\n        }\\n        res = bpf_probe_read(map_value, sizeof(struct map_bucket), header_buckets + (j * sizeof(struct map_bucket)));\\n        if (res logseq____&lt; 0)\\n        {\\n            continue;\\n        }\\n\\t\\t\\t...\\n```logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^Flogseq____&quot;,1500,536870960]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^Vlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1493,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a40c-424f-851a-d514913663b8logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[HTTP spec](https://greenbytes.de/tech/webdav/rfc7230.html#field.limits)並沒有限制HTTP header，但是這邊有限制header的bucket查找上限是8個。logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Flogseq____&quot;,1477,536870960]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Vlogseq____&quot;,1500,536870960]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1494,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d0e9-48a5-831a-dda863d35624logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1495,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果長度相等，則回傳該valuelogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1495,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1495,logseq____&quot;^Flogseq____&quot;,1465,536870960]],[logseq____&quot;^15logseq____&quot;,[1495,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1495,logseq____&quot;^Vlogseq____&quot;,1478,536870960]],[logseq____&quot;^15logseq____&quot;,[1495,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1495,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5094-497d-981e-8f329d68adeflogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1496,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;背景：logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1496,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1496,logseq____&quot;^Flogseq____&quot;,1464,536870960]],[logseq____&quot;^15logseq____&quot;,[1496,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1496,logseq____&quot;^Vlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1496,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1496,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-77ac-4185-9f45-a0d3bc5d7613logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`map_value-logseq____&gt;keys[i].str`讀入目前的header key，並寫入`current_header_key`logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^Flogseq____&quot;,1474,536870960]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^Vlogseq____&quot;,1478,536870960]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1497,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-14d5-43ee-8b32-205150b401c9logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## extract_traceparent_from_req_headers\\nid:: 6637505e-eb41-47cc-a463-eea0c9b0f970logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^Flogseq____&quot;,1467,536870960]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^Vlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6637505e-eb41-47cc-a463-eea0c9b0f970logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870960]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870960]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6637505e-eb41-47cc-a463-eea0c9b0f970logseq____&quot;],536870960]],[logseq____&quot;^15logseq____&quot;,[1498,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u6637505e-eb41-47cc-a463-eea0c9b0f970logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;golang的map實作hash table (`hmap` struct)\\nid:: 66375148-ddf7-4ad2-aca2-03e421bd6db4logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Flogseq____&quot;,1876,536870970]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66375148-ddf7-4ad2-aca2-03e421bd6db4logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66375148-ddf7-4ad2-aca2-03e421bd6db4logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1499,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66375148-ddf7-4ad2-aca2-03e421bd6db4logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1500,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;遍歷header的map bucketlogseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1500,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1500,logseq____&quot;^Flogseq____&quot;,1489,536870960]],[logseq____&quot;^15logseq____&quot;,[1500,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1500,logseq____&quot;^Vlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1500,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1500,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-cee5-41e0-a7ff-7f3841efcc77logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[traceparent header](https://www.w3.org/TR/trace-context/#header-name)logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^Flogseq____&quot;,1487,536870960]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^Xlogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^Vlogseq____&quot;,1496,536870960]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^Ulogseq____&quot;,1450,536870960]],[logseq____&quot;^15logseq____&quot;,[1501,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-2b67-4cbf-a6ba-4df7dcd2dca1logseq____&quot;,536870960]],[logseq____&quot;^15logseq____&quot;,[1503,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;先使用http用過的 `roundTripStartHelper` 取得method, url, traceparent header資訊。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1503,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1503,logseq____&quot;^Flogseq____&quot;,1521,536870961]],[logseq____&quot;^15logseq____&quot;,[1503,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1503,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1503,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1503,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a8bd-42ee-8fb6-b8c85d6e567clogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1504,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;利用`cc_ptr + cc_tconn_pos + 8`取得[tconn](https://github.com/golang/net/blob/ec05fdcd71141c885f3fb84c41d1c692f094ccbe/http2/transport.go#L302)欄位，型態是`net.Conn` interface。跟前面一樣，實作方通常是[tls.Conn](https://github.com/golang/go/blob/1e12eab8705d1d8d7472be9147a39caa1c8380db/src/crypto/tls/conn.go#L28)，一樣透過`tconn + 8`拿到 embed struct`net.conn`寫到`tconn_conn`，之後也使用`get_conn_info`取得IP跟port資訊，寫到`conn` pointer裡。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1504,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1504,logseq____&quot;^Flogseq____&quot;,1544,536870961]],[logseq____&quot;^15logseq____&quot;,[1504,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1504,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1504,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1504,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0905-4446-a653-5819a87b29eblogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1505,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1505,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1505,logseq____&quot;^Flogseq____&quot;,1529,536870961]],[logseq____&quot;^15logseq____&quot;,[1505,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1505,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1505,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1505,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f712-419e-a896-fc48fc792540logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^Flogseq____&quot;,1524,536870961]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1506,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9e46-423b-8e85-6777746cbd77logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (pc *persistConn) roundTrip(req *transportRequest) (resp *Response, err error)`logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^Flogseq____&quot;,1546,536870961]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^Vlogseq____&quot;,1546,536870961]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1507,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-ed65-40cd-980a-98837d9af865logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1508,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[roundTrip](https://github.com/golang/go/blob/16830ab48abb0cbc702298cafaa69839d0c9f4f9/src/net/http/transport.go#L2589)logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1508,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1508,logseq____&quot;^Flogseq____&quot;,1523,536870961]],[logseq____&quot;^15logseq____&quot;,[1508,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1508,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1508,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1508,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9f3a-4b2a-bda4-8d677e817f68logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1509,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`GO_PARAM2`取得`req *Request`，並初始化`invocation http_func_invocation_t`。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1509,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1509,logseq____&quot;^Flogseq____&quot;,1528,536870961]],[logseq____&quot;^15logseq____&quot;,[1509,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1509,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1509,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1509,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-927c-455f-ae0b-099d514d11b4logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1510,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[roundTrip](https://github.com/golang/go/blob/16830ab48abb0cbc702298cafaa69839d0c9f4f9/src/net/http/transport.go#L516-L517)logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1510,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1510,logseq____&quot;^Flogseq____&quot;,1518,536870961]],[logseq____&quot;^15logseq____&quot;,[1510,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1510,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1510,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1510,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-4026-4750-9c06-cedaf4104722logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1511,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (cc *ClientConn) roundTrip(req *http.Request, streamf func(*clientStream)) (*http.Response, error)`logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1511,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1511,logseq____&quot;^Flogseq____&quot;,1521,536870961]],[logseq____&quot;^15logseq____&quot;,[1511,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1511,logseq____&quot;^Vlogseq____&quot;,1521,536870961]],[logseq____&quot;^15logseq____&quot;,[1511,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1511,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-3b7c-4a5b-96e7-561e8ffe485dlogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1512,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`ongoing_http_client_requests`取得先前存放的`invocation`logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1512,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1512,logseq____&quot;^Flogseq____&quot;,1546,536870961]],[logseq____&quot;^15logseq____&quot;,[1512,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1512,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1512,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1512,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-2baa-4d1a-9d60-4853193b004blogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## uprobe_persistConnRoundTriplogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^Flogseq____&quot;,1522,536870961]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870961]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^Jlogseq____&quot;,[],536870961]],[logseq____&quot;^15logseq____&quot;,[1513,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-6878-433c-8f14-39022b606e75logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1514,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*Transport).roundTrip`logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1514,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1514,logseq____&quot;^Flogseq____&quot;,1533,536870961]],[logseq____&quot;^15logseq____&quot;,[1514,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1514,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1514,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1514,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-1f11-49b7-b2f1-f58e5ebb3747logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1515,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;之後的內容與 ((66e54786-26dc-4ef9-bfc7-8a0bd6fc9d9b)) 大同小異logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1515,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1515,logseq____&quot;^Flogseq____&quot;,1527,536870961]],[logseq____&quot;^15logseq____&quot;,[1515,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1515,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1515,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1515,logseq____&quot;^Hlogseq____&quot;,1516,536870961]],[logseq____&quot;^15logseq____&quot;,[1515,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-ff95-4d86-878a-1575794c68e2logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## roundTrip\\nid:: 66e54786-26dc-4ef9-bfc7-8a0bd6fc9d9blogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^Flogseq____&quot;,1525,536870961]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66e54786-26dc-4ef9-bfc7-8a0bd6fc9d9blogseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870961]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870961]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66e54786-26dc-4ef9-bfc7-8a0bd6fc9d9blogseq____&quot;],536870961]],[logseq____&quot;^15logseq____&quot;,[1516,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66e54786-26dc-4ef9-bfc7-8a0bd6fc9d9blogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;最後刪除go routine ID在`ongoing_client_connections`, `ongoing_http_client_requests`及`ongoing_http_client_requests_data`對應的欄位。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^Flogseq____&quot;,1538,536870961]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1517,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-50d0-4b76-b02a-2832f2d9e0fblogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1518,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*Transport).roundTrip`logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1518,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1518,logseq____&quot;^Flogseq____&quot;,1505,536870961]],[logseq____&quot;^15logseq____&quot;,[1518,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1518,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1518,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1518,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-ab26-49a7-a6db-c9504244f337logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (t *Transport) roundTrip(req *Request) (*Response, error)`logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^Flogseq____&quot;,1542,536870961]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^Vlogseq____&quot;,1542,536870961]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1519,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-546b-456b-ba9d-3a14929c6d51logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;接著讀request中的Method，URL，Content Length並更新到`trace`裡面。分別寫`invocation`與`trace`到`ongoing_http_client_requests`與`ongoing_http_client_requests_data`中，也記錄目前的client connection在`ongoing_client_connections`中。\\nid:: 66e54f6a-4faa-422c-aca5-e2fff30fd8dclogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^Flogseq____&quot;,1547,536870961]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66e54f6a-4faa-422c-aca5-e2fff30fd8dclogseq____&quot;],536870961]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870961]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66e54f6a-4faa-422c-aca5-e2fff30fd8dclogseq____&quot;],536870961]],[logseq____&quot;^15logseq____&quot;,[1520,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66e54f6a-4faa-422c-aca5-e2fff30fd8dclogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1521,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1521,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1521,logseq____&quot;^Flogseq____&quot;,1531,536870961]],[logseq____&quot;^15logseq____&quot;,[1521,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1521,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1521,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1521,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a7dd-44c8-8910-99b66d628acblogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n    roundTripStartHelper(ctx);\\n\\n    void *cc_ptr = GO_PARAM1(ctx);\\n\\n    if (cc_ptr) {\\n        bpf_dbg_printk(\\logseq____&quot;cc_ptr %llx, cc_tconn_ptr %llx\\logseq____&quot;, cc_ptr, cc_ptr + cc_tconn_pos);\\n        void *tconn = cc_ptr + cc_tconn_pos;\\n        bpf_probe_read(logseq____&amp;tconn, sizeof(tconn), (void *)(cc_ptr + cc_tconn_pos + 8));\\n        bpf_dbg_printk(\\logseq____&quot;tconn %llx\\logseq____&quot;, tconn);\\n\\n        if (tconn) {\\n            void *tconn_conn = 0;\\n            bpf_probe_read(logseq____&amp;tconn_conn, sizeof(tconn_conn), (void *)(tconn + 8));\\n            bpf_dbg_printk(\\logseq____&quot;tconn_conn %llx\\logseq____&quot;, tconn_conn);\\n\\n            connection_info_t conn = {0};\\n            get_conn_info(tconn_conn, logseq____&amp;conn);\\n\\n            void *goroutine_addr = GOROUTINE_PTR(ctx);\\n            bpf_dbg_printk(\\logseq____&quot;goroutine_addr %lx\\logseq____&quot;, goroutine_addr);    \\n\\n            bpf_map_update_elem(logseq____&amp;ongoing_client_connections, logseq____&amp;goroutine_addr, logseq____&amp;conn, BPF_ANY);\\n        }\\n#ifndef NO_HEADER_PROPAGATION\\n        u32 stream_id = 0;\\n        bpf_probe_read(logseq____&amp;stream_id, sizeof(stream_id), (void *)(cc_ptr + cc_next_stream_id_pos));\\n        \\n        bpf_dbg_printk(\\logseq____&quot;cc_ptr = %llx, nextStreamID=%d\\logseq____&quot;, cc_ptr, stream_id);\\n        if (stream_id) {\\n            void *goroutine_addr = GOROUTINE_PTR(ctx);\\n\\n            bpf_map_update_elem(logseq____&amp;http2_req_map, logseq____&amp;stream_id, logseq____&amp;goroutine_addr, BPF_ANY);\\n        }\\n#endif   \\n```logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Flogseq____&quot;,1543,536870961]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1522,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9558-48a4-99de-3b635d8a88cdlogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*persistConn).roundTrip`logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^Flogseq____&quot;,1540,536870961]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1523,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-6a36-419a-b098-6c0ba764e7b2logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## uprobe_http2RoundTriplogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^Flogseq____&quot;,1517,536870961]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870961]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^Jlogseq____&quot;,[],536870961]],[logseq____&quot;^15logseq____&quot;,[1524,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5f5b-4c7a-99b3-62603f2d76c1logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870961]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^Flogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^:logseq____&quot;,true,536870961]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870961]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870961]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870961]],[logseq____&quot;^15logseq____&quot;,[1525,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-71ec-4ebd-87db-b61f9beddbe6logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`client_trace_parent`會再次呼叫`extract_traceparent_from_req_headers`取得traceparent header的header，並寫到`buf`裡面，而後decode成trace ID以及span ID等。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^Flogseq____&quot;,1547,536870961]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^Vlogseq____&quot;,1547,536870961]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1526,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a5b7-40d5-bcfe-168c1279de44logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1527,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`GO_PARAM1`取得[PersistConn](https://github.com/golang/go/blob/16830ab48abb0cbc702298cafaa69839d0c9f4f9/src/net/http/transport.go#L1920)，並使用`pc_ptr + 8 + pc_conn_pos`取得實作`net.Conn`的[net.TCPConn](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/tcpsock.go#L112)，並用`conn_conn_ptr + rwc_conn_pos`取得`net.conn`。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1527,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1527,logseq____&quot;^Flogseq____&quot;,1512,536870961]],[logseq____&quot;^15logseq____&quot;,[1527,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1527,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1527,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1527,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9055-4ef3-8d1d-1daf4edd6427logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1528,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;直接呼叫`roundTripStartHelper` function。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1528,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1528,logseq____&quot;^Flogseq____&quot;,1536,536870961]],[logseq____&quot;^15logseq____&quot;,[1528,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1528,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1528,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1528,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-836b-477c-bac7-24996f9ffe17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## roundTrip_returnlogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^Flogseq____&quot;,1520,536870961]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870961]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^Jlogseq____&quot;,[],536870961]],[logseq____&quot;^15logseq____&quot;,[1529,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-2913-45e7-bef6-023949804050logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`traceparent`不存在http client的header中，則利用parent goroutine的ID，去`go_trace_map`查先前紀錄的header。如果還是不存在，則創建一個，並寫到`tp_i (tp_info_t)`中。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^Flogseq____&quot;,1526,536870961]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^Vlogseq____&quot;,1547,536870961]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1530,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9f00-41a1-b51b-62ae31f7a48clogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1531,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[roundTrip](https://github.com/golang/net/blob/ec05fdcd71141c885f3fb84c41d1c692f094ccbe/http2/transport.go#L1309)logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1531,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1531,logseq____&quot;^Flogseq____&quot;,1548,536870961]],[logseq____&quot;^15logseq____&quot;,[1531,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1531,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1531,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1531,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-e59a-486b-81e3-31cdb1868aa1logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1532,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[roundTrip](https://github.com/golang/go/blob/16830ab48abb0cbc702298cafaa69839d0c9f4f9/src/net/http/transport.go#L516-L517)logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1532,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1532,logseq____&quot;^Flogseq____&quot;,1514,536870961]],[logseq____&quot;^15logseq____&quot;,[1532,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1532,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1532,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1532,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-39c6-4495-8a5d-4cae4ba326b4logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^Flogseq____&quot;,1516,536870961]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1533,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-68f3-4602-aed5-8fbd59930938logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1534,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;將`conn`更新到`ongoing_client_connections` map。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1534,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1534,logseq____&quot;^Flogseq____&quot;,1504,536870961]],[logseq____&quot;^15logseq____&quot;,[1534,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1534,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1534,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1534,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-19bd-4d55-b18c-71850eefc4e0logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1535,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;首先在 ((66e54786-26dc-4ef9-bfc7-8a0bd6fc9d9b)) 中寫入的 `ongoing_http_client_requests`以及`ongoing_http_client_requests_data`查詢 `invocation`以及`data`。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1535,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1535,logseq____&quot;^Flogseq____&quot;,1539,536870961]],[logseq____&quot;^15logseq____&quot;,[1535,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1535,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1535,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1535,logseq____&quot;^Hlogseq____&quot;,1516,536870961]],[logseq____&quot;^15logseq____&quot;,[1535,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f182-4ddc-9ef0-8b251a5d5422logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1536,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1536,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1536,logseq____&quot;^Flogseq____&quot;,1532,536870961]],[logseq____&quot;^15logseq____&quot;,[1536,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1536,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1536,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1536,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0579-416c-afa8-aed7e08bdd4blogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1537,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`extract_traceparent_from_req_headers`可以參考 ((6637505e-eb41-47cc-a463-eea0c9b0f970))。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1537,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1537,logseq____&quot;^Flogseq____&quot;,1526,536870961]],[logseq____&quot;^15logseq____&quot;,[1537,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1537,logseq____&quot;^Vlogseq____&quot;,1526,536870961]],[logseq____&quot;^15logseq____&quot;,[1537,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1537,logseq____&quot;^Hlogseq____&quot;,1498,536870961]],[logseq____&quot;^15logseq____&quot;,[1537,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-b93a-4052-b782-2124d12c11e4logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1538,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;另外使用`GO_PARAM1`讀第一個function return type `*Response`，讀他的`status`並寫到`trace`中。同時將`invocation-logseq____&gt;tp`也寫到`trace-logseq____&gt;tp`中，最後送給ringbuffer。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1538,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1538,logseq____&quot;^Flogseq____&quot;,1545,536870961]],[logseq____&quot;^15logseq____&quot;,[1538,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1538,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1538,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1538,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-e432-4639-b8a2-9cd2020a05e6logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;雖然是golang function的return，照理應該用uretprobe，但是[golang尚不支援uretprobe]([Go crash with uretprobe · Issue #1320 · iovisor/bcc (github.com)](https://github.com/iovisor/bcc/issues/1320#issuecomment-407927542))。替代方法是使用uprobe，並找到function中每一個return的address，插入uprobe。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^Flogseq____&quot;,1542,536870961]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1539,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-da5d-4ced-bdbd-da313a782da0logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1540,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1540,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1540,logseq____&quot;^Flogseq____&quot;,1513,536870961]],[logseq____&quot;^15logseq____&quot;,[1540,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1540,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1540,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1540,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-65b9-4692-ae85-68e8012bb097logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1541,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (t *Transport) roundTrip(req *Request) (*Response, error)`logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1541,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1541,logseq____&quot;^Flogseq____&quot;,1536,536870961]],[logseq____&quot;^15logseq____&quot;,[1541,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1541,logseq____&quot;^Vlogseq____&quot;,1536,536870961]],[logseq____&quot;^15logseq____&quot;,[1541,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1541,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-2a49-4a1a-ae6d-8e52595355b4logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1542,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1542,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1542,logseq____&quot;^Flogseq____&quot;,1510,536870961]],[logseq____&quot;^15logseq____&quot;,[1542,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1542,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1542,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1542,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-6337-41fe-bddb-4c875f5e22f5logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1543,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;另外有使用`cc_ptr + cc_next_stream_id_pos`取得[nextStreamID](https://github.com/golang/net/blob/ec05fdcd71141c885f3fb84c41d1c692f094ccbe/http2/transport.go#L328)，並記錄在`http2_req_map`裡。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1543,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1543,logseq____&quot;^Flogseq____&quot;,1534,536870961]],[logseq____&quot;^15logseq____&quot;,[1543,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1543,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1543,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1543,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-ee3a-45df-b458-62d2edabfe64logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1544,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`GO_PARAM1`取得`RoundTrip` method的`cc *ClientConn` receiver，型態是[ClientConn](https://github.com/golang/net/blob/ec05fdcd71141c885f3fb84c41d1c692f094ccbe/http2/transport.go#L300)。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1544,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1544,logseq____&quot;^Flogseq____&quot;,1503,536870961]],[logseq____&quot;^15logseq____&quot;,[1544,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1544,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1544,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1544,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-42a4-4138-a1b9-eebdac93e91clogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在ringbuffer預留`http_request_trace`空間的`trace`，並把`data`以及`invocation`中紀錄的資訊寫到`trace`中。在`ongoing_client_connections`查詢先前紀錄的client connection，如果存在，則寫入`trace-logseq____&gt;conn`中。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^Flogseq____&quot;,1535,536870961]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1545,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-3ade-4094-9fd3-dd798613b70dlogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^Flogseq____&quot;,1508,536870961]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1546,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-92e3-4e9f-a756-5c4492e1b96dlogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1547,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;呼叫`client_trace_parent`在`req`中的Header中查詢traceparent相關的header，並寫到`incovation.tp`裡面。logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1547,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1547,logseq____&quot;^Flogseq____&quot;,1509,536870961]],[logseq____&quot;^15logseq____&quot;,[1547,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1547,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1547,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1547,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-3ea5-4a45-a93f-30dd796fb64alogseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1548,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`golang.org/x/net/http2.(*ClientConn).roundTrip`logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1548,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1548,logseq____&quot;^Flogseq____&quot;,1506,536870961]],[logseq____&quot;^15logseq____&quot;,[1548,logseq____&quot;^Xlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1548,logseq____&quot;^Vlogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1548,logseq____&quot;^Ulogseq____&quot;,1447,536870961]],[logseq____&quot;^15logseq____&quot;,[1548,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9003-41f2-a662-a061a5ba6560logseq____&quot;,536870961]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;type (1 byte)\\nlogseq.order-list-type:: numberlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^Flogseq____&quot;,1571,536870962]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^Vlogseq____&quot;,1571,536870962]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;~:logseq.order-list-typelogseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1logseq____&lt;logseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1550,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-3bb0-492d-b4b8-79e19d5a1b7elogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870962]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^Flogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^:logseq____&quot;,true,536870962]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870962]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1551,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a41e-4826-bbb2-87ab5746cb6blogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1552,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1552,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1552,logseq____&quot;^Flogseq____&quot;,1597,536870962]],[logseq____&quot;^15logseq____&quot;,[1552,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1552,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1552,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1552,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-99ec-404d-ae3a-cffd5e94fc57logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# golang example\\nid:: 66e6f150-bd0f-4908-a65d-c94c2d3ecc58logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^Flogseq____&quot;,2046,536870975]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66e6f150-bd0f-4908-a65d-c94c2d3ecc58logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870975]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66e6f150-bd0f-4908-a65d-c94c2d3ecc58logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[1553,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66e6f150-bd0f-4908-a65d-c94c2d3ecc58logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n    bpf_dbg_printk(\\logseq____&quot;=== uprobe/proc header writeSubset === \\logseq____&quot;);\\n\\n    void *header_addr = GO_PARAM1(ctx);\\n    void *io_writer_addr = GO_PARAM3(ctx);\\n\\n    bpf_dbg_printk(\\logseq____&quot;goroutine_addr %lx, header ptr %llx\\logseq____&quot;, GOROUTINE_PTR(ctx), header_addr);\\n\\n    u64 *request_goaddr = bpf_map_lookup_elem(logseq____&amp;header_req_map, logseq____&amp;header_addr);\\n\\n    if (!request_goaddr) {\\n        bpf_dbg_printk(\\logseq____&quot;Canlogseq____&apos;t find parent go routine for header %llx\\logseq____&quot;, header_addr);\\n        return 0;\\n    }\\n\\n    u64 parent_goaddr = *request_goaddr;\\n\\n    http_func_invocation_t *func_inv = bpf_map_lookup_elem(logseq____&amp;ongoing_http_client_requests, logseq____&amp;parent_goaddr);\\n    if (!func_inv) {\\n        bpf_dbg_printk(\\logseq____&quot;Canlogseq____&apos;t find client request for goroutine %llx\\logseq____&quot;, parent_goaddr);\\n        goto done;\\n    }\\n```logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^Flogseq____&quot;,1565,536870962]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1554,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a02f-430b-a714-e1091561ba02logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1555,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (h Header) writeSubset(w io.Writer, exclude map[string]bool, trace *httptrace.ClientTrace) error`logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1555,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1555,logseq____&quot;^Flogseq____&quot;,1567,536870962]],[logseq____&quot;^15logseq____&quot;,[1555,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1555,logseq____&quot;^Vlogseq____&quot;,1567,536870962]],[logseq____&quot;^15logseq____&quot;,[1555,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1555,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0b0b-43bb-b6b5-a48fc394962blogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`stream_lookup`在`http2_req_map`去查go routine的位址，這個map會在`http2RoundTrip`被更新，也就是有任何的http2 client呼叫都會被更新。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^Flogseq____&quot;,1564,536870962]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1556,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a826-409f-bb90-b341d9f38a5dlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;value literal (55 bytes)\\nlogseq.order-list-type:: numberlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^Flogseq____&quot;,1594,536870962]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^Vlogseq____&quot;,1571,536870962]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1logseq____&lt;logseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1557,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-33ce-4454-abe7-27f5220a8ceblogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1558,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`golang.org/x/net/http2.(*Framer).WriteHeaders`logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1558,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1558,logseq____&quot;^Flogseq____&quot;,1589,536870962]],[logseq____&quot;^15logseq____&quot;,[1558,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1558,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1558,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1558,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d8f9-450a-8013-defb6e437853logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1559,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (f *Framer) WriteHeaders(p HeadersFrameParam) error`logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1559,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1559,logseq____&quot;^Flogseq____&quot;,1563,536870962]],[logseq____&quot;^15logseq____&quot;,[1559,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1559,logseq____&quot;^Vlogseq____&quot;,1563,536870962]],[logseq____&quot;^15logseq____&quot;,[1559,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1559,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-b4b0-4275-a536-407aba88fda8logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1560,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[WriteHeaders](https://github.com/grafana/beyla/blob/77a6758fa2f461fbc85fdf0c4c09d751dd836a8b/vendor/golang.org/x/net/http2/frame.go#L1097)logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1560,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1560,logseq____&quot;^Flogseq____&quot;,1558,536870962]],[logseq____&quot;^15logseq____&quot;,[1560,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1560,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1560,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1560,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7538-48d8-9dfe-c30900a3558alogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;利用`w_ptr + io_writer_buf_ptr_pos`讀入`buf` array；`w_ptr + io_writer_n_pos`讀入`n`；`w_ptr + io_writer_buf_ptr_pos + 16`讀入`buf`的capability。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^Flogseq____&quot;,1587,536870962]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1561,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f6f7-451d-9801-aeeb70a5372alogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1562,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.Header.writeSubset`logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1562,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1562,logseq____&quot;^Flogseq____&quot;,1552,536870962]],[logseq____&quot;^15logseq____&quot;,[1562,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1562,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1562,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1562,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9298-40cd-b07d-44a79f201aeblogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1563,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1563,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1563,logseq____&quot;^Flogseq____&quot;,1591,536870962]],[logseq____&quot;^15logseq____&quot;,[1563,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1563,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1563,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1563,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a8a0-4350-9c6b-d0fdee6df615logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`GO_PARAM1`取得`Framer` pointer receiver；使用`GO_PARAM2`取得`HeadersFrameParam` struct，因為[StreamID](https://github.com/grafana/beyla/blob/77a6758fa2f461fbc85fdf0c4c09d751dd836a8b/vendor/golang.org/x/net/http2/frame.go#L1065)是`HeadersFrameParam`第一個member，所以它的位址也是`StreamID`的位址 [[Beyla/Assertion]]。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^Flogseq____&quot;,1563,536870962]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^Ulogseq____&quot;,1359,536870962]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^Ulogseq____&quot;,1463,536870962]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^Hlogseq____&quot;,1359,536870962]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^Hlogseq____&quot;,1463,536870962]],[logseq____&quot;^15logseq____&quot;,[1564,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f063-4e31-b566-f07bbc9314bdlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`GO_PARAM1`去取得`Header` receiver的位址：使用`GO_PARAM3`去取得實現[io.Writer](https://pkg.go.dev/io#Writer)的struct，即是[bufio.Writer](https://github.com/golang/go/blob/cf97cd317be0d5fc1fa7b861f143060d7fd9b361/src/bufio/bufio.go#L576)。使用`header_req_map`去查到`request_goaddr`，進而使用`request_goaddr`去找到`func_inv`。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^Flogseq____&quot;,1567,536870962]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1565,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-fde5-441c-8bf1-aee5c55de9b9logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1566,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;golang在實作http2時，保留`wbuf`前三個bytes當作header的長度，可以參考[這裡](https://github.com/grafana/beyla/blob/77a6758fa2f461fbc85fdf0c4c09d751dd836a8b/vendor/golang.org/x/net/http2/frame.go#L363)。這邊也要將新的header size更新回去，長度表示是8進位。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1566,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1566,logseq____&quot;^Flogseq____&quot;,1590,536870962]],[logseq____&quot;^15logseq____&quot;,[1566,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1566,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1566,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1566,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-07f4-49c1-95ff-82a2514d7538logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1567,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1567,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1567,logseq____&quot;^Flogseq____&quot;,1585,536870962]],[logseq____&quot;^15logseq____&quot;,[1567,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1567,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1567,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1567,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-fe91-4683-8949-bdba42503812logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;key length (1 byte，最高位元如果是1，代表是Huffman Encoded)\\nlogseq.order-list-type:: numberlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^Flogseq____&quot;,1550,536870962]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^Vlogseq____&quot;,1571,536870962]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1logseq____&lt;logseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1568,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-df89-42bd-9140-09053095d800logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1569,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`golang.org/x/net/http2.(*Framer).WriteHeaders`logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1569,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1569,logseq____&quot;^Flogseq____&quot;,1577,536870962]],[logseq____&quot;^15logseq____&quot;,[1569,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1569,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1569,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1569,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9ff1-4849-a921-9491fd2cdf60logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1570,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\nSEC(\\logseq____&quot;uprobe/http2FramerWriteHeaders_returns\\logseq____&quot;)\\nint uprobe_http2FramerWriteHeaders_returns(struct pt_regs *ctx) {\\n    bpf_dbg_printk(\\logseq____&quot;=== uprobe/proc http2 Framer writeHeaders returns === \\logseq____&quot;);\\n\\n    void *goroutine_addr = GOROUTINE_PTR(ctx);\\n\\n    framer_func_invocation_t *f_info = bpf_map_lookup_elem(logseq____&amp;framer_invocation_map, logseq____&amp;goroutine_addr);\\n\\n    if (f_info) {\\n        void *w_ptr = 0;\\n        bpf_probe_read(logseq____&amp;w_ptr, sizeof(w_ptr), (void *)(f_info-logseq____&gt;framer_ptr + framer_w_pos + 8));\\n\\n        if (w_ptr) {\\n            void *buf_arr = 0;\\n            s64 n = 0;\\n            s64 cap = 0;\\n            s64 initial_n = f_info-logseq____&gt;initial_n;\\n            bpf_probe_read(logseq____&amp;buf_arr, sizeof(buf_arr), (void *)(w_ptr + io_writer_buf_ptr_pos));\\n            bpf_probe_read(logseq____&amp;n, sizeof(n), (void *)(w_ptr + io_writer_n_pos));\\n            bpf_probe_read(logseq____&amp;cap, sizeof(cap), (void *)(w_ptr + io_writer_buf_ptr_pos + 16));\\n\\n            bpf_clamp_umax(initial_n, MAX_W_PTR_N);\\n```logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1570,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1570,logseq____&quot;^Flogseq____&quot;,1561,536870962]],[logseq____&quot;^15logseq____&quot;,[1570,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1570,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1570,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1570,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5044-41a3-9829-f0c054462539logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1571,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;HPACK寫入順序是logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1571,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1571,logseq____&quot;^Flogseq____&quot;,1572,536870962]],[logseq____&quot;^15logseq____&quot;,[1571,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1571,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1571,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1571,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-56d5-44f2-8d28-daa0e0540e70logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1572,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果目前`buf`的size (`n`)加上encoded過後的`traceparent`後(長度為66)，則寫入`traceparent` header。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1572,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1572,logseq____&quot;^Flogseq____&quot;,1570,536870962]],[logseq____&quot;^15logseq____&quot;,[1572,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1572,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1572,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1572,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9e0d-4893-a509-a7b05b8031a6logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1573,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n            if (buf_arr logseq____&amp;logseq____&amp; n logseq____&lt; (cap - HTTP2_ENCODED_HEADER_LEN)) {\\n                uint8_t tp_str[TP_MAX_VAL_LENGTH];\\n\\n                u8 type_byte = 0;\\n                u8 key_len = TP_ENCODED_LEN | 0x80; // high tagged to signify hpack encoded value\\n                u8 val_len = TP_MAX_VAL_LENGTH;\\n\\n                // We donlogseq____&apos;t hpack encode the value of the traceparent field, because that will require that \\n                // we use bpf_loop, which in turn increases the kernel requirement to 5.17+.\\n                make_tp_string(tp_str, logseq____&amp;f_info-logseq____&gt;tp);\\n                bpf_dbg_printk(\\logseq____&quot;Will write %s, type = %d, key_len = %d, val_len = %d\\logseq____&quot;, tp_str, type_byte, key_len, val_len);\\n\\n                bpf_probe_write_user(buf_arr + (n logseq____&amp; 0x0ffff), logseq____&amp;type_byte, sizeof(type_byte));                        \\n                n++;\\n                // Write the length of the key = 8\\n                bpf_probe_write_user(buf_arr + (n logseq____&amp; 0x0ffff), logseq____&amp;key_len, sizeof(key_len));\\n                n++;\\n                // Write logseq____&apos;traceparentlogseq____&apos; encoded as hpack\\n                bpf_probe_write_user(buf_arr + (n logseq____&amp; 0x0ffff), tp_encoded, sizeof(tp_encoded));;\\n                n += TP_ENCODED_LEN;\\n                // Write the length of the hpack encoded traceparent field \\n                bpf_probe_write_user(buf_arr + (n logseq____&amp; 0x0ffff), logseq____&amp;val_len, sizeof(val_len));\\n                n++;\\n                bpf_probe_write_user(buf_arr + (n logseq____&amp; 0x0ffff), tp_str, sizeof(tp_str));\\n                n += TP_MAX_VAL_LENGTH;\\n                // Update the value of n in w to reflect the new size\\n                bpf_probe_write_user((void *)(w_ptr + io_writer_n_pos), logseq____&amp;n, sizeof(n));\\n\\n                // http2 encodes the length of the headers in the first 3 bytes of buf, we need to update those\\n                u8 size_1 = 0;\\n                u8 size_2 = 0;\\n                u8 size_3 = 0;\\n\\n                bpf_probe_read(logseq____&amp;size_1, sizeof(size_1), (void *)(buf_arr + initial_n));\\n                bpf_probe_read(logseq____&amp;size_2, sizeof(size_2), (void *)(buf_arr + initial_n + 1));\\n                bpf_probe_read(logseq____&amp;size_3, sizeof(size_3), (void *)(buf_arr + initial_n + 2));\\n\\n                bpf_dbg_printk(\\logseq____&quot;size 1:%x, 2:%x, 3:%x\\logseq____&quot;, size_1, size_2, size_3);\\n\\n                u32 original_size = ((u32)(size_1) logseq____&lt;logseq____&lt; 16) | ((u32)(size_2) logseq____&lt;logseq____&lt; 8) | size_3;\\n                u32 new_size = original_size + HTTP2_ENCODED_HEADER_LEN;\\n\\n                bpf_dbg_printk(\\logseq____&quot;Changing size from %d to %d\\logseq____&quot;, original_size, new_size);\\n                size_1 = (u8)(new_size logseq____&gt;logseq____&gt; 16);\\n                size_2 = (u8)(new_size logseq____&gt;logseq____&gt; 8);\\n                size_3 = (u8)(new_size);\\n\\n                bpf_probe_write_user((void *)(buf_arr + initial_n), logseq____&amp;size_1, sizeof(size_1));\\n                bpf_probe_write_user((void *)(buf_arr + initial_n +1), logseq____&amp;size_2, sizeof(size_2));\\n                bpf_probe_write_user((void *)(buf_arr + initial_n + 2), logseq____&amp;size_3, sizeof(size_3));\\n            }\\n```logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1573,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1573,logseq____&quot;^Flogseq____&quot;,1566,536870962]],[logseq____&quot;^15logseq____&quot;,[1573,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1573,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1573,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1573,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-fe98-4e16-8071-7cf003fb0be3logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1574,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用go routine位址去查`http_func_invocation_t`。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1574,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1574,logseq____&quot;^Flogseq____&quot;,1556,536870962]],[logseq____&quot;^15logseq____&quot;,[1574,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1574,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1574,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1574,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-abdb-4ed4-a79c-707878f0664blogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n    void *framer = GO_PARAM1(ctx);\\n    u64 stream_id = (u64)GO_PARAM2(ctx);\\n\\n    bpf_printk(\\logseq____&quot;framer=%llx, stream_id=%lld\\logseq____&quot;, framer, ((u64)stream_id));\\n\\n    u32 stream_lookup = (u32)stream_id;\\n\\n    void **go_ptr = bpf_map_lookup_elem(logseq____&amp;http2_req_map, logseq____&amp;stream_lookup);\\n\\n    if (go_ptr) {\\n        void *go_addr = *go_ptr;\\n        bpf_dbg_printk(\\logseq____&quot;Found existing stream data goaddr = %llx\\logseq____&quot;, go_addr);\\n\\n        http_func_invocation_t *info = bpf_map_lookup_elem(logseq____&amp;ongoing_http_client_requests, logseq____&amp;go_addr);\\n\\n        if (info) {\\n            bpf_dbg_printk(\\logseq____&quot;Found func info %llx\\logseq____&quot;, info);\\n            void *goroutine_addr = GOROUTINE_PTR(ctx);\\n```logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^Flogseq____&quot;,1574,536870962]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1575,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5450-43b5-a612-e498e30991a1logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n            void *w_ptr = 0;\\n            bpf_probe_read(logseq____&amp;w_ptr, sizeof(w_ptr), (void *)(framer + framer_w_pos + 8));\\n            if (w_ptr) {\\n                s64 n = 0;\\n                bpf_probe_read(logseq____&amp;n, sizeof(n), (void *)(w_ptr + io_writer_n_pos));\\n\\n                bpf_dbg_printk(\\logseq____&quot;Found initial n = %d\\logseq____&quot;, n);\\n\\n                // The offset is 0 on all connections welogseq____&apos;ve tested with.\\n                // If we read some very large offset, we donlogseq____&apos;t do anything since it might be a situation\\n                // we canlogseq____&apos;t handle.\\n                if (n logseq____&lt; MAX_W_PTR_N) {\\n                    framer_func_invocation_t f_info = {\\n                        .tp = info-logseq____&gt;tp,\\n                        .framer_ptr = (u64)framer,\\n                        .initial_n = n,\\n                    };\\n\\n                    bpf_map_update_elem(logseq____&amp;framer_invocation_map, logseq____&amp;goroutine_addr, logseq____&amp;f_info, BPF_ANY);\\n                } else {\\n                   bpf_dbg_printk(\\logseq____&quot;N too large, ignoring...\\logseq____&quot;);\\n                }\\n```logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^Flogseq____&quot;,1588,536870962]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1576,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-2b45-4319-82c7-5bd85f81a618logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^Flogseq____&quot;,1581,536870962]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1577,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-3a15-419c-8f4f-39dcd8e0533flogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1578,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (f *Framer) WriteHeaders(p HeadersFrameParam) error`logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1578,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1578,logseq____&quot;^Flogseq____&quot;,1580,536870962]],[logseq____&quot;^15logseq____&quot;,[1578,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1578,logseq____&quot;^Vlogseq____&quot;,1580,536870962]],[logseq____&quot;^15logseq____&quot;,[1578,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1578,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f089-4f6e-9670-2bc1e3c63443logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1579,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;分別讀[bufio.Writer](https://github.com/golang/go/blob/cf97cd317be0d5fc1fa7b861f143060d7fd9b361/src/bufio/bufio.go#L576)的`buf` array的pointer以及size。另外讀`n` member，也就是length。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1579,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1579,logseq____&quot;^Flogseq____&quot;,1595,536870962]],[logseq____&quot;^15logseq____&quot;,[1579,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1579,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1579,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1579,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-e574-4df4-8664-f72df50609e2logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1580,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1580,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1580,logseq____&quot;^Flogseq____&quot;,1560,536870962]],[logseq____&quot;^15logseq____&quot;,[1580,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1580,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1580,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1580,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-1c20-4a59-b14e-f8061d6b1128logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## http2FramerWriteHeaderslogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^Flogseq____&quot;,1586,536870962]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870962]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^Jlogseq____&quot;,[],536870962]],[logseq____&quot;^15logseq____&quot;,[1581,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-624e-4e4f-a28d-3244f5e8c516logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1582,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;利用`framer + framer_w_pos`是取得在Framer的[w](https://github.com/grafana/beyla/blob/77a6758fa2f461fbc85fdf0c4c09d751dd836a8b/vendor/golang.org/x/net/http2/frame.go#L290)的interface，而`framer + framer_w_pos + 8`取得實作`io.Writer` interface的struct，也就是[bufio.Writer](https://github.com/golang/go/blob/cf97cd317be0d5fc1fa7b861f143060d7fd9b361/src/bufio/bufio.go#L576)。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1582,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1582,logseq____&quot;^Flogseq____&quot;,1575,536870962]],[logseq____&quot;^15logseq____&quot;,[1582,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1582,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1582,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1582,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-08fc-4b7e-b690-b6b485d448calogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;利用`w_ptr + io_writer_n_pos`讀入[n](https://github.com/golang/go/blob/cf97cd317be0d5fc1fa7b861f143060d7fd9b361/src/bufio/bufio.go#L579)。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^Flogseq____&quot;,1582,536870962]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1583,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-182a-4bb8-b3ab-2b9e59c3571blogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;key literal (8 bytes，encoded過後的`traceparent`，參考 ((66e6f150-bd0f-4908-a65d-c94c2d3ecc58)) )\\nlogseq.order-list-type:: numberlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^Flogseq____&quot;,1568,536870962]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^Vlogseq____&quot;,1571,536870962]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1logseq____&lt;logseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^Hlogseq____&quot;,1553,536870962]],[logseq____&quot;^15logseq____&quot;,[1584,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-52f8-4698-9617-fae5428a7e9elogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1585,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[roundTrip](https://github.com/golang/go/blob/16830ab48abb0cbc702298cafaa69839d0c9f4f9/src/net/http/transport.go#L516-L517)logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1585,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1585,logseq____&quot;^Flogseq____&quot;,1562,536870962]],[logseq____&quot;^15logseq____&quot;,[1585,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1585,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1585,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1585,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-01cc-4c2a-9f19-6c4940b36023logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n    unsigned char buf[TRACEPARENT_LEN];\\n\\n    make_tp_string(buf, logseq____&amp;func_inv-logseq____&gt;tp);\\n\\n    void *buf_ptr = 0;\\n    bpf_probe_read(logseq____&amp;buf_ptr, sizeof(buf_ptr), (void *)(io_writer_addr + io_writer_buf_ptr_pos));\\n    if (!buf_ptr) {\\n        goto done;\\n    }\\n    \\n    s64 size = 0;\\n    bpf_probe_read(logseq____&amp;size, sizeof(s64), (void *)(io_writer_addr + io_writer_buf_ptr_pos + 8)); // grab size\\n\\n    s64 len = 0;\\n    bpf_probe_read(logseq____&amp;len, sizeof(s64), (void *)(io_writer_addr + io_writer_n_pos)); // grab len\\n\\n    bpf_dbg_printk(\\logseq____&quot;buf_ptr %llx, len=%d, size=%d\\logseq____&quot;, (void*)buf_ptr, len, size);\\n\\n    if (len logseq____&lt; (size - TP_MAX_VAL_LENGTH - TP_MAX_KEY_LENGTH - 4)) { // 4 = strlen(\\logseq____&quot;:_\\logseq____&quot;) + strlen(\\logseq____&quot;\\\\r\\\\n\\logseq____&quot;)\\n        char key[TP_MAX_KEY_LENGTH + 2] = \\logseq____&quot;Traceparent: \\logseq____&quot;;\\n        char end[2] = \\logseq____&quot;\\\\r\\\\n\\logseq____&quot;;\\n        bpf_probe_write_user(buf_ptr + (len logseq____&amp; 0x0ffff), key, sizeof(key));\\n        len += TP_MAX_KEY_LENGTH + 2;\\n        bpf_probe_write_user(buf_ptr + (len logseq____&amp; 0x0ffff), buf, sizeof(buf));\\n        len += TP_MAX_VAL_LENGTH;\\n        bpf_probe_write_user(buf_ptr + (len logseq____&amp; 0x0ffff), end, sizeof(end));\\n        len += 2;\\n        bpf_probe_write_user((void *)(io_writer_addr + io_writer_n_pos), logseq____&amp;len, sizeof(len));\\n    }\\n\\ndone:\\n    bpf_map_delete_elem(logseq____&amp;header_req_map, logseq____&amp;header_addr);\\n    return 0;\\n\\n```logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^Flogseq____&quot;,1593,536870962]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1586,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d2ca-4c54-a719-97521a152604logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1587,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`framer_invocation_map`取得`framer_func_invocation_t`之後，利用`f_info-logseq____&gt;framer_ptr + framer_w_pos + 8 `取得實作`io.Writer` interface的struct，也就是[bufio.Writer](https://github.com/golang/go/blob/cf97cd317be0d5fc1fa7b861f143060d7fd9b361/src/bufio/bufio.go#L576)。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1587,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1587,logseq____&quot;^Flogseq____&quot;,1580,536870962]],[logseq____&quot;^15logseq____&quot;,[1587,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1587,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1587,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1587,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-6a50-4895-8c4c-2b5999807f88logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;將`tp`, `n`, `framer`位址紀錄在`framer_invocation_map`中。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^Flogseq____&quot;,1583,536870962]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1588,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0607-48db-9fba-5f0e3ce31d9elogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^Flogseq____&quot;,1592,536870962]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1589,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-2d69-4522-9041-d1e146297664logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1590,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;寫入`traceparent` header之後，更新 `bufio.Writer`的`n` member。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1590,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1590,logseq____&quot;^Flogseq____&quot;,1571,536870962]],[logseq____&quot;^15logseq____&quot;,[1590,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1590,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1590,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1590,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d5fb-438d-a361-dded01b6b4c3logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[WriteHeaders](https://github.com/grafana/beyla/blob/77a6758fa2f461fbc85fdf0c4c09d751dd836a8b/vendor/golang.org/x/net/http2/frame.go#L1097)logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^Flogseq____&quot;,1569,536870962]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1591,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-03d1-40c7-a4df-778c9d58cbaelogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## http2FramerWriteHeaders_returnslogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^Flogseq____&quot;,1576,536870962]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870962]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^Jlogseq____&quot;,[],536870962]],[logseq____&quot;^15logseq____&quot;,[1592,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0759-4725-b244-a389ce557441logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1593,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果目前的length加上traceparent的key, value以及`: `+`\\\\r\\\\n`之後小於buf的size。則利用`bpf_probe_write_user`將traceparent header寫入[bufio.Writer](https://github.com/golang/go/blob/cf97cd317be0d5fc1fa7b861f143060d7fd9b361/src/bufio/bufio.go#L576)的`buf`，並更新`n` member。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1593,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1593,logseq____&quot;^Flogseq____&quot;,1579,536870962]],[logseq____&quot;^15logseq____&quot;,[1593,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1593,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1593,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1593,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d72c-410f-8ff4-79d1776ea0a2logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;value length (1 byte，不啟用Huffman Encoded)\\nlogseq.order-list-type:: numberlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^Flogseq____&quot;,1584,536870962]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^Vlogseq____&quot;,1571,536870962]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1logseq____&lt;logseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1logseq____&lt;logseq____&quot;,logseq____&quot;numberlogseq____&quot;],536870962]],[logseq____&quot;^15logseq____&quot;,[1594,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-43da-415f-95a1-f267882ff870logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1595,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`make_tp_string`將`func_inv-logseq____&gt;tp`的內容寫入`buf`。logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1595,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1595,logseq____&quot;^Flogseq____&quot;,1554,536870962]],[logseq____&quot;^15logseq____&quot;,[1595,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1595,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1595,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1595,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-2c0a-41d9-adef-acba650d7797logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1596,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; A slice is a descriptor of an array segment. It consists of a pointer to the array, the length of the segment, and its capacity (the maximum length of the segment). [ref](https://go.dev/blog/slices-intro)logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1596,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1596,logseq____&quot;^Flogseq____&quot;,1561,536870962]],[logseq____&quot;^15logseq____&quot;,[1596,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1596,logseq____&quot;^Vlogseq____&quot;,1561,536870962]],[logseq____&quot;^15logseq____&quot;,[1596,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1596,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-691e-401d-b148-a63881eb4430logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## header_writeSubsetlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^Flogseq____&quot;,1551,536870962]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^Xlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^Vlogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^Ulogseq____&quot;,1448,536870962]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870962]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^Jlogseq____&quot;,[],536870962]],[logseq____&quot;^15logseq____&quot;,[1597,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-e4f7-46e9-af11-a71ea69e2f4dlogseq____&quot;,536870962]],[logseq____&quot;^15logseq____&quot;,[1599,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[net.(*netFD).Read, POSIX read](https://github.com/golang/go/blob/42f9ee904caf6681ee32e7b048f15ab7cddf3eb3/src/net/fd_posix.go#L65)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1599,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1599,logseq____&quot;^Flogseq____&quot;,1716,536870963]],[logseq____&quot;^15logseq____&quot;,[1599,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1599,logseq____&quot;^Vlogseq____&quot;,1716,536870963]],[logseq____&quot;^15logseq____&quot;,[1599,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1599,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0ad4-40fb-9d8e-3c065dc47211logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1600,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*http2serverConn).runHandler`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1600,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1600,logseq____&quot;^Flogseq____&quot;,1620,536870963]],[logseq____&quot;^15logseq____&quot;,[1600,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1600,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1600,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1600,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7309-4e93-a503-95f9bf619966logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Flogseq____&quot;,1670,536870963]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1601,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-385f-4279-ae31-913569447b42logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^Flogseq____&quot;,1661,536870963]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1602,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-3f5a-4624-a56e-3ef66f4701d3logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## HTTP1logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^Flogseq____&quot;,1602,536870963]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870963]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^Jlogseq____&quot;,[],536870963]],[logseq____&quot;^15logseq____&quot;,[1603,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7110-493e-95e4-a615624fd55clogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1604,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`net/http.(*http2serverConn).runHandler`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1604,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1604,logseq____&quot;^Flogseq____&quot;,1679,536870963]],[logseq____&quot;^15logseq____&quot;,[1604,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1604,logseq____&quot;^Vlogseq____&quot;,1679,536870963]],[logseq____&quot;^15logseq____&quot;,[1604,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1604,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-4653-46a1-b85d-8954eccd867flogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1605,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[readRequest(c.bufr)](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L1004)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1605,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1605,logseq____&quot;^Flogseq____&quot;,1718,536870963]],[logseq____&quot;^15logseq____&quot;,[1605,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1605,logseq____&quot;^Vlogseq____&quot;,1718,536870963]],[logseq____&quot;^15logseq____&quot;,[1605,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1605,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-aad4-4aad-87ad-522337fb03adlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1606,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;context.Contextlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1606,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1606,logseq____&quot;^Flogseq____&quot;,1607,536870963]],[logseq____&quot;^15logseq____&quot;,[1606,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1606,logseq____&quot;^Vlogseq____&quot;,1626,536870963]],[logseq____&quot;^15logseq____&quot;,[1606,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1606,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d3ef-4e57-85e1-82bda69a29b8logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1607,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;receiver:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1607,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1607,logseq____&quot;^Flogseq____&quot;,1626,536870963]],[logseq____&quot;^15logseq____&quot;,[1607,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1607,logseq____&quot;^Vlogseq____&quot;,1626,536870963]],[logseq____&quot;^15logseq____&quot;,[1607,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1607,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-8692-40f0-8c71-eb6d1558148elogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1608,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*conn).serve`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1608,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1608,logseq____&quot;^Flogseq____&quot;,1624,536870963]],[logseq____&quot;^15logseq____&quot;,[1608,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1608,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1608,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1608,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d43c-48e8-b05a-187cb7d05212logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[Set request body reader](https://github.com/golang/go/blob/6425749695130f2032ac9cfdf5407b6a322534db/src/net/http/transfer.go#L563-L583)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^Flogseq____&quot;,1633,536870963]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^Vlogseq____&quot;,1633,536870963]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1609,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5513-4be6-885c-d621b589f9f3logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1610,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;建立`invocation` struct，將`resp` pointer的address存入`invocation.response`裡。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1610,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1610,logseq____&quot;^Flogseq____&quot;,1725,536870963]],[logseq____&quot;^15logseq____&quot;,[1610,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1610,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1610,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1610,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-2b53-4ec3-90fd-6629ab62fedclogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n/* HTTP Server */\\n\\n// This instrumentation attaches uprobe to the following function:\\n// func (mux *ServeMux) ServeHTTP(w ResponseWriter, r *Request)\\n// or other functions sharing the same signature (e.g http.Handler.ServeHTTP)\\nSEC(\\logseq____&quot;uprobe/ServeHTTP\\logseq____&quot;)\\nint uprobe_ServeHTTP(struct pt_regs *ctx) {\\n    bpf_dbg_printk(\\logseq____&quot;=== uprobe/ServeHTTP === \\logseq____&quot;);\\n    void *goroutine_addr = GOROUTINE_PTR(ctx);\\n    bpf_dbg_printk(\\logseq____&quot;goroutine_addr %lx\\logseq____&quot;, goroutine_addr);\\n\\n    void *req = GO_PARAM4(ctx);\\n\\n    server_http_func_invocation_t invocation = {\\n        .start_monotime_ns = bpf_ktime_get_ns(),\\n        .tp = {0},\\n        .status = 0,\\n        .content_length = 0,\\n    };\\n\\n    invocation.method[0] = 0;\\n    invocation.path[0] = 0;\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^Flogseq____&quot;,1610,536870963]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1611,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a596-4063-8702-db6ee9880c78logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1612,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;與 ((66df3711-3158-4373-8ba4-8bc5074a1ca1)) 一樣，使用 `get_conn_info`取得 `conn`，並更新到 `ongoing_server_connections`。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1612,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1612,logseq____&quot;^Flogseq____&quot;,1667,536870963]],[logseq____&quot;^15logseq____&quot;,[1612,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1612,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1612,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1612,logseq____&quot;^Hlogseq____&quot;,1642,536870963]],[logseq____&quot;^15logseq____&quot;,[1612,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a321-4be3-b1a7-e3c42236f8d5logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1613,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[net/http.serverHandler.ServeHTTP](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L2042)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1613,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1613,logseq____&quot;^Flogseq____&quot;,1728,536870963]],[logseq____&quot;^15logseq____&quot;,[1613,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1613,logseq____&quot;^Vlogseq____&quot;,1731,536870963]],[logseq____&quot;^15logseq____&quot;,[1613,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1613,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-22dc-4270-9709-8dcb5ac6d130logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1614,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1614,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1614,logseq____&quot;^Flogseq____&quot;,1692,536870963]],[logseq____&quot;^15logseq____&quot;,[1614,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1614,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1614,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1614,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a07f-48d5-99e7-904e31754773logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在這邊會另外去讀`*tls.ConnectionState`欄位(`tlsState`)，如同上面`conn struct`註解中的說明，當`tlsState`不是nil時，則該連線有啟用TLS。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^Flogseq____&quot;,1677,536870963]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1615,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-8c9f-46ce-ad5c-9aae59d2cc04logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1616,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`req` pointer不為NULL，則從`req`中讀入method, url以及content length，並寫到`invocation` pointer中。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1616,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1616,logseq____&quot;^Flogseq____&quot;,1643,536870963]],[logseq____&quot;^15logseq____&quot;,[1616,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1616,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1616,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1616,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-ab80-407a-b538-c6744fcec296logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1617,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;ResponseWriterlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1617,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1617,logseq____&quot;^Flogseq____&quot;,1688,536870963]],[logseq____&quot;^15logseq____&quot;,[1617,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1617,logseq____&quot;^Vlogseq____&quot;,1637,536870963]],[logseq____&quot;^15logseq____&quot;,[1617,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1617,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a780-41fb-9bdd-1902a229bd49logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1618,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\nSEC(\\logseq____&quot;uprobe/readRequest\\logseq____&quot;)\\nint uprobe_readRequestReturns(struct pt_regs *ctx) {\\n    bpf_dbg_printk(\\logseq____&quot;=== uprobe/proc readRequest returns === \\logseq____&quot;);\\n\\n    void *goroutine_addr = GOROUTINE_PTR(ctx);\\n    bpf_dbg_printk(\\logseq____&quot;goroutine_addr %lx\\logseq____&quot;, goroutine_addr);\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1618,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1618,logseq____&quot;^Flogseq____&quot;,1702,536870963]],[logseq____&quot;^15logseq____&quot;,[1618,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1618,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1618,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1618,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-4272-49a8-b404-401e0503101flogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1619,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Acceptlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1619,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1619,logseq____&quot;^Flogseq____&quot;,1715,536870963]],[logseq____&quot;^15logseq____&quot;,[1619,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1619,logseq____&quot;^Vlogseq____&quot;,1715,536870963]],[logseq____&quot;^15logseq____&quot;,[1619,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1619,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-fa1d-4b5b-987b-f3962cdc784clogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1620,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1620,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1620,logseq____&quot;^Flogseq____&quot;,1663,536870963]],[logseq____&quot;^15logseq____&quot;,[1620,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1620,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1620,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1620,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f169-42f0-a3df-fefeb9a27b95logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1621,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`ongoing_goroutines`使用`*goroutine_addr`查`*g_metadata`存不存在，如果不存在，則更新`ongoing_goroutines` table。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1621,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1621,logseq____&quot;^Flogseq____&quot;,1618,536870963]],[logseq____&quot;^15logseq____&quot;,[1621,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1621,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1621,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1621,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-acf2-46ec-8da4-6263fa2bdd42logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1622,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;接著在 ((66dde60b-8c09-417a-823b-c44a5ae7a75d)) 中寫入的 `ongoing_server_connections`中拿到正在進行的連線 `info`，如果存在，則把`info`寫入`trace`中。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1622,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1622,logseq____&quot;^Flogseq____&quot;,1705,536870963]],[logseq____&quot;^15logseq____&quot;,[1622,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1622,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1622,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1622,logseq____&quot;^Hlogseq____&quot;,1691,536870963]],[logseq____&quot;^15logseq____&quot;,[1622,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-bd97-4817-ad67-7b610f555676logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`server_http_func_invocation_t` structlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^Flogseq____&quot;,1611,536870963]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1623,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9f17-4081-ae45-2a0a9eb988fdlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1624,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1624,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1624,logseq____&quot;^Flogseq____&quot;,1684,536870963]],[logseq____&quot;^15logseq____&quot;,[1624,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1624,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1624,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1624,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-c68d-46ee-93c7-d917f309033flogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1625,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*conn).readRequest`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1625,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1625,logseq____&quot;^Flogseq____&quot;,1717,536870963]],[logseq____&quot;^15logseq____&quot;,[1625,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1625,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1625,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1625,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9a77-430b-9ec1-b67066b9fe2clogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1626,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;arguments:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1626,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1626,logseq____&quot;^Flogseq____&quot;,1669,536870963]],[logseq____&quot;^15logseq____&quot;,[1626,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1626,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1626,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1626,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-bc70-4f71-b881-924dc14a2a54logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[Init connReader (c.r)](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L1962)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^Flogseq____&quot;,1731,536870963]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^Vlogseq____&quot;,1731,536870963]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1627,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-16a1-414c-a471-13ff7c9befa2logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## pointer type\\nid:: 6636fff3-c75e-4031-8041-d568c3966625logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^Flogseq____&quot;,1849,536870969]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6636fff3-c75e-4031-8041-d568c3966625logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870969]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6636fff3-c75e-4031-8041-d568c3966625logseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1628,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u6636fff3-c75e-4031-8041-d568c3966625logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1629,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1629,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1629,logseq____&quot;^Flogseq____&quot;,1666,536870963]],[logseq____&quot;^15logseq____&quot;,[1629,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1629,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1629,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1629,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a3d6-4bff-9668-a94961a4342clogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1630,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[init bufio reader from connReader (c.bufr)](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L1963)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1630,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1630,logseq____&quot;^Flogseq____&quot;,1627,536870963]],[logseq____&quot;^15logseq____&quot;,[1630,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1630,logseq____&quot;^Vlogseq____&quot;,1731,536870963]],[logseq____&quot;^15logseq____&quot;,[1630,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1630,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f425-4d8a-9d3c-122ce002088blogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1631,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[context.Context](https://pkg.go.dev/context#Context)是interface，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8)) ，占 8*2 = 16 byteslogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1631,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1631,logseq____&quot;^Flogseq____&quot;,1606,536870963]],[logseq____&quot;^15logseq____&quot;,[1631,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1631,logseq____&quot;^Vlogseq____&quot;,1606,536870963]],[logseq____&quot;^15logseq____&quot;,[1631,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1631,logseq____&quot;^Hlogseq____&quot;,1644,536870963]],[logseq____&quot;^15logseq____&quot;,[1631,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-6f32-4c7a-968c-8379f9b5bbd5logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;context.Contextlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^Flogseq____&quot;,1720,536870963]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^Vlogseq____&quot;,1681,536870963]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1632,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7248-42ff-a3e9-044218e69491logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1633,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[readTransfer(req, b)](https://github.com/golang/go/blob/6425749695130f2032ac9cfdf5407b6a322534db/src/net/http/request.go#L1158)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1633,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1633,logseq____&quot;^Flogseq____&quot;,1605,536870963]],[logseq____&quot;^15logseq____&quot;,[1633,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1633,logseq____&quot;^Vlogseq____&quot;,1605,536870963]],[logseq____&quot;^15logseq____&quot;,[1633,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1633,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-b3d1-463a-bf88-d01bd0f18836logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1634,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1634,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1634,logseq____&quot;^Flogseq____&quot;,1734,536870963]],[logseq____&quot;^15logseq____&quot;,[1634,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1634,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1634,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1634,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-48fb-4f0e-a433-a049dac900e2logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1635,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*conn).serve`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1635,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1635,logseq____&quot;^Flogseq____&quot;,1682,536870963]],[logseq____&quot;^15logseq____&quot;,[1635,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1635,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1635,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1635,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a7ac-41b3-89a4-f8844b2509d3logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nstatic __always_inline void* unwrap_tls_conn_info(void *conn_ptr, void *tls_state) {\\n    if (conn_ptr logseq____&amp;logseq____&amp; tls_state) {\\n        void *c_ptr = 0;\\n        bpf_probe_read(logseq____&amp;c_ptr, sizeof(c_ptr), (void *)(conn_ptr)); // unwrap conn\\n\\n        bpf_dbg_printk(\\logseq____&quot;unwrapped conn ptr %llx\\logseq____&quot;, c_ptr);\\n\\n        if (c_ptr) {\\n            return c_ptr + 8;\\n        }\\n    }\\n\\n    return conn_ptr;\\n}\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^Flogseq____&quot;,1658,536870963]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^Vlogseq____&quot;,1733,536870963]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1636,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-1d2a-485a-8ade-4a0879237f18logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;arguments:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^Flogseq____&quot;,1629,536870963]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1637,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-e895-4f86-8bc4-459547835a17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1638,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;*Server.Serve  (Serve accepts incoming connections on the Listener)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1638,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1638,logseq____&quot;^Flogseq____&quot;,1603,536870963]],[logseq____&quot;^15logseq____&quot;,[1638,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1638,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1638,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1638,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-4640-4cc9-bafd-e687a0ffe1cclogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1639,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// A conn represents the server side of an HTTP connection.\\ntype conn struct {\\n...\\n\\n\\t// rwc is the underlying network connection.\\n\\t// This is never wrapped by other types and is the value given out\\n\\t// to CloseNotifier callers. It is usually of type *net.TCPConn or\\n\\t// *tls.Conn.\\n\\trwc net.Conn\\n  \\n...\\n\\n\\t// tlsState is the TLS connection state when using TLS.\\n\\t// nil means not TLS.\\n\\ttlsState *tls.ConnectionState\\n\\n    ...\\n }\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1639,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1639,logseq____&quot;^Flogseq____&quot;,1711,536870963]],[logseq____&quot;^15logseq____&quot;,[1639,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1639,logseq____&quot;^Vlogseq____&quot;,1711,536870963]],[logseq____&quot;^15logseq____&quot;,[1639,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1639,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a3f0-4340-a24e-87c43b2f585elogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# http1 net.Conn\\nid:: 66df3335-a983-4290-bf3a-7bebfc9b5c79logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^Flogseq____&quot;,1886,536870971]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66df3335-a983-4290-bf3a-7bebfc9b5c79logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870971]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870971]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66df3335-a983-4290-bf3a-7bebfc9b5c79logseq____&quot;],536870971]],[logseq____&quot;^15logseq____&quot;,[1640,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66df3335-a983-4290-bf3a-7bebfc9b5c79logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## netFdReadlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^Flogseq____&quot;,1653,536870963]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870963]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^Jlogseq____&quot;,[],536870963]],[logseq____&quot;^15logseq____&quot;,[1641,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-76a7-472c-be54-deef545e9042logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`net.TCPConn`的位置存在，則進一步取得`net.conn`的struct，也進一步呼叫`get_conn_info`以及`get_conn_info_from_fd`分別取得[fd](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/net.go#L167)(`net.netFD`型態)以及[net.netFD](https://github.com/golang/go/blob/master/src/net/fd_posix.go#L17) 中的IP與port，並寫到`connection_info_t`中，最後將`connection_info_t`更新到`ongoing_server_connections` map中。\\nid:: 66df3711-3158-4373-8ba4-8bc5074a1ca1logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^Flogseq____&quot;,1733,536870963]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66df3711-3158-4373-8ba4-8bc5074a1ca1logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66df3711-3158-4373-8ba4-8bc5074a1ca1logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1642,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66df3711-3158-4373-8ba4-8bc5074a1ca1logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1643,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;一開始使用`server_trace_parent`去取得request header中trace相關的header，logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1643,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1643,logseq____&quot;^Flogseq____&quot;,1708,536870963]],[logseq____&quot;^15logseq____&quot;,[1643,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1643,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1643,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1643,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5156-46e6-b23b-6bc966f97cb2logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## interface type\\nid:: 66370018-6208-4dc1-88da-b8c5856ecba8logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^Flogseq____&quot;,1850,536870969]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370018-6208-4dc1-88da-b8c5856ecba8logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870969]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370018-6208-4dc1-88da-b8c5856ecba8logseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1644,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66370018-6208-4dc1-88da-b8c5856ecba8logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;根據 ((6636fff3-c75e-4031-8041-d568c3966625)) ，占 8 byteslogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^Flogseq____&quot;,1720,536870963]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^Vlogseq____&quot;,1720,536870963]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^Hlogseq____&quot;,1628,536870963]],[logseq____&quot;^15logseq____&quot;,[1645,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-c66f-410f-b357-3e7ca420ec06logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1646,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\ntype serverConn struct {\\n\\t// Immutable:\\n\\tsrv              *Server\\n\\ths               *http.Server\\n\\tconn             net.Conn\\n\\tbw               *bufferedWriter // writing to conn\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1646,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1646,logseq____&quot;^Flogseq____&quot;,1722,536870963]],[logseq____&quot;^15logseq____&quot;,[1646,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1646,logseq____&quot;^Vlogseq____&quot;,1722,536870963]],[logseq____&quot;^15logseq____&quot;,[1646,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1646,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0900-42fd-ac1e-0cbe0dbba4e8logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;最後更新`ongoing_http_server_requests`，key為目前的go routine pointer，value為`invocation` pointer。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^Flogseq____&quot;,1616,536870963]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1647,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-b3f2-44a9-9a98-05e210270205logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (c *conn) serve(ctx context.Context)`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^Flogseq____&quot;,1683,536870963]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^Vlogseq____&quot;,1683,536870963]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1648,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a10d-49f1-abcf-0cad1c9348bdlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## receiver\\nid:: 66370276-921c-4a97-9864-19b04feb2fb1logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^Flogseq____&quot;,1861,536870969]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370276-921c-4a97-9864-19b04feb2fb1logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870969]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370276-921c-4a97-9864-19b04feb2fb1logseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1649,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66370276-921c-4a97-9864-19b04feb2fb1logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (fd *netFD) Read(p []byte) (n int, err error)`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^Flogseq____&quot;,1680,536870963]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^Vlogseq____&quot;,1680,536870963]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1650,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0a4f-4326-a7fd-c217e7fd3df9logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1651,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (c *conn) readRequest(ctx context.Context) (w *response, err error)`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1651,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1651,logseq____&quot;^Flogseq____&quot;,1704,536870963]],[logseq____&quot;^15logseq____&quot;,[1651,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1651,logseq____&quot;^Vlogseq____&quot;,1704,536870963]],[logseq____&quot;^15logseq____&quot;,[1651,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1651,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d1da-4f9e-a87a-b2716caba88flogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^Flogseq____&quot;,1641,536870963]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1652,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0864-42b1-b4c7-6625223d18belogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1653,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;取得目前的go routine address，並將 `ongoing_server_connections`對應的`connection_info_t`清掉。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1653,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1653,logseq____&quot;^Flogseq____&quot;,1683,536870963]],[logseq____&quot;^15logseq____&quot;,[1653,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1653,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1653,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1653,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-8ef3-4790-a09d-709bcdcbfd38logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[(*.conn).readRequest](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L975)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^Flogseq____&quot;,1625,536870963]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1654,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-4b16-4fe7-986c-84a8093d1a2dlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1655,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`readRequest`是method，根據 ((66370276-921c-4a97-9864-19b04feb2fb1)) ，receiver是`readRequest`第一個參數(`GO_PARAM1`)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1655,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1655,logseq____&quot;^Flogseq____&quot;,1714,536870963]],[logseq____&quot;^15logseq____&quot;,[1655,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1655,logseq____&quot;^Vlogseq____&quot;,1607,536870963]],[logseq____&quot;^15logseq____&quot;,[1655,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1655,logseq____&quot;^Hlogseq____&quot;,1649,536870963]],[logseq____&quot;^15logseq____&quot;,[1655,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-07ad-4baf-8b45-1300a69097cflogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net.(*netFD).Read`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^Flogseq____&quot;,1652,536870963]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1656,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-68a9-462e-b7f4-cf89be5bd6e6logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## amd64 arch\\nid:: 66370235-abe8-4707-b6c1-07285b460e5alogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^Flogseq____&quot;,1857,536870969]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370235-abe8-4707-b6c1-07285b460e5alogseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870969]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370235-abe8-4707-b6c1-07285b460e5alogseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1657,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66370235-abe8-4707-b6c1-07285b460e5alogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`conn`恰好在`tls.Conn`的第一個field，所以offset為0，直接將`conn` interface取出。最後的位置再加上8得到實現`net.Conn`的struct(應該為`net.TCPConn`) [[Beyla/Assertion]] 。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Flogseq____&quot;,1733,536870963]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Vlogseq____&quot;,1733,536870963]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Ulogseq____&quot;,1359,536870963]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Ulogseq____&quot;,1463,536870963]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Hlogseq____&quot;,1359,536870963]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^Hlogseq____&quot;,1463,536870963]],[logseq____&quot;^15logseq____&quot;,[1658,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-874b-42b6-a1da-183735feb3e7logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1659,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;最後將設定好的trace的span ID亂數生成，也將trace寫到`go_trace_map`中。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1659,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1659,logseq____&quot;^Flogseq____&quot;,1721,536870963]],[logseq____&quot;^15logseq____&quot;,[1659,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1659,logseq____&quot;^Vlogseq____&quot;,1643,536870963]],[logseq____&quot;^15logseq____&quot;,[1659,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1659,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f1a4-4ab6-aff4-27e9a2c25a8flogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1660,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;根據 ((66370235-abe8-4707-b6c1-07285b460e5a))，透過`GOROUTINE_PTR`，取得go routine的pointer。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1660,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1660,logseq____&quot;^Flogseq____&quot;,1681,536870963]],[logseq____&quot;^15logseq____&quot;,[1660,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1660,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1660,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1660,logseq____&quot;^Hlogseq____&quot;,1657,536870963]],[logseq____&quot;^15logseq____&quot;,[1660,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7b63-4538-bd47-3f53a7145270logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1661,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果 `connection_info_t`存在，則利用 `GO_PARAM1`取得receiver，即為 `*net.FD`，並呼叫 `get_conn_info_from_fd`取得連線的IP即port，並寫到 `connection_info_t`裡。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1661,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1661,logseq____&quot;^Flogseq____&quot;,1685,536870963]],[logseq____&quot;^15logseq____&quot;,[1661,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1661,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1661,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1661,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d6f5-4f4c-afbf-0143f8c47c45logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`readRequest`是method，根據 ((66370276-921c-4a97-9864-19b04feb2fb1)) ，receiver是`readRequest`第一個參數(`GO_PARAM1`)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^Flogseq____&quot;,1645,536870963]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^Vlogseq____&quot;,1720,536870963]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^Hlogseq____&quot;,1649,536870963]],[logseq____&quot;^15logseq____&quot;,[1662,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5c55-411f-bfbb-2154bd9f9879logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## http2serverConn_runHandlerlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^Flogseq____&quot;,1672,536870963]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870963]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^Jlogseq____&quot;,[],536870963]],[logseq____&quot;^15logseq____&quot;,[1663,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f435-4d98-b1ce-afd4be24b97alogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1664,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1664,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1664,logseq____&quot;^Flogseq____&quot;,1715,536870963]],[logseq____&quot;^15logseq____&quot;,[1664,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1664,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1664,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1664,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5bc3-4403-82a4-76250e078c1dlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1665,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`ServeHTTP`是method，根據 ((66370276-921c-4a97-9864-19b04feb2fb1)) ，receiver是`ServeHTTP`第一個參數(`GO_PARAM1`)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1665,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1665,logseq____&quot;^Flogseq____&quot;,1678,536870963]],[logseq____&quot;^15logseq____&quot;,[1665,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1665,logseq____&quot;^Vlogseq____&quot;,1688,536870963]],[logseq____&quot;^15logseq____&quot;,[1665,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1665,logseq____&quot;^Hlogseq____&quot;,1649,536870963]],[logseq____&quot;^15logseq____&quot;,[1665,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f07b-45d1-8fcd-b1240c8a67e9logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[http.serverHandler.ServeHTTP](https://cs.opensource.google/go/go/+/refs/tags/go1.23.1:src/net/http/server.go;l=3201)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^Flogseq____&quot;,1676,536870963]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1666,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-b2b5-438e-a861-224cff840ab5logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`sc + sc_conn_pos + 8`取得實現`net.Conn`的struct，跟 ((66df3335-a983-4290-bf3a-7bebfc9b5c79)) 一樣，實現 `net.Conn`的struct是[tls.Conn](https://github.com/golang/go/blob/1e12eab8705d1d8d7472be9147a39caa1c8380db/src/crypto/tls/conn.go#L28)跟[net.TCPConn](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/tcpsock.go#L112)。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^Flogseq____&quot;,1722,536870963]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^Hlogseq____&quot;,1640,536870963]],[logseq____&quot;^15logseq____&quot;,[1667,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f204-4920-9dd5-d8a0e8423b39logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1668,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[net.(*netFD).Read](https://github.com/golang/go/blob/42f9ee904caf6681ee32e7b048f15ab7cddf3eb3/src/net/fd_posix.go#L65)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1668,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1668,logseq____&quot;^Flogseq____&quot;,1656,536870963]],[logseq____&quot;^15logseq____&quot;,[1668,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1668,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1668,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1668,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7f3f-4267-8d9b-ac1767e68a71logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^Flogseq____&quot;,1730,536870963]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1669,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-6a7b-4444-ab2d-7051c2eb9b63logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## ServeHTTP_retlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^Flogseq____&quot;,1621,536870963]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870963]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^Jlogseq____&quot;,[],536870963]],[logseq____&quot;^15logseq____&quot;,[1670,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-4a3a-4335-9cb3-61443aab971elogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870963]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^Flogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^:logseq____&quot;,true,536870963]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870963]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1671,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-3ca1-4196-bd0d-3785ceb8e4d3logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;最後會清理 `ongoing_http_server_requests`及`ongoing_server_connections` map。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^Flogseq____&quot;,1686,536870963]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1672,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-6dcf-4b60-b60d-eeb952b458b9logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`ResponseWriter`的vtable pointer，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8))，是`ServeHTTP`第二個參數(`GO_PARAM2`)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^Flogseq____&quot;,1724,536870963]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^Vlogseq____&quot;,1617,536870963]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^Hlogseq____&quot;,1644,536870963]],[logseq____&quot;^15logseq____&quot;,[1673,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f358-4a6d-858f-7b84fb8cc5e8logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1674,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (sh serverHandler) ServeHTTP(rw ResponseWriter, req *Request)`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1674,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1674,logseq____&quot;^Flogseq____&quot;,1629,536870963]],[logseq____&quot;^15logseq____&quot;,[1674,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1674,logseq____&quot;^Vlogseq____&quot;,1629,536870963]],[logseq____&quot;^15logseq____&quot;,[1674,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1674,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-22f1-4739-92f4-fb2a8999fe35logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`context.Context`的vtable pointer，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8))，是`readRequest`第二個參數(`GO_PARAM2`)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^Flogseq____&quot;,1727,536870963]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^Vlogseq____&quot;,1632,536870963]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^Hlogseq____&quot;,1644,536870963]],[logseq____&quot;^15logseq____&quot;,[1675,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d4d3-4235-8cf2-762fe625fc17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1676,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.serverHandler.ServeHTTP`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1676,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1676,logseq____&quot;^Flogseq____&quot;,1687,536870963]],[logseq____&quot;^15logseq____&quot;,[1676,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1676,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1676,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1676,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5f17-42ca-955e-34283cd4950dlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1677,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;有關http 1.1的`net.Conn`可以參考 ((66df3335-a983-4290-bf3a-7bebfc9b5c79))。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1677,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1677,logseq____&quot;^Flogseq____&quot;,1711,536870963]],[logseq____&quot;^15logseq____&quot;,[1677,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1677,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1677,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1677,logseq____&quot;^Hlogseq____&quot;,1640,536870963]],[logseq____&quot;^15logseq____&quot;,[1677,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a139-41f5-8d31-e6ca78f10baalogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1678,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;receiver是 `serverHandler`，雖然是struct，但field只有`*Server`，全部占 8 byteslogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1678,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1678,logseq____&quot;^Flogseq____&quot;,1688,536870963]],[logseq____&quot;^15logseq____&quot;,[1678,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1678,logseq____&quot;^Vlogseq____&quot;,1688,536870963]],[logseq____&quot;^15logseq____&quot;,[1678,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1678,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-76a0-4d46-b7e2-a38cb5689c6dlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1679,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Serverlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1679,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1679,logseq____&quot;^Flogseq____&quot;,1619,536870963]],[logseq____&quot;^15logseq____&quot;,[1679,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1679,logseq____&quot;^Vlogseq____&quot;,1619,536870963]],[logseq____&quot;^15logseq____&quot;,[1679,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1679,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-8b6f-48eb-8354-cbc79e10fea8logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^Flogseq____&quot;,1668,536870963]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1680,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-c9b7-4ad2-8489-f2d761c1f4d1logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1681,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;arguments:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1681,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1681,logseq____&quot;^Flogseq____&quot;,1704,536870963]],[logseq____&quot;^15logseq____&quot;,[1681,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1681,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1681,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1681,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-537b-4bbf-878f-17f5190294e6logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1682,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1682,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1682,logseq____&quot;^Flogseq____&quot;,1695,536870963]],[logseq____&quot;^15logseq____&quot;,[1682,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1682,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1682,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1682,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d9bf-49af-85f5-c5de82f5dc7clogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1683,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1683,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1683,logseq____&quot;^Flogseq____&quot;,1700,536870963]],[logseq____&quot;^15logseq____&quot;,[1683,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1683,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1683,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1683,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0558-4171-b606-03fc68b03295logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## connServelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^Flogseq____&quot;,1612,536870963]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870963]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^Jlogseq____&quot;,[],536870963]],[logseq____&quot;^15logseq____&quot;,[1684,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-c6ed-4572-8812-a471d06bd80elogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;取得目前的go routine address，並在 `ongoing_server_connections`查詢對應的`connection_info_t`。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^Flogseq____&quot;,1680,536870963]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1685,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-bc21-4a45-99d1-6707e1c06acflogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;接著把`invocation`中的trace parent header, content length, method, path及status寫到trace中，並送給ringbuffer。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^Flogseq____&quot;,1622,536870963]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1686,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-43ab-48f5-aca1-72739363b792logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1687,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1687,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1687,logseq____&quot;^Flogseq____&quot;,1707,536870963]],[logseq____&quot;^15logseq____&quot;,[1687,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1687,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1687,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1687,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-b658-4976-8222-382c9d104c7blogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1688,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;receiver:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1688,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1688,logseq____&quot;^Flogseq____&quot;,1637,536870963]],[logseq____&quot;^15logseq____&quot;,[1688,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1688,logseq____&quot;^Vlogseq____&quot;,1637,536870963]],[logseq____&quot;^15logseq____&quot;,[1688,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1688,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f8f8-4713-8278-2c573934cf7clogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1689,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;*Requestlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1689,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1689,logseq____&quot;^Flogseq____&quot;,1617,536870963]],[logseq____&quot;^15logseq____&quot;,[1689,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1689,logseq____&quot;^Vlogseq____&quot;,1637,536870963]],[logseq____&quot;^15logseq____&quot;,[1689,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1689,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-c80b-48f6-9e37-e4cc2463694dlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;實現`context.Context`的struct pointer，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8))，是`readRequest`第三個參數(`GO_PARAM3`)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^Flogseq____&quot;,1701,536870963]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^Vlogseq____&quot;,1606,536870963]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^Hlogseq____&quot;,1644,536870963]],[logseq____&quot;^15logseq____&quot;,[1690,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-2da6-4966-9300-c147f9871b14logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## readRequest\\nid:: 66dde60b-8c09-417a-823b-c44a5ae7a75dlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^Flogseq____&quot;,1647,536870963]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66dde60b-8c09-417a-823b-c44a5ae7a75dlogseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870963]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66dde60b-8c09-417a-823b-c44a5ae7a75dlogseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1691,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66dde60b-8c09-417a-823b-c44a5ae7a75dlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## readRequest (returns)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^Flogseq____&quot;,1642,536870963]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870963]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^Jlogseq____&quot;,[],536870963]],[logseq____&quot;^15logseq____&quot;,[1692,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5326-4108-a8c9-2b438d26c225logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1693,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.(*conn).readRequest`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1693,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1693,logseq____&quot;^Flogseq____&quot;,1614,536870963]],[logseq____&quot;^15logseq____&quot;,[1693,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1693,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1693,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1693,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5754-4929-a71c-f7e19e19ba45logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1694,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (c *conn) serve(ctx context.Context)`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1694,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1694,logseq____&quot;^Flogseq____&quot;,1697,536870963]],[logseq____&quot;^15logseq____&quot;,[1694,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1694,logseq____&quot;^Vlogseq____&quot;,1697,536870963]],[logseq____&quot;^15logseq____&quot;,[1694,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1694,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-28a0-4067-b2a0-2d84df760c45logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## connServeRetlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^Flogseq____&quot;,1719,536870963]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870963]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^Jlogseq____&quot;,[],536870963]],[logseq____&quot;^15logseq____&quot;,[1695,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-6b68-40bd-a6e7-3adc877fb610logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## HTTP2logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^Flogseq____&quot;,1638,536870963]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870963]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^Jlogseq____&quot;,[],536870963]],[logseq____&quot;^15logseq____&quot;,[1696,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-3839-489e-8e31-68d253d09b36logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^Flogseq____&quot;,1732,536870963]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1697,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-4b60-468b-a1a8-6ef2be6688a2logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (c *conn) readRequest(ctx context.Context) (w *response, err error)`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^Flogseq____&quot;,1669,536870963]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^Vlogseq____&quot;,1669,536870963]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1698,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a2e3-4ca0-9ff8-368d6fe148eelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;實現`ResponseWriter`的struct pointer，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8))，是`ServeHTTP`第三個參數(`GO_PARAM3`)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^Flogseq____&quot;,1673,536870963]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^Vlogseq____&quot;,1617,536870963]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^Hlogseq____&quot;,1644,536870963]],[logseq____&quot;^15logseq____&quot;,[1699,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7d11-450a-bca4-4b784fd56a29logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1700,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[http.*conn.serve](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L1888)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1700,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1700,logseq____&quot;^Flogseq____&quot;,1635,536870963]],[logseq____&quot;^15logseq____&quot;,[1700,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1700,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1700,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1700,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d08a-4beb-a400-37ae165c41a0logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`context.Context`的vtable pointer，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8))，是`readRequest`第二個參數(`GO_PARAM2`)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^Flogseq____&quot;,1631,536870963]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^Vlogseq____&quot;,1606,536870963]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^Hlogseq____&quot;,1644,536870963]],[logseq____&quot;^15logseq____&quot;,[1701,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-70e5-40ad-8862-bcbe159e512dlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1702,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;根據 ((66370235-abe8-4707-b6c1-07285b460e5a))，透過`GOROUTINE_PTR`，取得go routine的pointer。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1702,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1702,logseq____&quot;^Flogseq____&quot;,1626,536870963]],[logseq____&quot;^15logseq____&quot;,[1702,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1702,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1702,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1702,logseq____&quot;^Hlogseq____&quot;,1657,536870963]],[logseq____&quot;^15logseq____&quot;,[1702,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-ffee-4827-b29f-16bf37a15952logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1703,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1703,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1703,logseq____&quot;^Flogseq____&quot;,1729,536870963]],[logseq____&quot;^15logseq____&quot;,[1703,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1703,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1703,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1703,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-bc50-4b68-b03f-90759f3c1a47logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^Flogseq____&quot;,1654,536870963]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1704,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-56c9-4299-9bd1-2fabc196b21clogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1705,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在ringbuffer中保留型態為`*http_request_trace`的`trace`，接著將開始，結束時間，及trace type紀錄 `trace` 裡面。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1705,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1705,logseq____&quot;^Flogseq____&quot;,1713,536870963]],[logseq____&quot;^15logseq____&quot;,[1705,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1705,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1705,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1705,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-1656-4586-aafb-8bb2904debd6logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1706,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`*Request`是pointer`，根據 ((6636fff3-c75e-4031-8041-d568c3966625)) ，占 8 byteslogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1706,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1706,logseq____&quot;^Flogseq____&quot;,1689,536870963]],[logseq____&quot;^15logseq____&quot;,[1706,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1706,logseq____&quot;^Vlogseq____&quot;,1689,536870963]],[logseq____&quot;^15logseq____&quot;,[1706,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1706,logseq____&quot;^Hlogseq____&quot;,1628,536870963]],[logseq____&quot;^15logseq____&quot;,[1706,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9e5e-47c5-aa51-fa89026deb56logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## ServeHTTP\\nid:: 6636e390-9236-4c1f-93dd-53eeedcfedc5logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^Flogseq____&quot;,1671,536870963]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6636e390-9236-4c1f-93dd-53eeedcfedc5logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870963]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6636e390-9236-4c1f-93dd-53eeedcfedc5logseq____&quot;],536870963]],[logseq____&quot;^15logseq____&quot;,[1707,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u6636e390-9236-4c1f-93dd-53eeedcfedc5logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1708,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\ntypedef struct server_http_func_invocation {\\n    u64 start_monotime_ns;\\n    tp_info_t tp;\\n    u8  method[METHOD_MAX_LEN];\\n    u8  path[PATH_MAX_LEN];\\n    u64 content_length;\\n\\n    u64 status;\\n} server_http_func_invocation_t;\\n```logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1708,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1708,logseq____&quot;^Flogseq____&quot;,1623,536870963]],[logseq____&quot;^15logseq____&quot;,[1708,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1708,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1708,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1708,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7e76-4910-b9a8-4556850720eclogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;實現`context.Context`的struct pointer，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8))，是`readRequest`第三個參數(`GO_PARAM3`)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^Flogseq____&quot;,1675,536870963]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^Vlogseq____&quot;,1632,536870963]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^Hlogseq____&quot;,1644,536870963]],[logseq____&quot;^15logseq____&quot;,[1709,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7bdb-498a-9c51-e82e31d1d258logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1710,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;呼叫`extract_traceparent_from_req_headers`取得`traceparent` header的內容。如果讀取header失敗，則這筆request應該是root span，所以利用亂數生成trace ID，並將該筆trace的parent ID設定成0。如果讀取成功，則使用`decode_go_traceparent`將`buf`內容寫到`tp` pointer中。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1710,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1710,logseq____&quot;^Flogseq____&quot;,1643,536870963]],[logseq____&quot;^15logseq____&quot;,[1710,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1710,logseq____&quot;^Vlogseq____&quot;,1643,536870963]],[logseq____&quot;^15logseq____&quot;,[1710,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1710,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9068-47ff-b88d-53a76ca00159logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1711,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用`GO_PARAM1`取得[*http.conn](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L252) ，再計算`net.Conn`在該struct中的位置(`rwc`欄位)，[net.Conn](https://github.com/golang/go/blob/master/src/net/net.go#L119)是一個interface。最後使用`c_ptr + 8 + c_rwc_pos`取得實現`net.Conn` interface的struct，通常是由`*net.TCPConn`或是`*tls.Conn`所實現，如`net.Conn`在`net.conn`註解中所述。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1711,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1711,logseq____&quot;^Flogseq____&quot;,1660,536870963]],[logseq____&quot;^15logseq____&quot;,[1711,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1711,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1711,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1711,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-fc2e-4b85-abde-0ddf8e75b815logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (sc *serverConn) runHandler(rw *responseWriter, req *http.Request, handler func(http.ResponseWriter, *http.Request))`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^Flogseq____&quot;,1634,536870963]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^Vlogseq____&quot;,1634,536870963]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1712,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-483e-4f6f-a9b2-eab15292e016logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1713,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;利用`goroutine_addr`去在 ((6636e390-9236-4c1f-93dd-53eeedcfedc5)) 寫入的`ongoing_http_server_requests`查詢先前的request，如果查到的`invocation`為空，則去查parent go routine的`invocation`。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1713,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1713,logseq____&quot;^Flogseq____&quot;,1703,536870963]],[logseq____&quot;^15logseq____&quot;,[1713,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1713,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1713,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1713,logseq____&quot;^Hlogseq____&quot;,1707,536870963]],[logseq____&quot;^15logseq____&quot;,[1713,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9da9-40cf-9cc3-f587b9b11acalogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;根據 ((6636fff3-c75e-4031-8041-d568c3966625)) ，占 8 byteslogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^Flogseq____&quot;,1607,536870963]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^Vlogseq____&quot;,1607,536870963]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^Hlogseq____&quot;,1628,536870963]],[logseq____&quot;^15logseq____&quot;,[1714,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f5d5-4ea1-9832-038551369e39logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1715,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Listenlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1715,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1715,logseq____&quot;^Flogseq____&quot;,1696,536870963]],[logseq____&quot;^15logseq____&quot;,[1715,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1715,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1715,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1715,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0c41-4382-abec-43e23b4b2cd7logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[read in background cr.conn.rwc.Read](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L789)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^Flogseq____&quot;,1728,536870963]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^Vlogseq____&quot;,1728,536870963]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1716,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0257-4870-b2f3-93159b303566logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1717,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1717,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1717,logseq____&quot;^Flogseq____&quot;,1691,536870963]],[logseq____&quot;^15logseq____&quot;,[1717,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1717,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1717,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1717,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7faa-4e2e-902a-7cb67b510187logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1718,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[net/http.(*conn).readRequest](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L1967) (Read next request from connection.)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1718,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1718,logseq____&quot;^Flogseq____&quot;,1630,536870963]],[logseq____&quot;^15logseq____&quot;,[1718,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1718,logseq____&quot;^Vlogseq____&quot;,1731,536870963]],[logseq____&quot;^15logseq____&quot;,[1718,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1718,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-8e8e-4063-bdf9-3663a2f3481clogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;取得目前的go routine address，並將 `ongoing_server_connections`對應的`connection_info_t`寫成空值。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^Flogseq____&quot;,1697,536870963]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1719,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-ca7a-4cbb-8b95-a25778f4bbd5logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1720,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;receiver:logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1720,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1720,logseq____&quot;^Flogseq____&quot;,1681,536870963]],[logseq____&quot;^15logseq____&quot;,[1720,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1720,logseq____&quot;^Vlogseq____&quot;,1681,536870963]],[logseq____&quot;^15logseq____&quot;,[1720,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1720,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0638-46c9-bf9a-a69241a54deblogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1721,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`traceparent` header的pointer不存在，則在`ongoing_server_connections` map中查`goroutine_addr`對應的`connection_info_t`，如果存在，則利用`connection_info_t`在`trace_map`中取得`traceparent`相關的資訊。如果找不到，則同樣設定亂數的trace ID及將parent ID設定成0。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1721,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1721,logseq____&quot;^Flogseq____&quot;,1710,536870963]],[logseq____&quot;^15logseq____&quot;,[1721,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1721,logseq____&quot;^Vlogseq____&quot;,1643,536870963]],[logseq____&quot;^15logseq____&quot;,[1721,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1721,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-c2c8-4720-86d1-43fcb8a7f2bclogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1722,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;首先使用`GO_PARAM1`取得pointer型態的receiver `*serverConn`，該struct被定義在[這裡](https://github.com/golang/net/blob/3c333c0c5288a7cf127e427ddda5b1b54020a2b4/http2/server.go#L592)。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1722,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1722,logseq____&quot;^Flogseq____&quot;,1634,536870963]],[logseq____&quot;^15logseq____&quot;,[1722,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1722,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1722,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1722,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-4251-4820-8891-d6d861e7bb35logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1723,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`net/http.serverHandler.ServeHTTP`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1723,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1723,logseq____&quot;^Flogseq____&quot;,1601,536870963]],[logseq____&quot;^15logseq____&quot;,[1723,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1723,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1723,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1723,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-46b4-45d1-b835-dac3ca619a3alogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[ResponseWriter](https://pkg.go.dev/net/http#ResponseWriter)是interface，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8)) ，占 8*2 = 16 byteslogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^Flogseq____&quot;,1617,536870963]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^Vlogseq____&quot;,1617,536870963]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^Hlogseq____&quot;,1644,536870963]],[logseq____&quot;^15logseq____&quot;,[1724,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-bcac-402f-b3ca-ccae799941f2logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;根據 ((66370235-abe8-4707-b6c1-07285b460e5a))，透過`GOROUTINE_PTR`，取得go routine的pointer；使用`GO_PARAM4`取得`*Request`。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^Flogseq____&quot;,1637,536870963]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^Hlogseq____&quot;,1657,536870963]],[logseq____&quot;^15logseq____&quot;,[1725,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f63c-4377-8a60-94e5d58a4b66logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1726,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`*Request`是`ServeHTTP`第四個參數(`GO_PARAM4`)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1726,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1726,logseq____&quot;^Flogseq____&quot;,1706,536870963]],[logseq____&quot;^15logseq____&quot;,[1726,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1726,logseq____&quot;^Vlogseq____&quot;,1689,536870963]],[logseq____&quot;^15logseq____&quot;,[1726,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1726,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-ddb7-4e3d-9ecb-1a518147e24elogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1727,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[context.Context](https://pkg.go.dev/context#Context)是interface，根據 ((66370018-6208-4dc1-88da-b8c5856ecba8)) ，占 8*2 = 16 byteslogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1727,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1727,logseq____&quot;^Flogseq____&quot;,1632,536870963]],[logseq____&quot;^15logseq____&quot;,[1727,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1727,logseq____&quot;^Vlogseq____&quot;,1632,536870963]],[logseq____&quot;^15logseq____&quot;,[1727,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1727,logseq____&quot;^Hlogseq____&quot;,1644,536870963]],[logseq____&quot;^15logseq____&quot;,[1727,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-8a4a-4d9d-888d-b8d3705494d6logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[start background read for connReader](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L2028-L2032)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^Flogseq____&quot;,1718,536870963]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^Vlogseq____&quot;,1731,536870963]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1728,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d342-4622-94d5-7eb35cdd8e44logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1729,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[http.serverHandler.ServeHTTP](https://cs.opensource.google/go/go/+/refs/tags/go1.23.1:src/net/http/server.go;l=3201)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1729,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1729,logseq____&quot;^Flogseq____&quot;,1723,536870963]],[logseq____&quot;^15logseq____&quot;,[1729,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1729,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1729,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1729,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-61ca-417f-8551-87d6638f3070logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1730,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[(*.conn).readRequest](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L975)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1730,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1730,logseq____&quot;^Flogseq____&quot;,1693,536870963]],[logseq____&quot;^15logseq____&quot;,[1730,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1730,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1730,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1730,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-032b-48ee-94e2-2ed64b116ebflogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1731,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[net/http.(*conn).serve](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L1888) (Serve a new connection.) -logseq____&gt;logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1731,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1731,logseq____&quot;^Flogseq____&quot;,1638,536870963]],[logseq____&quot;^15logseq____&quot;,[1731,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1731,logseq____&quot;^Vlogseq____&quot;,1638,536870963]],[logseq____&quot;^15logseq____&quot;,[1731,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1731,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5757-45f4-b64f-239e4597771dlogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[http.*conn.serve](https://github.com/golang/go/blob/55a06f79208b24fc5f9c40a867f55f5fecc376b0/src/net/http/server.go#L1888)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^Flogseq____&quot;,1608,536870963]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1732,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-50c3-49e7-8f72-689e79cb5d0alogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1733,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;所以會另外呼叫`unwrap_tls_conn_info`去把`tls.Conn`中的`conn`欄位取出。logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1733,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1733,logseq____&quot;^Flogseq____&quot;,1615,536870963]],[logseq____&quot;^15logseq____&quot;,[1733,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1733,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1733,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1733,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d1e0-4f13-8d4e-a087b515b49flogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1734,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[http2.*serverConn.runHandler](https://github.com/golang/net/blob/3c333c0c5288a7cf127e427ddda5b1b54020a2b4/http2/server.go#L2388)logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1734,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1734,logseq____&quot;^Flogseq____&quot;,1600,536870963]],[logseq____&quot;^15logseq____&quot;,[1734,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1734,logseq____&quot;^Vlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1734,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1734,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-bc6a-46f8-b3bd-d15c17d8eecelogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1735,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (sh serverHandler) ServeHTTP(rw ResponseWriter, req *Request)`logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1735,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1735,logseq____&quot;^Flogseq____&quot;,1703,536870963]],[logseq____&quot;^15logseq____&quot;,[1735,logseq____&quot;^Xlogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1735,logseq____&quot;^Vlogseq____&quot;,1703,536870963]],[logseq____&quot;^15logseq____&quot;,[1735,logseq____&quot;^Ulogseq____&quot;,1446,536870963]],[logseq____&quot;^15logseq____&quot;,[1735,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0797-45c3-8611-f0fcd39528aalogseq____&quot;,536870963]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^Klogseq____&quot;,1753899394489,536870964]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^@logseq____&quot;,false,536870964]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/http_ssllogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^Alogseq____&quot;,1359,536870964]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/http_ssllogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870964]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870964]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^Blogseq____&quot;,1753899394489,536870964]],[logseq____&quot;^15logseq____&quot;,[1737,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9948-43cc-99ef-d98a148d0806logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1738,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`int SSL_do_handshake(SSL *ssl)`logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1738,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1738,logseq____&quot;^Flogseq____&quot;,1747,536870964]],[logseq____&quot;^15logseq____&quot;,[1738,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1738,logseq____&quot;^Vlogseq____&quot;,1747,536870964]],[logseq____&quot;^15logseq____&quot;,[1738,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1738,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-ff7c-4147-95b4-3b4f2d73aa0clogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`SSL_do_handshake`logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^Flogseq____&quot;,1746,536870964]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1739,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5613-4d1f-97d8-0f96b0f019e9logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1740,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[SSL_do_handshake](https://www.openssl.org/docs/manmaster/man3/SSL_do_handshake.html)logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1740,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1740,logseq____&quot;^Flogseq____&quot;,1739,536870964]],[logseq____&quot;^15logseq____&quot;,[1740,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1740,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1740,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1740,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-76af-406f-ba1f-5a9ef4c04617logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1741,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1741,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1741,logseq____&quot;^Flogseq____&quot;,1748,536870964]],[logseq____&quot;^15logseq____&quot;,[1741,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1741,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1741,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1741,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-4e43-478f-9d7f-717772b1d9aelogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870964]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^Flogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^:logseq____&quot;,true,536870964]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870964]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870964]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870964]],[logseq____&quot;^15logseq____&quot;,[1742,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-da82-4136-9d18-e4200d50ea5dlogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[SSL_read](https://www.openssl.org/docs/man1.1.1/man3/SSL_read.html)logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^Flogseq____&quot;,1749,536870964]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1743,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-29f5-4caa-90fe-d0538ef7d04alogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## SSL_do_handshakelogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^Flogseq____&quot;,1742,536870964]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870964]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^Jlogseq____&quot;,[],536870964]],[logseq____&quot;^15logseq____&quot;,[1744,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-ccb9-4696-93d9-8b61ad70ecd0logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`int SSL_read(SSL *ssl, void *buf, int num);`logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^Flogseq____&quot;,1750,536870964]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^Vlogseq____&quot;,1750,536870964]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1745,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-b517-482e-8a90-7dddd3189fcclogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^Flogseq____&quot;,1744,536870964]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1746,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-6136-46d6-b664-16184cd26525logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1747,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1747,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1747,logseq____&quot;^Flogseq____&quot;,1740,536870964]],[logseq____&quot;^15logseq____&quot;,[1747,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1747,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1747,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1747,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-b073-47eb-b04c-81e621fdf3bflogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## SSL_readlogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^Flogseq____&quot;,1747,536870964]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870964]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^Jlogseq____&quot;,[],536870964]],[logseq____&quot;^15logseq____&quot;,[1748,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-eea7-49fb-97bd-85834a8c2bb3logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1749,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`SSL_read`logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1749,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1749,logseq____&quot;^Flogseq____&quot;,1741,536870964]],[logseq____&quot;^15logseq____&quot;,[1749,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1749,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1749,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1749,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-e8ba-4c0d-ad68-859b45320874logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1750,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1750,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1750,logseq____&quot;^Flogseq____&quot;,1743,536870964]],[logseq____&quot;^15logseq____&quot;,[1750,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1750,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1750,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1750,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-779b-445a-ac01-cf090b1bdbe7logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^Flogseq____&quot;,1750,536870964]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^Xlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^Vlogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^Ulogseq____&quot;,1737,536870964]],[logseq____&quot;^15logseq____&quot;,[1751,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-37b4-4f4f-96ec-8f6ff72f5beclogseq____&quot;,536870964]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^Klogseq____&quot;,1753899394529,536870965]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^@logseq____&quot;,false,536870965]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/load_ebpflogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^Alogseq____&quot;,1359,536870965]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/load_ebpflogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870965]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^Blogseq____&quot;,1753899394529,536870965]],[logseq____&quot;^15logseq____&quot;,[1753,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-906f-4d38-86e0-abc18a563584logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### tracers\\nid:: 663672eb-8811-4916-a7ad-a09b5ac3b8e0logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^Flogseq____&quot;,1771,536870965]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;663672eb-8811-4916-a7ad-a09b5ac3b8e0logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870965]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;663672eb-8811-4916-a7ad-a09b5ac3b8e0logseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1754,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u663672eb-8811-4916-a7ad-a09b5ac3b8e0logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`beyla`在`pkg/internal/ebpf/tracer.go`定義了 `Tracer` interface，每一個beyla的ebpg的程式都需要實現這個interface。其中比較重要的method為`Constants`及`GoProbes`。\\nid:: 665211c8-158b-4d58-9d5e-9299735e6acdlogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^Flogseq____&quot;,1757,536870965]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;665211c8-158b-4d58-9d5e-9299735e6acdlogseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;665211c8-158b-4d58-9d5e-9299735e6acdlogseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1755,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u665211c8-158b-4d58-9d5e-9299735e6acdlogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`bpf_*.go`還有些關於`map`以及`program`的struct，會在bpf相關的c程式中再回頭看。logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^Flogseq____&quot;,1765,536870965]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1756,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-6181-49ec-91c2-e6a170f1da30logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870965]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^Flogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^:logseq____&quot;,true,536870965]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870965]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1757,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-2e8e-456c-96b2-2718a8496a38logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## `Constants`logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^Flogseq____&quot;,1755,536870965]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870965]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^Jlogseq____&quot;,[],536870965]],[logseq____&quot;^15logseq____&quot;,[1758,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-edde-4d35-a2b9-ce9e4ff38a6flogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1759,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;pkg/internal/ebpf/tracer_linux.gologseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1759,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1759,logseq____&quot;^Flogseq____&quot;,1781,536870965]],[logseq____&quot;^15logseq____&quot;,[1759,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1759,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1759,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1759,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-8c75-4aa4-b48b-00d030540be8logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\ntitan@DESKTOP:~/sources/beyla$ ls pkg/internal/ebpf/nethttp/\\nbpf_bpfel_arm64.go  bpf_bpfel_x86.o           bpf_debug_bpfel_x86.go  bpf_tp_bpfel_arm64.o  bpf_tp_debug_bpfel_arm64.go  bpf_tp_debug_bpfel_x86.o\\nbpf_bpfel_arm64.o   bpf_debug_bpfel_arm64.go  bpf_debug_bpfel_x86.o   bpf_tp_bpfel_x86.go   bpf_tp_debug_bpfel_arm64.o   nethttp.go\\nbpf_bpfel_x86.go    bpf_debug_bpfel_arm64.o   bpf_tp_bpfel_arm64.go   bpf_tp_bpfel_x86.o    bpf_tp_debug_bpfel_x86.go\\n```logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^Flogseq____&quot;,1762,536870965]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1760,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-eafb-4224-9014-25596235e7delogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1761,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`bpf_*.o`是c code經過編譯之後，生成出的ebpf檔案，用`file`指令查看其中一個object檔可以看到有ePBF的內容。logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1761,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1761,logseq____&quot;^Flogseq____&quot;,1756,536870965]],[logseq____&quot;^15logseq____&quot;,[1761,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1761,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1761,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1761,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0779-4686-80f7-6b89320b5e3clogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;可以看到在 `pkg/internal/ebpf/nethttp`中，有各種`bpf_*.go`以及`bpf_*.o`的檔案，這些檔案都是透過`bpf2go`產生的。logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^Flogseq____&quot;,1774,536870965]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1762,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-3a25-413e-94a8-2f90c971f0dblogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1763,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`Constants` method定義了一個map，key為常數的名稱，value是這個常數的值。在 ((66313365-7bb8-4b8d-9264-1761f7c4181e))，可以把各個struct member的offset定義在`Constants`裡面，之後會透過`cilium/ebpf`的`*ebpf.CollectionSpec`呼叫[RewriteConstants](https://pkg.go.dev/github.com/cilium/ebpf#CollectionSpec.RewriteConstants) method，將常數寫到ebpf程式中。logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1763,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1763,logseq____&quot;^Flogseq____&quot;,1778,536870965]],[logseq____&quot;^15logseq____&quot;,[1763,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1763,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1763,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1763,logseq____&quot;^Hlogseq____&quot;,1378,536870965]],[logseq____&quot;^15logseq____&quot;,[1763,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-aef8-482e-9bdb-0397d47ff814logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// tracers returns Tracer implementer for each discovered eBPF traceable source: GRPC, HTTP...\\nfunc (pt *ProcessTracer) tracers() ([]Tracer, error) {\\n\\tloadMux.Lock()\\n\\tdefer loadMux.Unlock()\\n\\tvar log = ptlog()\\n\\n\\t// tracerFuncs contains the eBPF Programs (HTTP, GRPC tracers...)\\n\\tvar tracers []Tracer\\n\\n\\tfor _, p := range pt.Programs {\\n\\t\\tplog := log.With(\\logseq____&quot;program\\logseq____&quot;, reflect.TypeOf(p))\\n\\t\\tplog.Debug(\\logseq____&quot;loading eBPF program\\logseq____&quot;, \\logseq____&quot;PinPath\\logseq____&quot;, pt.PinPath, \\logseq____&quot;pid\\logseq____&quot;, pt.ELFInfo.Pid, \\logseq____&quot;cmd\\logseq____&quot;, pt.ELFInfo.CmdExePath)\\n\\t\\tspec, err := pt.loadSpec(p)\\n\\t\\tif err != nil {\\n\\t\\t\\treturn nil, err\\n\\t\\t}\\n\\t\\tif err := spec.LoadAndAssign(p.BpfObjects(), logseq____&amp;ebpf.CollectionOptions{\\n\\t\\t\\tPrograms: ebpf.ProgramOptions{LogSize: 640 * 1024},\\n\\t\\t\\tMaps: ebpf.MapOptions{\\n\\t\\t\\t\\tPinPath: pt.PinPath,\\n\\t\\t\\t}}); err != nil {\\n```logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^Flogseq____&quot;,1766,536870965]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1764,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-cd55-4f20-8743-acf6a77344cblogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// bpfObjects contains all objects after they have been loaded into the kernel.\\n//\\n// It can be passed to loadBpfObjects or ebpf.CollectionSpec.LoadAndAssign.\\ntype bpfObjects struct {\\n\\tbpfPrograms\\n\\tbpfMaps\\n}\\n```logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^Flogseq____&quot;,1768,536870965]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1765,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0dd5-469f-b043-82ccefe5656flogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在每一個ebpf程式中，都有一個`Tracer` struct實現`Tracer` interface，其中`Tracer` struct有一個private member是`bpfObjects`，會在`BpfObjects` method中expose `bpfObjects`的pointer。這個pointer會在`pkg/internal/ebpf/tracer_linux.go`中的`tracers`被使用到，並使用`cilium/ebpf`的`*ebpf.CollectionSpec`呼叫[LoadAndAssign](https://pkg.go.dev/github.com/cilium/ebpf#CollectionSpec.LoadAndAssign) method將`Map`跟`Programs`載入kernel，並指定給`p.BpfObjects()`pointer。\\nid:: 6631311c-967c-4902-a94a-30a1c17f6bdalogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^Flogseq____&quot;,1754,536870965]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6631311c-967c-4902-a94a-30a1c17f6bdalogseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6631311c-967c-4902-a94a-30a1c17f6bdalogseq____&quot;],536870965]],[logseq____&quot;^15logseq____&quot;,[1766,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u6631311c-967c-4902-a94a-30a1c17f6bdalogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^Flogseq____&quot;,1780,536870965]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1767,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-aa23-4a12-a1f0-44d09de123a1logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1768,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`bpf_*.go`定義了各類的program及map的specs及objects，可以直接在其他go檔案中調用。如在 ((663672eb-8811-4916-a7ad-a09b5ac3b8e0)) 中提到的 `tracer` struct中，`bpfObjects` private member的型態就來自於 `bpf_*.go`中的`bpfObjects`。logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1768,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1768,logseq____&quot;^Flogseq____&quot;,1760,536870965]],[logseq____&quot;^15logseq____&quot;,[1768,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1768,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1768,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1768,logseq____&quot;^Hlogseq____&quot;,1754,536870965]],[logseq____&quot;^15logseq____&quot;,[1768,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-8d7e-432d-9b5e-1dd5a10aea56logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1769,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在 `pkg/internal/ebpf/nethttp/nethttp.go`中，有是否啟用`HEADER_PROPAGATION`以及`BPF_DEBUG`共四種go generate組合，bpf的來源來自`/bpf`資料夾下的`go_nethttp.c`。logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1769,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1769,logseq____&quot;^Flogseq____&quot;,1776,536870965]],[logseq____&quot;^15logseq____&quot;,[1769,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1769,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1769,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1769,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7a4d-4d58-9b51-931815c3628flogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (pt *ProcessTracer) loadSpec(p Tracer) (*ebpf.CollectionSpec, error) {\\n\\tspec, err := p.Load()\\n\\tif err != nil {\\n\\t\\treturn nil, fmt.Errorf(\\logseq____&quot;loading eBPF program: %w\\logseq____&quot;, err)\\n\\t}\\n\\tif err := spec.RewriteConstants(p.Constants(pt.ELFInfo, pt.Goffsets)); err != nil {\\n\\t\\treturn nil, fmt.Errorf(\\logseq____&quot;rewriting BPF constants definition: %w\\logseq____&quot;, err)\\n\\t}\\n\\n\\treturn spec, nil\\n}\\n```logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^Flogseq____&quot;,1759,536870965]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1770,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d315-47e7-999d-5c59be4861ddlogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (i *instrumenter) goprobe(probe ebpfcommon.Probe) error {\\n\\t// Attach BPF programs as start and return probes\\n\\tif probe.Programs.Start != nil {\\n\\t\\tup, err := i.exe.Uprobe(\\logseq____&quot;\\logseq____&quot;, probe.Programs.Start, logseq____&amp;link.UprobeOptions{\\n\\t\\t\\tAddress: probe.Offsets.Start,\\n\\t\\t})\\n\\t\\tif err != nil {\\n\\t\\t\\treturn fmt.Errorf(\\logseq____&quot;setting uprobe: %w\\logseq____&quot;, err)\\n\\t\\t}\\n\\t\\ti.closables = append(i.closables, up)\\n\\t}\\n\\n\\tif probe.Programs.End != nil {\\n\\t\\t// Go wonlogseq____&apos;t work with Uretprobes because of the way Go manages the stack. We need to set uprobes just before the return\\n\\t\\t// values: https://github.com/iovisor/bcc/issues/1320\\n\\t\\tfor _, ret := range probe.Offsets.Returns {\\n\\t\\t\\turp, err := i.exe.Uprobe(\\logseq____&quot;\\logseq____&quot;, probe.Programs.End, logseq____&amp;link.UprobeOptions{\\n\\t\\t\\t\\tAddress: ret,\\n\\t\\t\\t})\\n\\t\\t\\tif err != nil {\\n\\t\\t\\t\\treturn fmt.Errorf(\\logseq____&quot;setting uretprobe: %w\\logseq____&quot;, err)\\n\\t\\t\\t}\\n\\t\\t\\ti.closables = append(i.closables, urp)\\n\\t\\t}\\n\\t}\\n\\n\\treturn nil\\n}\\n```logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^Flogseq____&quot;,1772,536870965]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1771,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f4a3-4b15-bab7-b8f663f56b73logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1772,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;pkg/internal/ebpf/instrumenter.gologseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1772,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1772,logseq____&quot;^Flogseq____&quot;,1775,536870965]],[logseq____&quot;^15logseq____&quot;,[1772,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1772,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1772,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1772,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7850-4f83-9695-a6fe9f4331a5logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### bpf2gologseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^Flogseq____&quot;,1764,536870965]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870965]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^Jlogseq____&quot;,[],536870965]],[logseq____&quot;^15logseq____&quot;,[1773,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5a8b-4c7c-b4b2-e3752907c76alogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n//go:generate $BPF2GO -cc $BPF_CLANG -cflags $BPF_CFLAGS -target amd64,arm64 bpf ../../../../bpf/go_nethttp.c -- -I../../../../bpf/headers -DNO_HEADER_PROPAGATION\\n//go:generate $BPF2GO -cc $BPF_CLANG -cflags $BPF_CFLAGS -target amd64,arm64 bpf_debug ../../../../bpf/go_nethttp.c -- -I../../../../bpf/headers -DBPF_DEBUG -DNO_HEADER_PROPAGATION\\n//go:generate $BPF2GO -cc $BPF_CLANG -cflags $BPF_CFLAGS -target amd64,arm64 bpf_tp ../../../../bpf/go_nethttp.c -- -I../../../../bpf/headers\\n//go:generate $BPF2GO -cc $BPF_CLANG -cflags $BPF_CFLAGS -target amd64,arm64 bpf_tp_debug ../../../../bpf/go_nethttp.c -- -I../../../../bpf/headers -DBPF_DEBUG\\n```logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^Flogseq____&quot;,1769,536870965]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1774,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-1856-42dc-bbb1-400735f34a4alogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1775,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`UProbes` method定義一個key為function的完整module name，如`net/http.serverHandler.ServeHTTP`，value為uprobe對應的function開始及結束的ebpf golang symbol name，如`p.bpfObjects.UprobeServeHTTP`。這之後同樣透過`cilium/ebpf`的[*link.Executable.Uprobe](https://pkg.go.dev/github.com/cilium/ebpf@v0.15.0/link#Executable.Uprobe)將ebpf程式 attach。logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1775,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1775,logseq____&quot;^Flogseq____&quot;,1777,536870965]],[logseq____&quot;^15logseq____&quot;,[1775,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1775,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1775,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1775,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7b83-4faf-8be2-c7cd54f3fcealogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1776,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;`bpf2go` compiles a C source file into eBPF bytecode and then emits a Go file containing the eBPF. The goal is to avoid loading the eBPF from disk at runtime and to minimise the amount of manual work required to interact with eBPF programs.logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1776,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1776,logseq____&quot;^Flogseq____&quot;,1779,536870965]],[logseq____&quot;^15logseq____&quot;,[1776,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1776,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1776,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1776,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-4891-4799-abe8-5c265c8f73a5logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; \\t// UProbes returns a map with the module name mapping to the uprobes that need to be\\n\\t// tapped into. Start matches uprobe, End matches uretprobe\\n\\tUProbes() map[string]map[string]ebpfcommon.FunctionProgramslogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^Flogseq____&quot;,1782,536870965]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1777,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-4342-4a55-a4d7-989f28c6697alogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1778,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;\\t// Constants returns a map of constants to be overriden into the eBPF program.\\n\\t// The key is the constant name and the value is the value to overwrite.\\n\\tConstants(*exec.FileInfo, *goexec.Offsets) map[string]anylogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1778,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1778,logseq____&quot;^Flogseq____&quot;,1758,536870965]],[logseq____&quot;^15logseq____&quot;,[1778,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1778,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1778,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1778,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0ddd-4d68-820a-c496119a8ca7logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1779,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在每個ebpf program中，都會有一連的go generate，呼叫[bpfto2]([bpf2go command - github.com/cilium/ebpf/cmd/bpf2go - Go Packages](https://pkg.go.dev/github.com/cilium/ebpf/cmd/bpf2go))，官方說明提到logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1779,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1779,logseq____&quot;^Flogseq____&quot;,1773,536870965]],[logseq____&quot;^15logseq____&quot;,[1779,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1779,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1779,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1779,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-80e2-4f35-8211-1b0657c5818blogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1780,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\ntitan@DESKTOP:~/sources/beyla$ file pkg/internal/ebpf/nethttp/bpf_bpfel_x86.o\\npkg/internal/ebpf/nethttp/bpf_bpfel_x86.o: ELF 64-bit LSB relocatable, eBPF, version 1 (SYSV), not stripped\\n```logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1780,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1780,logseq____&quot;^Flogseq____&quot;,1761,536870965]],[logseq____&quot;^15logseq____&quot;,[1780,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1780,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1780,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1780,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0f72-476e-b44f-59afa985f318logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## struct member offsetlogseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^Flogseq____&quot;,1763,536870965]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870965]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^Jlogseq____&quot;,[],536870965]],[logseq____&quot;^15logseq____&quot;,[1781,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-e02d-4c7f-83ba-2cf3fa689314logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1782,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`UProbes`logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1782,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1782,logseq____&quot;^Flogseq____&quot;,1770,536870965]],[logseq____&quot;^15logseq____&quot;,[1782,logseq____&quot;^Xlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1782,logseq____&quot;^Vlogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1782,logseq____&quot;^Ulogseq____&quot;,1753,536870965]],[logseq____&quot;^15logseq____&quot;,[1782,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-8ead-4bc1-b0c4-1c2c23197676logseq____&quot;,536870965]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## uprobe_execDClogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^Flogseq____&quot;,1795,536870966]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870966]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^Jlogseq____&quot;,[],536870966]],[logseq____&quot;^15logseq____&quot;,[1784,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-1003-45f4-83aa-54c0c3bda515logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1785,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[execDC](https://github.com/golang/go/blob/0d018b49e33b1383dc0ae5cc968e800dffeeaf7d/src/database/sql/sql.go#L1685-L1686)logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1785,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1785,logseq____&quot;^Flogseq____&quot;,1800,536870966]],[logseq____&quot;^15logseq____&quot;,[1785,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1785,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1785,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1785,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-fad8-422d-94f0-971d1ebb3f65logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`execDC`是method，根據 ((66370276-921c-4a97-9864-19b04feb2fb1)) ，receiver是`execDC`第一個參數(`GO_PARAM1`)logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^Flogseq____&quot;,1810,536870966]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^Hlogseq____&quot;,1649,536870966]],[logseq____&quot;^15logseq____&quot;,[1786,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-4853-4679-84db-d7340eee49e5logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1787,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\nSEC(\\logseq____&quot;uprobe/execDC\\logseq____&quot;)\\nint uprobe_execDC(struct pt_regs *ctx) {\\n    bpf_dbg_printk(\\logseq____&quot;=== uprobe/execDC === \\logseq____&quot;);\\n    void *goroutine_addr = GOROUTINE_PTR(ctx);\\n    bpf_dbg_printk(\\logseq____&quot;goroutine_addr %lx\\logseq____&quot;, goroutine_addr);\\n\\n    void *sql_param = GO_PARAM6(ctx);\\n    void *query_len = GO_PARAM7(ctx);\\n    set_sql_info(goroutine_addr, sql_param, query_len);\\n    return 0;\\n}\\n```logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1787,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1787,logseq____&quot;^Flogseq____&quot;,1789,536870966]],[logseq____&quot;^15logseq____&quot;,[1787,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1787,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1787,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1787,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7155-468f-995d-5be2a4dd0e67logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`query`是string，占第8與9個GO_PARAM，分別是`query` array pointer與`query` array length。logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^Flogseq____&quot;,1802,536870966]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1788,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-e6a9-4e9b-ae2f-35a44d020139logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`query`是string，占第6與7個GO_PARAMlogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^Flogseq____&quot;,1805,536870966]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1789,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-cb07-4376-be92-dbba917eebfdlogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`queryDC`是method，根據 ((66370276-921c-4a97-9864-19b04feb2fb1)) ，receiver是`queryDC`第一個參數(`GO_PARAM1`)logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^Flogseq____&quot;,1792,536870966]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^Hlogseq____&quot;,1649,536870966]],[logseq____&quot;^15logseq____&quot;,[1790,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f84c-4fdb-a1aa-1ec8919a5f5alogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^Flogseq____&quot;,1784,536870966]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1791,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-488a-4940-b16a-f58085e2fcaalogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1792,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1792,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1792,logseq____&quot;^Flogseq____&quot;,1794,536870966]],[logseq____&quot;^15logseq____&quot;,[1792,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1792,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1792,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1792,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d0c4-425e-ac15-f2c94bfa6cc1logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1793,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`context.Context`是interface，所以分別占第2, 3個GO_PARAMlogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1793,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1793,logseq____&quot;^Flogseq____&quot;,1808,536870966]],[logseq____&quot;^15logseq____&quot;,[1793,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1793,logseq____&quot;^Vlogseq____&quot;,1808,536870966]],[logseq____&quot;^15logseq____&quot;,[1793,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1793,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9d41-4a26-a6db-bdaf34eb3f9alogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1794,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[queryDC](https://github.com/golang/go/blob/0d018b49e33b1383dc0ae5cc968e800dffeeaf7d/src/database/sql/sql.go#L1761)logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1794,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1794,logseq____&quot;^Flogseq____&quot;,1799,536870966]],[logseq____&quot;^15logseq____&quot;,[1794,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1794,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1794,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1794,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-386c-41ef-820b-dd9a4efd3596logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1795,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\nSEC(\\logseq____&quot;uprobe/queryDC\\logseq____&quot;)\\nint uprobe_queryDC(struct pt_regs *ctx) {\\n    bpf_dbg_printk(\\logseq____&quot;=== uprobe/queryDC === \\logseq____&quot;);\\n    void *goroutine_addr = GOROUTINE_PTR(ctx);\\n    bpf_dbg_printk(\\logseq____&quot;goroutine_addr %lx\\logseq____&quot;, goroutine_addr);\\n\\n    void *sql_param = GO_PARAM8(ctx);\\n    void *query_len = GO_PARAM9(ctx);\\n    set_sql_info(goroutine_addr, sql_param, query_len);\\n    return 0;\\n}\\n```logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1795,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1795,logseq____&quot;^Flogseq____&quot;,1788,536870966]],[logseq____&quot;^15logseq____&quot;,[1795,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1795,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1795,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1795,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-897f-4598-b235-54e1beb3a133logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; // queryDC executes a query on the given connection.logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^Flogseq____&quot;,1807,536870966]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1796,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-b981-4329-9a68-d4f945fbe72elogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1797,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;形式：uprobelogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1797,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1797,logseq____&quot;^Flogseq____&quot;,1796,536870966]],[logseq____&quot;^15logseq____&quot;,[1797,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1797,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1797,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1797,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7466-49a2-b379-5f74a4892e13logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1798,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (db *DB) execDC(ctx context.Context, dc *driverConn, release func(error), query string, args []any) (res Result, err error)`logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1798,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1798,logseq____&quot;^Flogseq____&quot;,1810,536870966]],[logseq____&quot;^15logseq____&quot;,[1798,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1798,logseq____&quot;^Vlogseq____&quot;,1810,536870966]],[logseq____&quot;^15logseq____&quot;,[1798,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1798,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9139-49cd-9b7d-c7e2ab6e5f8blogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`database/sql.(*DB).queryDC`logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^Flogseq____&quot;,1797,536870966]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1799,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-4297-4556-b93d-59b7c3fa0a98logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;GoProbes：`database/sql.(*DB).execDC`logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^Flogseq____&quot;,1791,536870966]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1800,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-ce82-4a4a-a128-225589260b87logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`*driverConn`是pointer，第6個GO_PARAMlogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^Flogseq____&quot;,1811,536870966]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1801,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-6493-45f1-a881-b62e300334belogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1802,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`releaseConn`是function pointer，第7個GO_PAGRAMlogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1802,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1802,logseq____&quot;^Flogseq____&quot;,1801,536870966]],[logseq____&quot;^15logseq____&quot;,[1802,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1802,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1802,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1802,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-b8f2-405d-965a-57f70af1dfd2logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1803,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`*driverConn`是pointer，第4個GO_PARAMlogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1803,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1803,logseq____&quot;^Flogseq____&quot;,1808,536870966]],[logseq____&quot;^15logseq____&quot;,[1803,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1803,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1803,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1803,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-8aca-45d2-a2b2-d0b214a8fd27logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1804,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為`context.Context`是interface，所以分別占第2, 3, 4, 5個GO_PARAMlogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1804,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1804,logseq____&quot;^Flogseq____&quot;,1811,536870966]],[logseq____&quot;^15logseq____&quot;,[1804,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1804,logseq____&quot;^Vlogseq____&quot;,1811,536870966]],[logseq____&quot;^15logseq____&quot;,[1804,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1804,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-45b5-4437-92bb-49e2cf258ee8logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`releaseConn`是function pointer，第5個GO_PAGRAMlogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^Flogseq____&quot;,1803,536870966]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1805,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-c237-4558-b378-8d3d08d9affclogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1806,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`func (db *DB) queryDC(ctx, txctx context.Context, dc *driverConn, releaseConn func(error), query string, args []any) (*Rows, error)`logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1806,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1806,logseq____&quot;^Flogseq____&quot;,1792,536870966]],[logseq____&quot;^15logseq____&quot;,[1806,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1806,logseq____&quot;^Vlogseq____&quot;,1792,536870966]],[logseq____&quot;^15logseq____&quot;,[1806,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1806,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9b89-4d82-ab58-ac12fa899507logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## uprobe_queryDClogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^Flogseq____&quot;,1809,536870966]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870966]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^Jlogseq____&quot;,[],536870966]],[logseq____&quot;^15logseq____&quot;,[1807,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-c7e8-4052-a314-c9922e0fa7ablogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`ctx`logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^Flogseq____&quot;,1786,536870966]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1808,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-dce5-4057-b37c-6454f4433a01logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870966]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^Flogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^:logseq____&quot;,true,536870966]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870966]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870966]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870966]],[logseq____&quot;^15logseq____&quot;,[1809,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7a77-4c21-867b-6cbb48086592logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1810,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;function signature:logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1810,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1810,logseq____&quot;^Flogseq____&quot;,1785,536870966]],[logseq____&quot;^15logseq____&quot;,[1810,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1810,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1810,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1810,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0b7e-4d84-bc14-d3a53c51f8fblogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1811,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`ctx`, `txctx`logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1811,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1811,logseq____&quot;^Flogseq____&quot;,1790,536870966]],[logseq____&quot;^15logseq____&quot;,[1811,logseq____&quot;^Xlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1811,logseq____&quot;^Vlogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1811,logseq____&quot;^Ulogseq____&quot;,1449,536870966]],[logseq____&quot;^15logseq____&quot;,[1811,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-77b6-46fc-8c55-a006b25a940blogseq____&quot;,536870966]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^Klogseq____&quot;,1753899394604,536870967]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^@logseq____&quot;,false,536870967]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;beyla/traceslogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^Alogseq____&quot;,1359,536870967]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^11logseq____&quot;,logseq____&quot;Beyla/traceslogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870967]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^Blogseq____&quot;,1753899394604,536870967]],[logseq____&quot;^15logseq____&quot;,[1813,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-31c9-4f6c-a075-6b58e8ba9d6blogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1814,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (p *Tracer) lookForTimeouts(ticker *time.Ticker, eventsChan chanlogseq____&lt;- []request.Span) {\\n\\tfor t := range ticker.C {\\n\\t\\tif p.bpfObjects.OngoingHttp != nil {\\n\\t\\t\\ti := p.bpfObjects.OngoingHttp.Iterate()\\n\\t\\t\\tvar k bpfPidConnectionInfoT\\n\\t\\t\\tvar v bpfHttpInfoT\\n\\t\\t\\tfor i.Next(logseq____&amp;k, logseq____&amp;v) {\\n\\t\\t\\t\\t// Check if we have a lingering request which welogseq____&apos;ve completed, as in it has EndMonotimeNs\\n\\t\\t\\t\\t// but it hasnlogseq____&apos;t been posted yet, likely missed by the logic that looks at finishing requests\\n\\t\\t\\t\\t// where we track the full response. If we havenlogseq____&apos;t updated the EndMonotimeNs in more than some\\n\\t\\t\\t\\t// short interval, we are likely not going to finish this request from eBPF, so letlogseq____&apos;s do it here.\\n\\t\\t\\t\\tif v.EndMonotimeNs != 0 logseq____&amp;logseq____&amp; t.After(kernelTime(v.EndMonotimeNs).Add(2*time.Second)) {\\n\\t\\t\\t\\t\\t// Must use unsafe here, the two bpfHttpInfoTs are the same but generated from different\\n\\t\\t\\t\\t\\t// ebpf2go outputs\\n\\t\\t\\t\\t\\ts, ignore, err := ebpfcommon.HTTPInfoEventToSpan(*(*ebpfcommon.BPFHTTPInfo)(unsafe.Pointer(logseq____&amp;v)))\\n\\t\\t\\t\\t\\tif !ignore logseq____&amp;logseq____&amp; err == nil {\\n\\t\\t\\t\\t\\t\\teventsChan logseq____&lt;- p.pidsFilter.Filter([]request.Span{s})\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tif err := p.bpfObjects.OngoingHttp.Delete(k); err != nil {\\n\\t\\t\\t\\t\\t\\tp.log.Debug(\\logseq____&quot;Error deleting ongoing request\\logseq____&quot;, \\logseq____&quot;error\\logseq____&quot;, err)\\n\\t\\t\\t\\t\\t}\\n```logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1814,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1814,logseq____&quot;^Flogseq____&quot;,1828,536870967]],[logseq____&quot;^15logseq____&quot;,[1814,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1814,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1814,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1814,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d506-4dce-b6c6-ef2ed090bf06logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1815,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`rbf.processAndForward`中，利用`rbf.reader`將ringbuffer的record轉成span，再把span放在`spans` array的最後面。如果span長度達到batch的上限，則直接flush並更新ticker。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1815,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1815,logseq____&quot;^Flogseq____&quot;,1823,536870967]],[logseq____&quot;^15logseq____&quot;,[1815,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1815,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1815,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1815,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-37ee-4df7-9ec4-6d8024f1739flogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1816,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`pkg/internal/ebpf/tracer_linux.go`中`ProcessTracer.Run`會針對每一個`Tracer`，一樣將span channel傳給`Tracer.Run`。`Tracer`即是在 ((665211c8-158b-4d58-9d5e-9299735e6acd)) 提到的`Tracer` interface，也需要實現`Run` method。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1816,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1816,logseq____&quot;^Flogseq____&quot;,1819,536870967]],[logseq____&quot;^15logseq____&quot;,[1816,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1816,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1816,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1816,logseq____&quot;^Hlogseq____&quot;,1755,536870967]],[logseq____&quot;^15logseq____&quot;,[1816,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-2392-40d7-b888-397f964569c6logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1817,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在初始化`ringBufForwarder` (`rbf`)時候，是將`ReadBPFTraceAsSpan` function覆寫到`reader` field。`ReadBPFTraceAsSpan` function負責將ringbuffer的record依照event type，轉化給各式各樣的span。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1817,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1817,logseq____&quot;^Flogseq____&quot;,1824,536870967]],[logseq____&quot;^15logseq____&quot;,[1817,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1817,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1817,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1817,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-55fe-4ceb-9560-8f316882f3ealogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1818,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (p *Tracer) Run(ctx context.Context, eventsChan chanlogseq____&lt;- []request.Span) {\\n\\t// At this point we now have loaded the bpf objects, which means we should insert any\\n\\t// pids that are allowed into the bpf map\\n\\tif p.bpfObjects.ValidPids != nil {\\n\\t\\tp.rebuildValidPids()\\n\\t} else {\\n\\t\\tp.log.Error(\\logseq____&quot;BPF Pids map is not created yet, this is a bug.\\logseq____&quot;)\\n\\t}\\n\\n\\ttimeoutTicker := time.NewTicker(2 * time.Second)\\n\\n\\tgo p.watchForMisclassifedEvents()\\n\\tgo p.lookForTimeouts(timeoutTicker, eventsChan)\\n\\tdefer timeoutTicker.Stop()\\n\\n\\tebpfcommon.SharedRingbuf(\\n\\t\\tlogseq____&amp;p.cfg.EBPF,\\n\\t\\tp.pidsFilter,\\n\\t\\tp.bpfObjects.Events,\\n\\t\\tp.metrics,\\n\\t)(ctx, append(p.closers, logseq____&amp;p.bpfObjects), eventsChan)\\n}\\n```logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1818,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1818,logseq____&quot;^Flogseq____&quot;,1822,536870967]],[logseq____&quot;^15logseq____&quot;,[1818,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1818,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1818,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1818,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-2839-4d52-b9cb-e6f89e5e8f73logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1819,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n\\t\\t\\tcase pt := logseq____&lt;-foundProcesses:\\n\\t\\t\\t\\tlog.Debug(\\logseq____&quot;running tracer for new process\\logseq____&quot;,\\n\\t\\t\\t\\t\\t\\logseq____&quot;inode\\logseq____&quot;, pt.ELFInfo.Ino, \\logseq____&quot;pid\\logseq____&quot;, pt.ELFInfo.Pid, \\logseq____&quot;exec\\logseq____&quot;, pt.ELFInfo.CmdExePath)\\n\\t\\t\\t\\tcctx, ok := contexts[pt.ELFInfo.Ino]\\n\\t\\t\\t\\tif !ok {\\n\\t\\t\\t\\t\\tcctx.ctx, cctx.cancel = context.WithCancel(i.ctx)\\n\\t\\t\\t\\t\\tcontexts[pt.ELFInfo.Ino] = cctx\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tgo pt.Run(cctx.ctx, i.tracesInput)\\n```logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1819,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1819,logseq____&quot;^Flogseq____&quot;,1829,536870967]],[logseq____&quot;^15logseq____&quot;,[1819,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1819,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1819,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1819,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-c50b-4c04-8c92-8f5e7cd878ealogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## 追蹤在Beyla的user side如何接收從BPF傳來的span (event source)logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^Flogseq____&quot;,1826,536870967]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870967]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^Jlogseq____&quot;,[],536870967]],[logseq____&quot;^15logseq____&quot;,[1820,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-358d-4538-a6d6-ce61eae69806logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1821,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1821,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1821,logseq____&quot;^Flogseq____&quot;,1817,536870967]],[logseq____&quot;^15logseq____&quot;,[1821,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1821,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1821,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1821,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-b2ff-43a6-9948-85d056780144logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1822,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;先看到`pkg/internal/ebpf/httpfltr/httpfltr.go`中實現的Run method。主要是在`p.lookForTimeouts(timeoutTicker, eventsChan)`把BPF map內容讀出來，轉成span再丟入channel。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1822,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1822,logseq____&quot;^Flogseq____&quot;,1830,536870967]],[logseq____&quot;^15logseq____&quot;,[1822,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1822,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1822,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1822,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-c343-48d3-8dde-811b18f0c589logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1823,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (rbf *ringBufForwarder) readAndForwardInner(eventsReader ringBufReader, spansChan chanlogseq____&lt;- []request.Span) {\\n\\t// Forwards periodically on timeout, if the batch is not full\\n\\tif rbf.cfg.BatchTimeout logseq____&gt; 0 {\\n\\t\\trbf.ticker = time.NewTicker(rbf.cfg.BatchTimeout)\\n\\t\\tgo rbf.bgFlushOnTimeout(spansChan)\\n\\t}\\n\\n\\trbf.logger.Debug(\\logseq____&quot;starting to read ring buffer\\logseq____&quot;)\\n\\trecord, err := eventsReader.Read()\\n\\tfor {\\n\\t\\tif err != nil {\\n\\t\\t\\tif errors.Is(err, ringbuf.ErrClosed) {\\n\\t\\t\\t\\trbf.logger.Debug(\\logseq____&quot;ring buffer is closed\\logseq____&quot;)\\n\\t\\t\\t\\treturn\\n\\t\\t\\t}\\n\\t\\t\\trbf.logger.Error(\\logseq____&quot;error reading from perf reader\\logseq____&quot;, err)\\n\\t\\t\\tcontinue\\n\\t\\t}\\n\\t\\trbf.processAndForward(record, spansChan)\\n\\n\\t\\t// read another event before the next loop iteration\\n\\t\\trecord, err = eventsReader.Read()\\n\\t}\\n}\\n```logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1823,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1823,logseq____&quot;^Flogseq____&quot;,1825,536870967]],[logseq____&quot;^15logseq____&quot;,[1823,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1823,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1823,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1823,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-2b12-43c4-953f-4efe974bc22blogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1824,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (rbf *ringBufForwarder) processAndForward(record ringbuf.Record, spansChan chanlogseq____&lt;- []request.Span) {\\n\\trbf.access.Lock()\\n\\tdefer rbf.access.Unlock()\\n\\ts, ignore, err := rbf.reader(logseq____&amp;record, rbf.filter)\\n\\tif err != nil {\\n\\t\\trbf.logger.Error(\\logseq____&quot;error parsing perf event\\logseq____&quot;, err)\\n\\t\\treturn\\n\\t}\\n\\tif ignore {\\n\\t\\treturn\\n\\t}\\n\\tif !s.IsValid() {\\n\\t\\trbf.logger.Debug(\\logseq____&quot;invalid span\\logseq____&quot;, \\logseq____&quot;span\\logseq____&quot;, s)\\n\\t\\treturn\\n\\t}\\n\\trbf.spans[rbf.spansLen] = s\\n\\t// we need to decorate each span with the tracerlogseq____&apos;s service name\\n\\t// if this information is not forwarded from eBPF\\n\\trbf.spansLen++\\n\\tif rbf.spansLen == rbf.cfg.BatchLength {\\n\\t\\trbf.logger.Debug(\\logseq____&quot;submitting traces after batch is full\\logseq____&quot;, \\logseq____&quot;len\\logseq____&quot;, rbf.spansLen)\\n\\t\\trbf.flushEvents(spansChan)\\n\\t\\tif rbf.ticker != nil {\\n\\t\\t\\trbf.ticker.Reset(rbf.cfg.BatchTimeout)\\n\\t\\t}\\n\\t}\\n}\\n```logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1824,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1824,logseq____&quot;^Flogseq____&quot;,1815,536870967]],[logseq____&quot;^15logseq____&quot;,[1824,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1824,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1824,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1824,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-053c-47ef-8950-b43153bc0894logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`readAndForwardInner`是從ringbuffer讀trace的核心function，會將ringbuffer傳來的內容轉成span並放入`spansChan`，flush的時機是使用者設定的timeout或是buffer已滿。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^Flogseq____&quot;,1827,536870967]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1825,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-1703-4b11-9736-e9a67366a1b6logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870967]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^Flogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^:logseq____&quot;,true,536870967]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870967]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870967]],[logseq____&quot;^15logseq____&quot;,[1826,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-1e30-4446-a9c8-d91e78bf44f5logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1827,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (rbf *ringBufForwarder) sharedReadAndForward(ctx context.Context, closers []io.Closer, spansChan chanlogseq____&lt;- []request.Span) {\\n\\trbf.logger.Debug(\\logseq____&quot;start reading and forwarding\\logseq____&quot;)\\n\\t// BPF will send each measured trace via Ring Buffer, so we listen for them from the\\n\\t// user space.\\n\\teventsReader, err := readerFactory(rbf.ringbuffer)\\n\\tif err != nil {\\n\\t\\trbf.logger.Error(\\logseq____&quot;creating perf reader. Exiting\\logseq____&quot;, err)\\n\\t\\treturn\\n\\t}\\n\\trbf.spans = make([]request.Span, rbf.cfg.BatchLength)\\n\\trbf.spansLen = 0\\n\\n\\t// If the underlying context is closed, it closes the objects we have allocated for this bpf program\\n\\tgo rbf.bgListenSharedContextCancelation(ctx, closers)\\n\\trbf.readAndForwardInner(eventsReader, spansChan)\\n}\\n```logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1827,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1827,logseq____&quot;^Flogseq____&quot;,1831,536870967]],[logseq____&quot;^15logseq____&quot;,[1827,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1827,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1827,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1827,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f63f-4814-ba32-24af1b46f187logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`Tracer.lookForTimeouts`中，在ticker每隔2秒的時間時，會iterate `OngoingHttp` BPF map的內容，嘗試透過`ebpfcommon.HTTPInfoEventToSpan`將value轉成span，再丟入channel內，而後將key從`OngoingHttp`刪除掉。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^Flogseq____&quot;,1818,536870967]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1828,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a6b7-4a56-bca6-2382e8b7759flogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1829,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`pkg/internal/appolly/appolly.go`中的`FindAndInstrument` function，會將span channel傳給`ProcessTracer.Run`。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1829,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1829,logseq____&quot;^Flogseq____&quot;,1820,536870967]],[logseq____&quot;^15logseq____&quot;,[1829,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1829,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1829,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1829,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-20b7-481e-9281-7da3d7d86ed4logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1830,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (pt *ProcessTracer) Run(ctx context.Context, out chanlogseq____&lt;- []request.Span) {\\n\\tpt.log = ptlog().With(\\logseq____&quot;path\\logseq____&quot;, pt.ELFInfo.CmdExePath, \\logseq____&quot;pid\\logseq____&quot;, pt.ELFInfo.Pid)\\n\\n\\tpt.log.Debug(\\logseq____&quot;starting process tracer\\logseq____&quot;)\\n\\t// Searches for traceable functions\\n\\ttrcrs, err := pt.tracers()\\n\\tif err != nil {\\n\\t\\tpt.log.Error(\\logseq____&quot;couldnlogseq____&apos;t trace process. Stopping process tracer\\logseq____&quot;, \\logseq____&quot;error\\logseq____&quot;, err)\\n\\t\\treturn\\n\\t}\\n\\n\\tfor _, t := range trcrs {\\n\\t\\tgo t.Run(ctx, out)\\n\\t}\\n\\tgo func() {\\n\\t\\tlogseq____&lt;-ctx.Done()\\n\\t}()\\n}\\n```logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1830,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1830,logseq____&quot;^Flogseq____&quot;,1816,536870967]],[logseq____&quot;^15logseq____&quot;,[1830,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1830,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1830,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1830,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-ae32-4629-a95b-1073c29d7989logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1831,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;---\\n\\n在`ebpfcommon.SharedRingbuf`最終會呼叫`sharedReadAndForward`，這function主要在user space聆聽ring buffer傳來的trace。會先預先準備`BatchLength`長度的array，並傳給`rbf.readAndForwardInner`執行。logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1831,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1831,logseq____&quot;^Flogseq____&quot;,1814,536870967]],[logseq____&quot;^15logseq____&quot;,[1831,logseq____&quot;^Xlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1831,logseq____&quot;^Vlogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1831,logseq____&quot;^Ulogseq____&quot;,1813,536870967]],[logseq____&quot;^15logseq____&quot;,[1831,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-2456-4052-afbe-e0b5167ea1edlogseq____&quot;,536870967]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^Klogseq____&quot;,1753899394672,536870969]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^@logseq____&quot;,false,536870969]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;go/abilogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^Alogseq____&quot;,1837,536870969]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^11logseq____&quot;,logseq____&quot;Go/ABIlogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870969]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^Blogseq____&quot;,1753899394672,536870969]],[logseq____&quot;^15logseq____&quot;,[1836,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-8c9d-4895-83c4-c43ad6d3899blogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1838,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nRAX, RBX, RCX, RDI, RSI, R8, R9, R10, R11\\n```logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1838,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1838,logseq____&quot;^Flogseq____&quot;,1859,536870969]],[logseq____&quot;^15logseq____&quot;,[1838,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1838,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1838,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1838,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-af8c-409f-befb-65f6ba923b71logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1839,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1839,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1839,logseq____&quot;^Flogseq____&quot;,1845,536870969]],[logseq____&quot;^15logseq____&quot;,[1839,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1839,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1839,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1839,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-07e1-46f6-b844-2d2150837910logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1840,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; The receiver, arguments, and results of function or method F are assigned to registers or the stack using the following algorithm:\\n1. ...\\n2. If F is a method, assign F’s receiver.logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1840,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1840,logseq____&quot;^Flogseq____&quot;,1649,536870969]],[logseq____&quot;^15logseq____&quot;,[1840,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1840,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1840,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1840,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-dd71-4a37-a6d2-62d47a5353a5logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1841,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; The layout of `map`, `chan`, and `func` types is equivalent to *T.logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1841,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1841,logseq____&quot;^Flogseq____&quot;,1862,536870969]],[logseq____&quot;^15logseq____&quot;,[1841,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1841,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1841,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1841,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-4fe5-4bfd-86d0-46d453853c10logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1842,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[go/src/runtime/iface.go](https://github.com/golang/go/blob/master/src/runtime/iface.go)logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1842,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1842,logseq____&quot;^Flogseq____&quot;,1853,536870969]],[logseq____&quot;^15logseq____&quot;,[1842,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1842,logseq____&quot;^Vlogseq____&quot;,1849,536870969]],[logseq____&quot;^15logseq____&quot;,[1842,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1842,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-bc36-4cb1-b9b6-225d4620a4f7logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## array typelogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^Flogseq____&quot;,1848,536870969]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870969]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^Jlogseq____&quot;,[],536870969]],[logseq____&quot;^15logseq____&quot;,[1843,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7a6c-40a8-9fc3-c686059b94d9logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1844,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;The `interface{}` type is a sequence of 1. a pointer to the runtime type description for the interface’s dynamic type and 2. an `unsafe.Pointer` data field. Any other interface type (besides the empty interface) is a sequence of 1. a pointer to the runtime “itab” that gives the method pointers and the type of the data field and 2. an `unsafe.Pointer` data field. An interface can be “direct” or “indirect” depending on the dynamic type: a direct interface stores the value directly in the data field, and an indirect interface stores a pointer to the value in the data field. An interface can only be direct if the value consists of a single pointer word.logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1844,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1844,logseq____&quot;^Flogseq____&quot;,1644,536870969]],[logseq____&quot;^15logseq____&quot;,[1844,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1844,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1844,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1844,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-98b3-4368-a8e7-f4ba4171f247logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1845,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```c\\n#define GO_PARAM1(x) ((void*)(x)-logseq____&gt;ax)\\n#define GO_PARAM2(x) ((void*)(x)-logseq____&gt;bx)\\n#define GO_PARAM3(x) ((void*)(x)-logseq____&gt;cx)\\n#define GO_PARAM4(x) ((void*)(x)-logseq____&gt;di)\\n#define GO_PARAM5(x) ((void*)(x)-logseq____&gt;si)\\n#define GO_PARAM6(x) ((void*)(x)-logseq____&gt;r8)\\n#define GO_PARAM7(x) ((void*)(x)-logseq____&gt;r9)\\n#define GO_PARAM8(x) ((void*)(x)-logseq____&gt;r10)\\n#define GO_PARAM9(x) ((void*)(x)-logseq____&gt;r11)\\n\\n// In x86, current goroutine is pointed by r14, according to\\n// https://go.googlesource.com/go/+/refs/heads/dev.regabi/src/cmd/compile/internal-abi.md#amd64-architecture\\n#define GOROUTINE_PTR(x) ((void*)(x)-logseq____&gt;r14)\\n```logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1845,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1845,logseq____&quot;^Flogseq____&quot;,1847,536870969]],[logseq____&quot;^15logseq____&quot;,[1845,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1845,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1845,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1845,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f5d4-4bcd-a014-50be751ab350logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; The slice type `[]T` is a sequence of a `*[cap]T` pointer to the slice backing store, an `int` giving the `len` of the slice, and an `int` giving the `cap` of the slice.logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^Flogseq____&quot;,1855,536870969]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1846,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-55f6-42a5-82b6-19982d144144logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在`bpf/headers/utils.h`定義了macro，取得argument以及go routine pointer。logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^Flogseq____&quot;,1860,536870969]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1847,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-86bb-4bb4-9cfb-242ec2752607logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1848,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; The `string` type is a sequence of a `*[len]byte` pointer to the string backing store, and an `int` giving the `len` of the string.logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1848,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1848,logseq____&quot;^Flogseq____&quot;,1846,536870969]],[logseq____&quot;^15logseq____&quot;,[1848,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1848,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1848,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1848,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d657-4362-85de-f7dc54bedd66logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1849,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;參考logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1849,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1849,logseq____&quot;^Flogseq____&quot;,1858,536870969]],[logseq____&quot;^15logseq____&quot;,[1849,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1849,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1849,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1849,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d633-484e-b91a-c29f0a53925blogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;| Type | 64-bit |  | 32-bit |  |\\n| ---- | ---- |\\n|  | Size | Align | Size | Align |\\n| int, uint | 8 | 8 | 4 | 4 |logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^Flogseq____&quot;,1856,536870969]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1850,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7076-49ed-8f32-c122e0591f15logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870969]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^Flogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^:logseq____&quot;,true,536870969]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870969]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1851,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-2281-4fd4-b540-9f0cd76819bdlogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1852,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;來源：[Go internal ABI specification](https://tip.golang.org/src/cmd/compile/abi-internal)logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1852,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1852,logseq____&quot;^Flogseq____&quot;,1851,536870969]],[logseq____&quot;^15logseq____&quot;,[1852,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1852,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1852,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1852,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-bf04-4e50-8712-648bcd026999logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1853,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://research.swtch.com/interfaceslogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1853,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1853,logseq____&quot;^Flogseq____&quot;,1849,536870969]],[logseq____&quot;^15logseq____&quot;,[1853,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1853,logseq____&quot;^Vlogseq____&quot;,1849,536870969]],[logseq____&quot;^15logseq____&quot;,[1853,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1853,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-681a-4398-835e-349838c3cd6dlogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1854,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Special-purpose registers are as follows:logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1854,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1854,logseq____&quot;^Flogseq____&quot;,1838,536870969]],[logseq____&quot;^15logseq____&quot;,[1854,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1854,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1854,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1854,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a151-4d46-a51f-3a7331de601alogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## string typelogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^Flogseq____&quot;,1841,536870969]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870969]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^Jlogseq____&quot;,[],536870969]],[logseq____&quot;^15logseq____&quot;,[1855,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f4dc-4849-b1cd-3236f2f24eeflogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## int typelogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^Flogseq____&quot;,1852,536870969]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870969]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^Jlogseq____&quot;,[],536870969]],[logseq____&quot;^15logseq____&quot;,[1856,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-6a0e-468b-abd5-397d931fcfc3logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1857,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://go.dev/blog/slices-intrologseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1857,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1857,logseq____&quot;^Flogseq____&quot;,1843,536870969]],[logseq____&quot;^15logseq____&quot;,[1857,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1857,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1857,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1857,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-bdfa-4a25-baa1-98cf34d6edbelogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;第一個pointer是指向vtable，第二個pointer是指向實現interface的structlogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^Flogseq____&quot;,1844,536870969]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1858,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0cd6-4cb8-bde4-7312292bf8b7logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;The amd64 architecture uses the following sequence of 9 registers for integer arguments and results:logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^Flogseq____&quot;,1657,536870969]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1859,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-8a04-4032-9bac-58a953b5e36dlogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1860,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;| Register | Call meaning | Return meaning | Body meaning |\\n| ---- | ---- | ---- |\\n| RSP | Stack pointer | Same | Same |\\n| RBP | Frame pointer | Same | Same |\\n| RDX | Closure context pointer | Scratch | Scratch |\\n| R12 | Scratch | Scratch | Scratch |\\n| R13 | Scratch | Scratch | Scratch |\\n| R14 | Current goroutine | Same | Same |\\n| R15 | GOT reference temporary if dynlink | Same | Same |\\n| X15 | Zero value (*) | Same | Scratch |logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1860,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1860,logseq____&quot;^Flogseq____&quot;,1854,536870969]],[logseq____&quot;^15logseq____&quot;,[1860,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1860,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1860,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1860,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0605-40b5-adc3-6f93285b2a89logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt;| Type | 64-bit |  | 32-bit |  |\\n| ---- | ---- |\\n|  | Size | Align | Size | Align |\\n| uintptr, *T, unsafe.Pointer | 8 | 8 | 4 | 4 |logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^Flogseq____&quot;,1628,536870969]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1861,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d886-491b-9bda-7b9563c5c89blogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## function type\\nid:: 66370734-e368-4c5f-813d-8afd569e965alogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^Flogseq____&quot;,1840,536870969]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^Xlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^Vlogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^Ulogseq____&quot;,1836,536870969]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370734-e368-4c5f-813d-8afd569e965alogseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870969]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66370734-e368-4c5f-813d-8afd569e965alogseq____&quot;],536870969]],[logseq____&quot;^15logseq____&quot;,[1862,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66370734-e368-4c5f-813d-8afd569e965alogseq____&quot;,536870969]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^Klogseq____&quot;,1753899394715,536870970]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^@logseq____&quot;,false,536870970]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;go/internallogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^Alogseq____&quot;,1837,536870970]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^11logseq____&quot;,logseq____&quot;Go/internallogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870970]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^Blogseq____&quot;,1753899394715,536870970]],[logseq____&quot;^15logseq____&quot;,[1864,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d0d0-4d0b-b31f-16985ae615f0logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1865,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;參考資料logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1865,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1865,logseq____&quot;^Flogseq____&quot;,1866,536870970]],[logseq____&quot;^15logseq____&quot;,[1865,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1865,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1865,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1865,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f9e8-4106-ac72-427dbc125ba2logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1866,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n\\t// Possible tophash values. We reserve a few possibilities for special marks.\\n\\t// Each bucket (including its overflow buckets, if any) will have either all or none of its\\n\\t// entries in the evacuated* states (except during the evacuate() method, which only happens\\n\\t// during map writes and thus no one else can observe the map during that time).\\n\\temptyRest      = 0 // this cell is empty, and there are no more non-empty cells at higher indexes or overflows.\\n    emptyOne       = 1 // this cell is empty\\n```logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1866,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1866,logseq____&quot;^Flogseq____&quot;,1878,536870970]],[logseq____&quot;^15logseq____&quot;,[1866,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1866,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1866,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1866,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-6faa-4f9e-930d-36f08a5c5bcclogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1867,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1867,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1867,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870970]],[logseq____&quot;^15logseq____&quot;,[1867,logseq____&quot;^Flogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1867,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1867,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1867,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1867,logseq____&quot;^:logseq____&quot;,true,536870970]],[logseq____&quot;^15logseq____&quot;,[1867,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870970]],[logseq____&quot;^15logseq____&quot;,[1867,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1867,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1867,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-da6f-47dd-8e31-a21bccc51c0blogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1868,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://themsaid.com/map-internals-go-1-24logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1868,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1868,logseq____&quot;^Flogseq____&quot;,1870,536870970]],[logseq____&quot;^15logseq____&quot;,[1868,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1868,logseq____&quot;^Vlogseq____&quot;,1865,536870970]],[logseq____&quot;^15logseq____&quot;,[1868,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1868,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-3080-4da5-a591-5015a14b35fflogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nconst (\\n\\t// Maximum number of key/elem pairs a bucket can hold.\\n\\tbucketCntBits = abi.MapBucketCountBits\\n\\tbucketCnt     = abi.MapBucketCount\\n  \\n```logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^Flogseq____&quot;,1871,536870970]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1869,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7ed4-42e9-9c44-f3a82b843e96logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1870,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[Internals of Map in Golang](https://phati-sawant.medium.com/internals-of-map-in-golang-33db6e25b3f8)logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1870,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1870,logseq____&quot;^Flogseq____&quot;,1873,536870970]],[logseq____&quot;^15logseq____&quot;,[1870,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1870,logseq____&quot;^Vlogseq____&quot;,1865,536870970]],[logseq____&quot;^15logseq____&quot;,[1870,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1870,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-dccc-45f3-b196-aa4c844b652dlogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1871,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;每一個bucket的entry數量上限由`bucketCnt`定義logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1871,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1871,logseq____&quot;^Flogseq____&quot;,1872,536870970]],[logseq____&quot;^15logseq____&quot;,[1871,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1871,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1871,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1871,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-1ad5-4648-a616-1be1bef6d641logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1872,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// A header for a Go map.\\ntype hmap struct {\\n\\t// Note: the format of the hmap is also encoded in cmd/compile/internal/reflectdata/reflect.go.\\n\\t// Make sure this stays in sync with the compilerlogseq____&apos;s definition.\\n\\tcount     int // # live cells == size of map.  Must be first (used by len() builtin)\\n...\\n\\tB         uint8  // log_2 of # of buckets (can hold up to loadFactor * 2^B items)\\n...\\n\\n\\tbuckets    unsafe.Pointer // array of 2^B Buckets. may be nil if count==0.\\n...\\n}\\n\\n```logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1872,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1872,logseq____&quot;^Flogseq____&quot;,1499,536870970]],[logseq____&quot;^15logseq____&quot;,[1872,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1872,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1872,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1872,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-adaf-4b7f-b367-a4ec7d5d6a70logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[GopherCon 2016: Keith Randall - Inside the Map Implementation](https://www.youtube.com/watch?v=Tl7mi9QmLns)logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^Flogseq____&quot;,1865,536870970]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^Vlogseq____&quot;,1865,536870970]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1873,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9649-43ec-8335-5b56e370e341logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;bucket的主要結構是`bmap`，在struct中只定義了`tophash` member，註解有提到接著是`bucketCnt`個`keys`以及`bucketCnt`個`elems`，最後是`overflow` pointer。\\nid:: 66424a8b-6b55-4842-848e-2c75ef257c7alogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^Flogseq____&quot;,1877,536870970]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66424a8b-6b55-4842-848e-2c75ef257c7alogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66424a8b-6b55-4842-848e-2c75ef257c7alogseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1874,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66424a8b-6b55-4842-848e-2c75ef257c7alogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1875,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// A bucket for a Go map.\\ntype bmap struct {\\n\\t// tophash generally contains the top byte of the hash value\\n\\t// for each key in this bucket. If tophash[0] logseq____&lt; minTopHash,\\n\\t// tophash[0] is a bucket evacuation state instead.\\n\\ttophash [bucketCnt]uint8\\n\\t// Followed by bucketCnt keys and then bucketCnt elems.\\n\\t// NOTE: packing all the keys together and then all the elems together makes the\\n\\t// code a bit more complicated than alternating key/elem/key/elem/... but it allows\\n\\t// us to eliminate padding which would be needed for, e.g., map[int64]int8.\\n\\t// Followed by an overflow pointer.\\n}\\n```logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1875,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1875,logseq____&quot;^Flogseq____&quot;,1874,536870970]],[logseq____&quot;^15logseq____&quot;,[1875,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1875,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1875,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1875,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-cb26-4432-ada1-65ed60355ddalogseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1876,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;source code: https://go.dev/src/runtime/map.gologseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1876,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1876,logseq____&quot;^Flogseq____&quot;,1470,536870970]],[logseq____&quot;^15logseq____&quot;,[1876,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1876,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1876,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1876,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-456f-4a90-aef6-cd7ca7ffa509logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nconst (\\n\\tMapBucketCountBits = 3 // log2 of number of elements in a bucket.\\n\\tMapBucketCount     = 1 logseq____&lt;logseq____&lt; MapBucketCountBits\\n...\\n)\\n```logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^Flogseq____&quot;,1490,536870970]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1877,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7a98-46e6-b684-fcceffc706b8logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`tophash[i]`值是1，則這cell為空值  [參考](https://github.com/golang/go/blob/9050ce9b334419066c364e747499a2faf4425dad/src/runtime/map.go#L87)\\nid:: 66375d2e-4f0d-4bcf-8e29-60920f0b0d00logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^Flogseq____&quot;,1492,536870970]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^Xlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^Vlogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^Ulogseq____&quot;,1864,536870970]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66375d2e-4f0d-4bcf-8e29-60920f0b0d00logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;66375d2e-4f0d-4bcf-8e29-60920f0b0d00logseq____&quot;],536870970]],[logseq____&quot;^15logseq____&quot;,[1878,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u66375d2e-4f0d-4bcf-8e29-60920f0b0d00logseq____&quot;,536870970]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^Klogseq____&quot;,1753899394748,536870971]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^@logseq____&quot;,false,536870971]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;go/netlogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^Alogseq____&quot;,1837,536870971]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^11logseq____&quot;,logseq____&quot;Go/netlogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870971]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870971]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^Blogseq____&quot;,1753899394748,536870971]],[logseq____&quot;^15logseq____&quot;,[1880,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0c93-4be4-ad96-182f50fc63d2logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在建立http2 server時，是使用[tls.Server](https://github.com/golang/go/blob/a0da9c00aeb51261b9845a46fbc9878870884ab6/src/crypto/tls/tls.go#L34)建立[tls.Conn](https://github.com/golang/go/blob/1e12eab8705d1d8d7472be9147a39caa1c8380db/src/crypto/tls/conn.go#L28) struct。logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^Flogseq____&quot;,1893,536870971]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1881,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7cd4-4865-9883-e75f8c84e9aclogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## `TCPConn`logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^Flogseq____&quot;,1889,536870971]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870971]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^Jlogseq____&quot;,[],536870971]],[logseq____&quot;^15logseq____&quot;,[1882,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-fe43-4ce7-aec4-6cfed32f3014logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## [net.TCPConn](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/tcpsock.go#L112)logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^Flogseq____&quot;,1640,536870971]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870971]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^Jlogseq____&quot;,[],536870971]],[logseq____&quot;^15logseq____&quot;,[1883,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5b91-4527-923e-d9f0602ab9c9logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`tls.Conn` struct裡面的`conn`，又是另一個`net.Conn` interface。logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^Flogseq____&quot;,1895,536870971]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1884,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-8db2-41a2-92b2-388d9c719758logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1885,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc Server(conn net.Conn, config *Config) *Conn {\\n\\tc := logseq____&amp;Conn{\\n\\t\\tconn:   conn,\\n\\t\\tconfig: config,\\n\\t}\\n\\tc.handshakeFn = c.serverHandshake\\n\\treturn c\\n}\\n\\n```logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1885,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1885,logseq____&quot;^Flogseq____&quot;,1881,536870971]],[logseq____&quot;^15logseq____&quot;,[1885,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1885,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1885,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1885,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a09e-423b-9d22-461d6a641452logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1886,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1886,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1886,logseq____&quot;^Flogseq____&quot;,1887,536870971]],[logseq____&quot;^15logseq____&quot;,[1886,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1886,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1886,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1886,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-8b4e-4474-abd1-34268380024blogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1887,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// TCPConn is an implementation of the [Conn] interface for TCP network\\n// connections.\\ntype TCPConn struct {\\n\\tconn\\n}\\n```logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1887,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1887,logseq____&quot;^Flogseq____&quot;,1888,536870971]],[logseq____&quot;^15logseq____&quot;,[1887,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1887,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1887,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1887,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a93d-4f0d-beaf-92cfbc223de1logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果`network`是`tcp`，則會在`l.Listener.Accept`回傳實作`net.Conn`的[net.TCPConn](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/tcpsock.go#L112)。`conn`就是[net.conn](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/net.go#L166)，也同樣實作`net.Conn` interface，以embed struct形式在`TCPConn`內。logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^Flogseq____&quot;,1882,536870971]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1888,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-c84f-4469-818a-f826ad0cf4calogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`listener`可以透過[Listen](https://github.com/golang/go/blob/a0da9c00aeb51261b9845a46fbc9878870884ab6/src/crypto/tls/tls.go#L88) function建立，其中的`network`可以選擇`tcp`。logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^Flogseq____&quot;,1890,536870971]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1889,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-bd05-4e62-b2b2-7f79dbe75f39logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1890,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\nfunc (l *listener) Accept() (net.Conn, error) {\\n\\tc, err := l.Listener.Accept()\\n\\tif err != nil {\\n\\t\\treturn nil, err\\n\\t}\\n\\treturn Server(c, l.config), nil\\n}\\n```logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1890,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1890,logseq____&quot;^Flogseq____&quot;,1902,536870971]],[logseq____&quot;^15logseq____&quot;,[1890,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1890,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1890,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1890,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9e34-47c2-b165-34c78e8450e4logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// TCPConn is an implementation of the [Conn] interface for TCP network\\n// connections.\\ntype TCPConn struct {\\n\\tconn\\n}\\n```logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^Flogseq____&quot;,1900,536870971]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1891,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0e13-40b1-9caa-46bdbebbb69alogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1892,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`tls.Conn`包含一個`net.Conn` interface `conn`。logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1892,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1892,logseq____&quot;^Flogseq____&quot;,1901,536870971]],[logseq____&quot;^15logseq____&quot;,[1892,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1892,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1892,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1892,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-fcbd-4f25-9945-9c045c829f74logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1893,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// A Conn represents a secured connection.\\n// It implements the net.Conn interface.\\ntype Conn struct {\\n\\t// constant\\n\\tconn        net.Conn\\n\\tisClient    bool\\n\\thandshakeFn func(context.Context) error // (*Conn).clientHandshake or serverHandshake\\n\\tquic        *quicState                  // nil for non-QUIC connections\\n```logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1893,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1893,logseq____&quot;^Flogseq____&quot;,1884,536870971]],[logseq____&quot;^15logseq____&quot;,[1893,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1893,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1893,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1893,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-bebf-43f8-b364-df08eb6e38a3logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1894,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// A Conn represents a secured connection.\\n// It implements the net.Conn interface.\\ntype Conn struct {\\n\\t// constant\\n\\tconn        net.Conn\\n\\tisClient    bool\\n\\thandshakeFn func(context.Context) error // (*Conn).clientHandshake or serverHandshake\\n\\tquic        *quicState                  // nil for non-QUIC connections\\n    ...\\n}\\n```logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1894,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1894,logseq____&quot;^Flogseq____&quot;,1892,536870971]],[logseq____&quot;^15logseq____&quot;,[1894,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1894,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1894,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1894,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-db79-4653-89c8-d0ca604d4667logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## `tls.Conn`logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^Flogseq____&quot;,1897,536870971]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870971]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^Jlogseq____&quot;,[],536870971]],[logseq____&quot;^15logseq____&quot;,[1895,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0f30-4fa1-8ede-e83be10996e1logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1896,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# http2 net.Conn\\nid:: 663efa9b-0732-4601-ab4b-474f1349059clogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1896,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1896,logseq____&quot;^Flogseq____&quot;,1898,536870971]],[logseq____&quot;^15logseq____&quot;,[1896,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1896,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1896,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1896,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;663efa9b-0732-4601-ab4b-474f1349059clogseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870971]],[logseq____&quot;^15logseq____&quot;,[1896,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870971]],[logseq____&quot;^15logseq____&quot;,[1896,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;663efa9b-0732-4601-ab4b-474f1349059clogseq____&quot;],536870971]],[logseq____&quot;^15logseq____&quot;,[1896,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u663efa9b-0732-4601-ab4b-474f1349059clogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`ServeConn`其中的參數就是`net.Conn` interface。[tls.Conn](https://github.com/golang/go/blob/1e12eab8705d1d8d7472be9147a39caa1c8380db/src/crypto/tls/conn.go#L28)跟[net.TCPConn](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/tcpsock.go#L112)都有實作`net.Conn` interface，都能夠傳入。logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^Flogseq____&quot;,1899,536870971]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1897,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-56b7-4730-a14d-4755f73c76d9logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870971]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^Flogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^:logseq____&quot;,true,536870971]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870971]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870971]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870971]],[logseq____&quot;^15logseq____&quot;,[1898,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-6102-4e80-a016-0a421cf0a611logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1899,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;http2中的[serverConn](https://github.com/golang/net/blob/7fa635bd2621428e6b8528111446dcdd91910203/http2/server.go#L406)會在[ServeConn](https://github.com/golang/go/blob/d6c972ad41043f38bfa31f3c7036e6d8a3361f2d/src/net/http/h2_bundle.go#L4215)被建立，其中有`net.Conn` interface型態的`conn` member。logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1899,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1899,logseq____&quot;^Flogseq____&quot;,1896,536870971]],[logseq____&quot;^15logseq____&quot;,[1899,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1899,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1899,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1899,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-78d2-4872-bfb2-006cc4ea9486logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1900,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`net.TCPConn`包含一個embed struct `conn`，`conn`就是[net.conn](https://github.com/golang/go/blob/1d45a7ef560a76318ed59dfdb178cecd58caf948/src/net/net.go#L166)，也同樣實作`net.Conn` interface。logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1900,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1900,logseq____&quot;^Flogseq____&quot;,1883,536870971]],[logseq____&quot;^15logseq____&quot;,[1900,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1900,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1900,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1900,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-cc55-4357-9596-1f32858d5488logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## [tls.Conn](https://github.com/golang/go/blob/1e12eab8705d1d8d7472be9147a39caa1c8380db/src/crypto/tls/conn.go#L28)logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^Flogseq____&quot;,1891,536870971]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870971]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^Jlogseq____&quot;,[],536870971]],[logseq____&quot;^15logseq____&quot;,[1901,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-bce1-4f16-abb2-069c2850e828logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1902,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Server會在 `listener.Accept`被回傳，其中的`c`就是會被傳入`Server` function的`net.Conn`logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1902,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1902,logseq____&quot;^Flogseq____&quot;,1885,536870971]],[logseq____&quot;^15logseq____&quot;,[1902,logseq____&quot;^Xlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1902,logseq____&quot;^Vlogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1902,logseq____&quot;^Ulogseq____&quot;,1880,536870971]],[logseq____&quot;^15logseq____&quot;,[1902,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-e4cc-4946-9e31-a25fc64402f7logseq____&quot;,536870971]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;chunk寫入的單位是tenant與steam，stream又會細分成多個label，如果stream的label都相同，就會被寫到同一個chunk。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^Flogseq____&quot;,1974,536870972]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1904,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-eab7-414f-88e3-4706b3e7c0f1logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1905,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```bash\\nexport LOKI_ADDR=logseq____&lt;loki-gatewaylogseq____&gt;\\nexport LOKI_ORG_ID=logseq____&lt;tenant-idlogseq____&gt;\\nlogcli series logseq____&apos;{}logseq____&apos;\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1905,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1905,logseq____&quot;^Flogseq____&quot;,1925,536870972]],[logseq____&quot;^15logseq____&quot;,[1905,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1905,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1905,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1905,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-023a-41a0-82ab-f5a465e08342logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 成效logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^Flogseq____&quot;,1905,536870972]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870972]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1906,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7ec9-446b-b975-eb02d54e67falogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1907,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果ingester的replica一多，在restart ingester statefulset時候預設會去檢查ingester ring上的健康程度，這時等待單顆ingester可能就會長達10分鐘，這時可以考慮將`ingester.readiness-check-ring-health`改成false，加速ready等待時間到2分鐘。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1907,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1907,logseq____&quot;^Flogseq____&quot;,1959,536870972]],[logseq____&quot;^15logseq____&quot;,[1907,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1907,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1907,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1907,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-6268-4ce0-ac10-861488273ae4logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 補充logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^Flogseq____&quot;,1961,536870972]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870972]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1908,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-c866-413b-888c-1a6985ea284dlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;另外在loki config中，設定不要太大的batch size及parallelism，拉高timeout。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^Flogseq____&quot;,1926,536870972]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1909,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-72e2-4234-819d-d372c93c5afalogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;讓chunk的flush reason盡可能是full，而不是idle跟max agelogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^Flogseq____&quot;,1957,536870972]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1910,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-93f8-4282-9dee-01e034752316logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果ingester的request duration較長，可以稍微增加`distributor.rate-store.ingester-request-timeout`避免distributor發生錯誤。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^Flogseq____&quot;,1916,536870972]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1911,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-1978-4ac1-acf4-ef69fa687698logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1912,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nmemcached -m 6000 -I 2m -o ext_path=/disk/extstore:500G,ext_wbuf_size=32,ext_threads=10,ext_max_sleep=10000,slab_automove_freeratio=0.10,ext_recache_rate=0\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1912,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1912,logseq____&quot;^Flogseq____&quot;,1953,536870972]],[logseq____&quot;^15logseq____&quot;,[1912,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1912,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1912,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1912,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-49ed-4540-a417-931dfc008c1blogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;可以在log collector端事前針對loki的label做處理，label盡量採用變化不太的，例如cluster, namespace, container, app等。pod不建議放在label因為他會帶suffix影響chunk flush reason。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^Flogseq____&quot;,1976,536870972]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1913,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7fa2-451f-af73-73fa7ea71c9elogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;考慮啟用zoneAwareReplication機制，`grafana/loki` helm chart已經針對這個config做上層封裝，管理者只要指定ingester數量以及affinity，就能將不同的ingester分別部到不同的AZ，能有更高可用性的寫入。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^Flogseq____&quot;,1945,536870972]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1914,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-41e4-498f-9238-284f1d6b539flogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1915,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;最佳化chunk使用率logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1915,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1915,logseq____&quot;^Flogseq____&quot;,1910,536870972]],[logseq____&quot;^15logseq____&quot;,[1915,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1915,logseq____&quot;^Vlogseq____&quot;,1910,536870972]],[logseq____&quot;^15logseq____&quot;,[1915,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1915,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-b225-49bd-bd51-ae308b492295logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1916,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;在ingester restart過程中，distributor仍會向ingester要最新的stream消化程度，其中distributor會每隔`distributor.client-cleanup-period`，更新一次最新的ingester server endpoint，如果時間太長，將會導致distributor有些許的error產生（distributor沒發現ingester還沒ready，但已經把log丟給他）。這時可以考慮把時間調短，從預設的`15s`改成`5s`，更早發現不健康的ingester以免誤送。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1916,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1916,logseq____&quot;^Flogseq____&quot;,1955,536870972]],[logseq____&quot;^15logseq____&quot;,[1916,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1916,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1916,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1916,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-adfd-4d21-a9e5-9b59b40831a0logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果要定時刪掉舊的log，讓index gateway認知到所要查詢的stream不存在的話，可以將`compactor.retention-enabled`設定成true，將`compactor.delete-request-store`指到存放chunk的storage name，並且將`store.retention`設定成預計的上限例如`28d`。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^Flogseq____&quot;,1958,536870972]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1917,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-87a4-492a-80d9-163f910d46belogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;THENlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^Flogseq____&quot;,1962,536870972]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1918,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9419-47f1-8e1c-d10e39c31a88logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870972]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^Flogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^:logseq____&quot;,true,536870972]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870972]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870972]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870972]],[logseq____&quot;^15logseq____&quot;,[1919,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-320e-4f55-8b14-124380baa956logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1920,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n{cluster=\\logseq____&quot;dev\\logseq____&quot;, container=\\logseq____&quot;app\\logseq____&quot;, app=\\logseq____&quot;app\\logseq____&quot;}\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1920,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1920,logseq____&quot;^Flogseq____&quot;,1918,536870972]],[logseq____&quot;^15logseq____&quot;,[1920,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1920,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1920,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1920,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-64f3-4ace-9196-80644ba98696logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1921,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Loki的`s3.buckets`允許一次設定多個bucket，使用逗號隔開，例如`loki-shard-0,loki-shard-1`。將chunk storage拆成多個bucket將可以分流request到多的bucket去，大幅降低發生429的機會。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1921,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1921,logseq____&quot;^Flogseq____&quot;,1968,536870972]],[logseq____&quot;^15logseq____&quot;,[1921,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1921,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1921,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1921,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-c839-489d-86ab-2333fe9c6081logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1922,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://grafana.com/blog/2023/08/23/how-we-scaled-grafana-cloud-logs-memcached-cluster-to-50tb-and-improved-reliability/logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1922,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1922,logseq____&quot;^Flogseq____&quot;,1970,536870972]],[logseq____&quot;^15logseq____&quot;,[1922,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1922,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1922,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1922,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7af8-42b7-b45e-3172867d6a75logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1923,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;force: 當ingester被shutdown時候，裡面的chunk會被強制flushlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1923,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1923,logseq____&quot;^Flogseq____&quot;,1932,536870972]],[logseq____&quot;^15logseq____&quot;,[1923,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1923,logseq____&quot;^Vlogseq____&quot;,1964,536870972]],[logseq____&quot;^15logseq____&quot;,[1923,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1923,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-cead-4ab9-a0cf-8da84be98fdelogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;使用query frontend的metrics去評估絕大部分使用者去query log的range時間，可能是近3小時，一天，又或是一週，利用這段時間加上每小時被寫入多少chunk去估cache size應該要多大。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^Flogseq____&quot;,1929,536870972]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1924,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-1cb5-4381-8563-af32940595aelogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1925,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;透過`logcli series`可以查到目前的tenant的series有哪些，進而去處理這些labelslogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1925,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1925,logseq____&quot;^Flogseq____&quot;,1981,536870972]],[logseq____&quot;^15logseq____&quot;,[1925,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1925,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1925,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1925,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f3dc-4afc-970c-c5de54e1aa39logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^Flogseq____&quot;,1912,536870972]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1926,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f2de-4569-aaca-ae57a41904f5logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1927,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;減少object storage訪問次數，降低rate limit發生機會logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1927,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1927,logseq____&quot;^Flogseq____&quot;,1915,536870972]],[logseq____&quot;^15logseq____&quot;,[1927,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1927,logseq____&quot;^Vlogseq____&quot;,1910,536870972]],[logseq____&quot;^15logseq____&quot;,[1927,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1927,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-57b8-4a39-97a0-12ddf6968faclogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果stream的label一多，那就非常有可能會遇到max-age問題。另外如果當log的源頭是cronjob或是job的話，就有可能會遇到idle（排程可能一天一次而已）。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^Flogseq____&quot;,1964,536870972]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1928,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-ef27-4f5d-8f5c-0e30a9eacfdalogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 目標logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^Flogseq____&quot;,1930,536870972]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870972]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1929,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-6cf9-441b-af86-febf6f99067elogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;ingester的chunk在被flush前不僅會寫入object storage，也會寫入chunk cache，[這篇文章](https://grafana.com/blog/2023/08/23/how-we-scaled-grafana-cloud-logs-memcached-cluster-to-50tb-and-improved-reliability/)提到Grafana Cloud是使用extstore(SSD)去取代高價的memory，讓memcached能有更多的空間儲存chunk。但預設的memcached config有點太agressive，不太適合extstore使用，所以要做些調整。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^Flogseq____&quot;,1936,536870972]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1930,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-8559-45b1-b805-2c8a37276df5logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;讓querier拿chunk cache時不會發生timeout，也就不用retry好幾次才去拿object storage裡面的chunk。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^Flogseq____&quot;,1924,536870972]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1931,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7bc9-4557-b0c4-5d1fe21b2677logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1932,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;idle: 當chunk有長達`ingester.chunks-idle-period`沒有steam被寫入的話，就會被flushlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1932,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1932,logseq____&quot;^Flogseq____&quot;,1956,536870972]],[logseq____&quot;^15logseq____&quot;,[1932,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1932,logseq____&quot;^Vlogseq____&quot;,1964,536870972]],[logseq____&quot;^15logseq____&quot;,[1932,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1932,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-dde7-43d0-942e-c754c0c48713logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1933,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;ingestion rate limit: 因為label變少導致stream數量變少，變相導致每一條stream送的量變多，這時會遇到ingester的rate limit。這時可以調整limits_config裡面的`per_stream_rate_limit`以及`per_stream_rate_limit_burst`，有global以及每一位loki tenant的runtime config可供調整。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1933,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1933,logseq____&quot;^Flogseq____&quot;,1908,536870972]],[logseq____&quot;^15logseq____&quot;,[1933,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1933,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1933,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1933,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-20ba-4499-a85f-9e2af7acd5f4logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1934,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1934,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1934,logseq____&quot;^Flogseq____&quot;,1977,536870972]],[logseq____&quot;^15logseq____&quot;,[1934,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1934,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1934,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1934,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-e37c-4567-91a5-74840b4e9d84logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## memcached tuninglogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^Flogseq____&quot;,1951,536870972]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870972]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1935,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d5ab-4713-b725-a5bae6801db3logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1936,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 背景logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1936,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1936,logseq____&quot;^Flogseq____&quot;,1935,536870972]],[logseq____&quot;^15logseq____&quot;,[1936,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1936,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1936,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1936,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870972]],[logseq____&quot;^15logseq____&quot;,[1936,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1936,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-46d0-4e50-8ea7-9c17016f24f3logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;object storage遇到429比率近乎於0logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^Flogseq____&quot;,1946,536870972]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1937,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0bb7-4c27-8edb-057b2c6da8b3logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1938,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://github.com/memcached/memcached/wiki/ConfiguringLokiExtstorelogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1938,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1938,logseq____&quot;^Flogseq____&quot;,1922,536870972]],[logseq____&quot;^15logseq____&quot;,[1938,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1938,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1938,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1938,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5f41-4d95-8fbe-9c82b807ef50logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## object storagelogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^Flogseq____&quot;,1960,536870972]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870972]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1939,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f5a0-4e48-992b-79953e66ff16logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1940,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;full: 當chunk的size到達 `ingester.chunk-target-size` 就會被flushlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1940,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1940,logseq____&quot;^Flogseq____&quot;,1964,536870972]],[logseq____&quot;^15logseq____&quot;,[1940,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1940,logseq____&quot;^Vlogseq____&quot;,1964,536870972]],[logseq____&quot;^15logseq____&quot;,[1940,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1940,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f483-4b20-a84a-0d12f01b0df5logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1941,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`store.chunks-cache.memcached.batchsize`意思是memcached client一次拿多少個memcached keys，可以設定成memcached server的2倍數量，所以如果memcached server是5台的話可以設定成10。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1941,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1941,logseq____&quot;^Flogseq____&quot;,1909,536870972]],[logseq____&quot;^15logseq____&quot;,[1941,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1941,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1941,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1941,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-49e9-4c58-9f66-d93760dde21alogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## 必讀文章logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^Flogseq____&quot;,1934,536870972]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870972]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1942,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-47cd-4869-ad5b-92e55f441ce5logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果label處理得當，將可以讓chunk flush reason為full的比率高達95%以上logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^Flogseq____&quot;,1906,536870972]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1943,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-b561-4a9d-85cd-2ae72ae1d2d6logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;Loki允許設定[named storage](https://grafana.com/docs/loki/latest/configure/#named_stores_config)，如果要schema migration，例如從S3搬到GCS，或是從單一的bucket搬到多個bucket，都可以搭配[storage schema](https://grafana.com/docs/loki/latest/operations/storage/schema/)做到。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^Flogseq____&quot;,1921,536870972]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1944,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-3f02-42f7-b762-53f4871c3906logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1945,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;為ingester啟用WAL機制，並掛載PVC，讓接收到SIGTERM指令的ingester能將正在處理的chunk寫到WAL裡面，重啟之後能把先前的工作撿回來繼續做。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1945,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1945,logseq____&quot;^Flogseq____&quot;,1907,536870972]],[logseq____&quot;^15logseq____&quot;,[1945,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1945,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1945,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1945,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5702-4438-9eb0-125b3065ac45logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1946,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;![image.png](../assets/image_1737517693938_0.png)logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1946,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1946,logseq____&quot;^Flogseq____&quot;,1943,536870972]],[logseq____&quot;^15logseq____&quot;,[1946,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1946,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1946,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1946,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-1362-479d-ba05-eb5df1eb7356logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1947,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;大幅降低ingester的消耗記憶體及需要的replicalogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1947,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1947,logseq____&quot;^Flogseq____&quot;,1927,536870972]],[logseq____&quot;^15logseq____&quot;,[1947,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1947,logseq____&quot;^Vlogseq____&quot;,1910,536870972]],[logseq____&quot;^15logseq____&quot;,[1947,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1947,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7529-493c-ac48-87cd9d185100logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 實現logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^Flogseq____&quot;,1931,536870972]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870972]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1948,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-e547-4537-b3c5-9cfcc6b0e483logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1949,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&gt; Lokilogseq____&apos;s memcache client timeout is measuring the amount of time to *fetch and read and process the entire batch of keys from each host*.logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1949,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1949,logseq____&quot;^Flogseq____&quot;,1982,536870972]],[logseq____&quot;^15logseq____&quot;,[1949,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1949,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1949,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1949,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-e964-45f5-ae0e-6321896b37a1logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1950,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;AS ISlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1950,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1950,logseq____&quot;^Flogseq____&quot;,1913,536870972]],[logseq____&quot;^15logseq____&quot;,[1950,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1950,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1950,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1950,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-08a9-49cc-8720-c15d5f04f77clogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;shard streams: 如果某個stream的log量太大，這時可以考慮採用[shard stream](https://grafana.com/docs/loki/latest/operations/automatic-stream-sharding/)，透過提供預期的stream rate，他會在distributor那邊為每條stream附上新的`__stream_shard__` label，所以理順上這就會變成不同的stream，讓ingester有能力消化。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^Flogseq____&quot;,1933,536870972]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1951,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-2c86-47de-8460-8bc87b64b928logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1952,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://grafana.com/blog/2023/12/20/the-concise-guide-to-grafana-loki-everything-you-need-to-know-about-labels/logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1952,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1952,logseq____&quot;^Flogseq____&quot;,1942,536870972]],[logseq____&quot;^15logseq____&quot;,[1952,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1952,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1952,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1952,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-c823-4b66-abf0-134988108ce6logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1953,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如[memcached文件所提](https://github.com/memcached/memcached/wiki/ConfiguringLokiExtstore)，讓`ingester.chunk-target-size` 以及在memcached的max item size (`-I`)不要太大，可以設定成`2MB`，同時在memcached加上extstore特別的參數。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1953,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1953,logseq____&quot;^Flogseq____&quot;,1948,536870972]],[logseq____&quot;^15logseq____&quot;,[1953,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1953,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1953,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1953,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-30c1-48fb-844a-eb0411f4ec18logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1954,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```yaml\\n  schemaConfig:\\n    configs:\\n    - from: 2024-12-01\\n      store: tsdb\\n      object_store: shardv1\\n      schema: v13\\n      index:\\n        prefix: loki_index_\\n        period: 24h\\n   storage_config:\\n    named_stores:\\n      aws:\\n        shardv1:\\n          endpoint: logseq____&lt;s3-endpointlogseq____&gt;\\n          bucketnames: loki-shard-0,loki-shard-1\\n          access_key_id: ${ACCESS_KEY_ID}\\n          secret_access_key: ${SECRET_ACCESS_KEY}\\n          insecure: false\\n          signature_version: v4\\n          storage_class: STANDARD\\n          http_config:\\n            idle_conn_timeout: 90s\\n            response_header_timeout: 0s\\n            insecure_skip_verify: false\\n          s3forcepathstyle: true\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1954,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1954,logseq____&quot;^Flogseq____&quot;,1944,536870972]],[logseq____&quot;^15logseq____&quot;,[1954,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1954,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1954,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1954,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-94ae-4ad5-8c6d-877afcff8f6elogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## distributor configlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^Flogseq____&quot;,1967,536870972]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870972]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1955,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-19b2-485c-bc3f-7abf1e8820d4logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;max-age: 當chunk的時間長度到達 `ingester.max-chunk-age` 但是還沒滿，就會被flushlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^Flogseq____&quot;,1940,536870972]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^Vlogseq____&quot;,1964,536870972]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1956,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-881d-42b8-b2ca-2e25e1daa855logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 目標logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^Flogseq____&quot;,1928,536870972]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870972]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1957,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-8218-4c6d-8fbf-4c968c1406eblogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## compactor及retentionlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^Flogseq____&quot;,1973,536870972]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870972]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1958,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-1c08-46e8-a117-6e95c7d4b540logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果ingester的資源充足的話，可以考慮將`ingester.max-chunk-age`拉大，除了讓chunk flush reason比較有機會從max-age改成full之外，也連帶增加[out of order write](https://grafana.com/docs/loki/latest/configure/#accept-out-of-order-writes)的寫入時間，讓舊的log有機會被寫入(也要配合log collector的tail log機制)，但應該會增加些許的memory使用。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^Flogseq____&quot;,1979,536870972]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1959,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-1ab7-4dad-af08-51f300a25825logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1960,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```yaml\\n    retention_stream:\\n    - selector: logseq____&apos;{cluster=\\logseq____&quot;cluster-prod\\logseq____&quot;, app=\\logseq____&quot;nginx\\logseq____&quot;}logseq____&apos;\\n      period: 168h # 1w\\n      priority: 1\\n    - selector: logseq____&apos;{cluster=\\logseq____&quot;cluster-dev\\logseq____&quot;, app=\\logseq____&quot;nginx\\logseq____&quot;}logseq____&apos;\\n      period: 168h # 1w\\n      priority: 1\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1960,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1960,logseq____&quot;^Flogseq____&quot;,1972,536870972]],[logseq____&quot;^15logseq____&quot;,[1960,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1960,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1960,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1960,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-8e50-45ab-99b1-1789fe47ea2flogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;![image.png](../assets/image_1737521783152_0.png)logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^Flogseq____&quot;,1937,536870972]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1961,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-de4a-49f2-9119-8b07f63f473flogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1962,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n{cluster=\\logseq____&quot;dev\\logseq____&quot;, container=\\logseq____&quot;app\\logseq____&quot;, pod=\\logseq____&quot;app-123456\\logseq____&quot;}\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1962,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1962,logseq____&quot;^Flogseq____&quot;,1950,536870972]],[logseq____&quot;^15logseq____&quot;,[1962,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1962,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1962,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1962,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-bcaa-461b-adbc-06f85eec282flogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## chunk writelogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^Flogseq____&quot;,1954,536870972]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870972]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1963,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-6b90-43a7-859a-7ca628f9be8dlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1964,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;chunk會有多的原因會被flushlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1964,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1964,logseq____&quot;^Flogseq____&quot;,1904,536870972]],[logseq____&quot;^15logseq____&quot;,[1964,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1964,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1964,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1964,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5ec6-44b5-b5d4-4fc80173398flogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1965,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://grafana.com/blog/2023/12/28/the-concise-guide-to-loki-how-to-get-the-most-out-of-your-query-performance/logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1965,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1965,logseq____&quot;^Flogseq____&quot;,1952,536870972]],[logseq____&quot;^15logseq____&quot;,[1965,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1965,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1965,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1965,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5e0b-4dae-b894-3dff1ea2ba68logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## ingester configlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^Flogseq____&quot;,1969,536870972]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870972]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1966,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-462c-4540-a5ed-aafcd954be88logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1967,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```yaml\\ningester:\\n  replicas: 12\\n  zoneAwareReplication:\\n    zoneA:\\n      extraAffinity:\\n        nodeAffinity:\\n          requiredDuringSchedulingIgnoredDuringExecution:\\n            nodeSelectorTerms:\\n            - matchExpressions:\\n              - key: nodepool\\n                operator: In\\n                values:\\n                - loki\\n              - key: availability-zone\\n                operator: In\\n                values:\\n                - az-1\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1967,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1967,logseq____&quot;^Flogseq____&quot;,1914,536870972]],[logseq____&quot;^15logseq____&quot;,[1967,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1967,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1967,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1967,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-91f9-4dbe-a08c-db24ac4b699clogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;因為存放chunk的bucket最外層分成許多tenant的資料夾(prefix)，可以在object storage的lifecycle中，針對特定的prefix去做處理，例如可以預設採用30天的retention，但如果針對特定的短週期tenant的話，再設定成較短的retention例如7天。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^Flogseq____&quot;,1939,536870972]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1968,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-aa74-4482-a097-a259600da7c3logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;# Loki operation與tuninglogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^Flogseq____&quot;,1919,536870972]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,1],536870972]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1969,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5d39-4d17-9666-5d043b4d0960logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1970,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;https://grafana.com/blog/2024/05/29/grafana-loki-query-acceleration-how-we-sped-up-queries-without-adding-resources/logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1970,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1970,logseq____&quot;^Flogseq____&quot;,1965,536870972]],[logseq____&quot;^15logseq____&quot;,[1970,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1970,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1970,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1970,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d9aa-417d-aee2-c7e33e064859logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## querier configlogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^Flogseq____&quot;,1911,536870972]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870972]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1971,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-ec0a-4867-b1d4-b3cf740a5697logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;如果有特定的stream想做特別的retention處理，可以設定`retention_stream`例如logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^Flogseq____&quot;,1917,536870972]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1972,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-6d91-4989-9b25-a15241e0979blogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1973,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;調整適當的`querier.max-concurrent`，`querier.tsdb-max-query-parallelism`以及querier的replicas數量。`querier.tsdb-max-query-parallelism`是一個global的queue代表現在等待被處理的subquery，`querier.max-concurrent`代表一個querier能同時處理的的subquery上限，所以querier replicas * `querier.max-concurrent`要大於 `querier.tsdb-max-query-parallelism`才代表query任務能順利被消化。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1973,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1973,logseq____&quot;^Flogseq____&quot;,1978,536870972]],[logseq____&quot;^15logseq____&quot;,[1973,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1973,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1973,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1973,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-4731-4ede-b337-b809a2c5fbc1logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 背景logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^Flogseq____&quot;,1963,536870972]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870972]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1974,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-02ee-41f4-9aea-13fb9949626alogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1975,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`store.background.write-back-concurrency`代表寫入memcached的go routine數量，建議調整成1，避免太aggresive的寫入memcached，造成一些item被evict。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1975,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1975,logseq____&quot;^Flogseq____&quot;,1949,536870972]],[logseq____&quot;^15logseq____&quot;,[1975,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1975,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1975,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1975,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-8acd-4cc1-9ab4-29e225bc3edblogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;### 實現logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^Flogseq____&quot;,1910,536870972]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,3],536870972]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^Jlogseq____&quot;,[],536870972]],[logseq____&quot;^15logseq____&quot;,[1976,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-481d-4ac1-b1aa-35b9cf960530logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1977,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```yml\\nchunk_store_config:\\n  chunk_cache_config:\\n    memcached:\\n      batch_size: 3\\n      parallelism: 2\\n    memcached_client:\\n      addresses: 127.0.0.1:11211\\n      timeout: 60s\\n    background:\\n      writeback_goroutines: 1\\n      writeback_buffer: 1000\\n      writeback_size_limit: 500MB\\n```logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1977,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1977,logseq____&quot;^Flogseq____&quot;,1975,536870972]],[logseq____&quot;^15logseq____&quot;,[1977,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1977,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1977,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1977,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a095-4420-8cf1-630831d3aa80logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1978,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;調整適當的`querier.split-queries-by-interval`，query frontend會根據這個數值將query切分成多的subquery進而去執行，如果log量大，可以縮減時間拆分更多subquery讓他們去執行。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1978,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1978,logseq____&quot;^Flogseq____&quot;,1971,536870972]],[logseq____&quot;^15logseq____&quot;,[1978,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1978,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1978,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1978,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-54cb-45ed-b448-a0803745ee9blogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;直接設定`ingester.chunk-encoding`成`snappy`，雖然不是最大的壓縮比，但是速度較快，壓縮比也能接受，[官方](https://grafana.com/docs/loki/latest/configure/bp-configure/#use-snappy-compression-algorithm)也推薦使用。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^Flogseq____&quot;,1966,536870972]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1979,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7f72-4f9d-aca4-74eaad7a8444logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`store.chunks-cache.memcached.parallelism`目的是同時有多少的go routine是取得memcached keys，盡可能設定愈低的值，但如果網路頻寬允許的話可以拉高。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^Flogseq____&quot;,1941,536870972]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1980,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-ce57-4507-bd2d-4b2539f03cd4logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1981,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;其中app可以是deplyoment, daemonset名稱，或者是helm chart名稱logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1981,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1981,logseq____&quot;^Flogseq____&quot;,1920,536870972]],[logseq____&quot;^15logseq____&quot;,[1981,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1981,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1981,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1981,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-fbeb-45e7-a952-973c64b67b93logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1982,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`store.chunks-cache.memcached.timeout`的時間包含去memcached拿key，deserialize轉成loki懂的格式的時間，如果chunk的item size一大，或是batch size大的話會影響timeout時間。預設是`100ms`但強烈建議調整成較高的值例如`60s`。logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1982,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[1982,logseq____&quot;^Flogseq____&quot;,1980,536870972]],[logseq____&quot;^15logseq____&quot;,[1982,logseq____&quot;^Xlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1982,logseq____&quot;^Vlogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1982,logseq____&quot;^Ulogseq____&quot;,240,536870972]],[logseq____&quot;^15logseq____&quot;,[1982,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-1c38-4edd-ad5a-22f496bc866flogseq____&quot;,536870972]],[logseq____&quot;^15logseq____&quot;,[2031,logseq____&quot;^Klogseq____&quot;,1753899394956,536870975]],[logseq____&quot;^15logseq____&quot;,[2031,logseq____&quot;^@logseq____&quot;,false,536870975]],[logseq____&quot;^15logseq____&quot;,[2031,logseq____&quot;^Ylogseq____&quot;,logseq____&quot;resource/http2/hpacklogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2031,logseq____&quot;^Alogseq____&quot;,2032,536870975]],[logseq____&quot;^15logseq____&quot;,[2031,logseq____&quot;^11logseq____&quot;,logseq____&quot;Resource/http2/HPACKlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2031,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870975]],[logseq____&quot;^15logseq____&quot;,[2031,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[2031,logseq____&quot;^Blogseq____&quot;,1753899394956,536870975]],[logseq____&quot;^15logseq____&quot;,[2031,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5f2f-4429-aeed-4423801bd011logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2033,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b10001010 =logseq____&gt; 0x8c Huffman encoding + name lengthlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2033,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2033,logseq____&quot;^Flogseq____&quot;,2061,536870975]],[logseq____&quot;^15logseq____&quot;,[2033,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2033,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2033,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2033,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a711-4af8-8733-b0fb09e885b8logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2034,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n     0   1   2   3   4   5   6   7\\n   +---+---+---+---+---+---+---+---+\\n   | 0 | 0 | 0 | 1 |       0       |\\n   +---+---+-----------------------+\\n   | H |     Name Length (7+)      |\\n   +---+---------------------------+\\n   |  Name String (Length octets)  |\\n   +---+---------------------------+\\n   | H |     Value Length (7+)     |\\n   +---+---------------------------+\\n   | Value String (Length octets)  |\\n   +-------------------------------+\\n\\n         Figure 11: Literal Header Field Never Indexed -- New Name\\n```logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2034,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2034,logseq____&quot;^Flogseq____&quot;,2075,536870975]],[logseq____&quot;^15logseq____&quot;,[2034,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2034,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2034,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2034,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-af2f-40c4-89e4-6bfec3cf39fblogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2035,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Huffman Encodinglogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2035,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2035,logseq____&quot;^Flogseq____&quot;,2050,536870975]],[logseq____&quot;^15logseq____&quot;,[2035,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2035,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2035,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2035,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870975]],[logseq____&quot;^15logseq____&quot;,[2035,logseq____&quot;^Jlogseq____&quot;,[],536870975]],[logseq____&quot;^15logseq____&quot;,[2035,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-11c2-4d4c-98b7-e5fe03084fd6logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2036,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0x(f1 e3 c2 e5 f2 3a 6b a0 ab 90 f4 ff) name stringlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2036,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2036,logseq____&quot;^Flogseq____&quot;,2033,536870975]],[logseq____&quot;^15logseq____&quot;,[2036,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2036,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2036,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2036,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-2604-44ad-86de-6dbe7059fc38logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2037,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`traceparent`: `40884d83216b1d85a93f00`logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2037,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2037,logseq____&quot;^Flogseq____&quot;,2077,536870975]],[logseq____&quot;^15logseq____&quot;,[2037,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2037,logseq____&quot;^Vlogseq____&quot;,1553,536870975]],[logseq____&quot;^15logseq____&quot;,[2037,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2037,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d806-437a-80f5-2c801e2d1f95logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2038,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`traceparent`: `10884d83216b1d85a93f00`logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2038,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2038,logseq____&quot;^Flogseq____&quot;,2040,536870975]],[logseq____&quot;^15logseq____&quot;,[2038,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2038,logseq____&quot;^Vlogseq____&quot;,1553,536870975]],[logseq____&quot;^15logseq____&quot;,[2038,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2038,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-da40-43dc-ae77-429aabf02529logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2039,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;New name for `www.example.com` =logseq____&gt;logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2039,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2039,logseq____&quot;^Flogseq____&quot;,2072,536870975]],[logseq____&quot;^15logseq____&quot;,[2039,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2039,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2039,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2039,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-79e1-464d-981c-4a50ba1c6df9logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2040,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`www.example.com`: `108cf1e3c2e5f23a6ba0ab90f4ff00`logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2040,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2040,logseq____&quot;^Flogseq____&quot;,2047,536870975]],[logseq____&quot;^15logseq____&quot;,[2040,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2040,logseq____&quot;^Vlogseq____&quot;,1553,536870975]],[logseq____&quot;^15logseq____&quot;,[2040,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2040,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-8a0c-4543-9461-375bc83d9750logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2041,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;pad the rest of bits to 1logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2041,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2041,logseq____&quot;^Flogseq____&quot;,2073,536870975]],[logseq____&quot;^15logseq____&quot;,[2041,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2041,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2041,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2041,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-8b44-43ae-a810-afdde38cfbb7logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2042,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;1111 0001, 1110 0011, 1100 0010, 1110 0101, 1111 0010, 0011 1010, 0110 1011, 1010 0000, 1010 1011, 1001 0000, 1111 0100, 1111 1111logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2042,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2042,logseq____&quot;^Flogseq____&quot;,2065,536870975]],[logseq____&quot;^15logseq____&quot;,[2042,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2042,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2042,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2042,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-ce0b-47b4-bcf9-a50817194b2elogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2043,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Literal Header Field with Incremental Indexinglogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2043,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2043,logseq____&quot;^Flogseq____&quot;,2051,536870975]],[logseq____&quot;^15logseq____&quot;,[2043,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2043,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2043,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2043,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870975]],[logseq____&quot;^15logseq____&quot;,[2043,logseq____&quot;^Jlogseq____&quot;,[],536870975]],[logseq____&quot;^15logseq____&quot;,[2043,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-2bc1-423b-ba64-b08e0148cb1elogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2044,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`01001` + `101100` + `00011` + `00100` + `00101` + `101011` + `00011` + `101100` + `00101` + `101010` + `01001` =logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2044,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2044,logseq____&quot;^Flogseq____&quot;,2048,536870975]],[logseq____&quot;^15logseq____&quot;,[2044,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2044,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2044,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2044,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-57ff-4922-bd50-ca1e252fd364logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2045,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\n// encodeTypeByte returns type byte. If sensitive is true, type byte\\n// for \\logseq____&quot;Never Indexed\\logseq____&quot; representation is returned. If sensitive is\\n// false and indexing is true, type byte for \\logseq____&quot;Incremental Indexing\\logseq____&quot;\\n// representation is returned. Otherwise, type byte for \\logseq____&quot;Without\\n// Indexing\\logseq____&quot; is returned.\\nfunc encodeTypeByte(indexing, sensitive bool) byte {\\n\\tif sensitive {\\n\\t\\treturn 0x10\\n\\t}\\n\\tif indexing {\\n\\t\\treturn 0x40\\n\\t}\\n\\treturn 0\\n}\\n```logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2045,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2045,logseq____&quot;^Flogseq____&quot;,2085,536870975]],[logseq____&quot;^15logseq____&quot;,[2045,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2045,logseq____&quot;^Vlogseq____&quot;,1553,536870975]],[logseq____&quot;^15logseq____&quot;,[2045,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2045,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f7a7-41a1-befe-621444eec9c1logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2046,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2046,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2046,logseq____&quot;^Flogseq____&quot;,2066,536870975]],[logseq____&quot;^15logseq____&quot;,[2046,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2046,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2046,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2046,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-ad56-4d78-9f0a-738aba47a6d2logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2047,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;header field is sensitive (never index):logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2047,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2047,logseq____&quot;^Flogseq____&quot;,2045,536870975]],[logseq____&quot;^15logseq____&quot;,[2047,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2047,logseq____&quot;^Vlogseq____&quot;,1553,536870975]],[logseq____&quot;^15logseq____&quot;,[2047,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2047,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-ae8d-4ca6-bd67-b6f16c6203c3logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2048,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`traceparent` example\\nid:: 6642508b-09e2-4aee-b7a1-55a28a2b7631logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2048,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2048,logseq____&quot;^Flogseq____&quot;,2052,536870975]],[logseq____&quot;^15logseq____&quot;,[2048,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2048,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2048,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2048,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6642508b-09e2-4aee-b7a1-55a28a2b7631logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[2048,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^1;logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[2048,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1;logseq____&quot;,logseq____&quot;6642508b-09e2-4aee-b7a1-55a28a2b7631logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[2048,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u6642508b-09e2-4aee-b7a1-55a28a2b7631logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2049,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2049,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2049,logseq____&quot;^Flogseq____&quot;,2058,536870975]],[logseq____&quot;^15logseq____&quot;,[2049,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2049,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2049,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2049,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-1c99-4053-8a54-d059e90a459flogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2050,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b0000 0000 =logseq____&gt; 0x00logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2050,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2050,logseq____&quot;^Flogseq____&quot;,2036,536870975]],[logseq____&quot;^15logseq____&quot;,[2050,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2050,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2050,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2050,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-fae5-4fe6-899f-4d8a81de7b68logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2051,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\nA string literal representation contains the following fields:\\n- H: A one-bit flag, H, indicating whether or not the octets of the\\n    string are Huffman encoded.\\n- String Length:  The number of octets used to encode the string\\n    literal, encoded as an integer with a 7-bit prefix\\n- String Data:  The encoded data of the string literal.  If H is logseq____&apos;0logseq____&apos;,\\n    then the encoded data is the raw octets of the string literal.  If\\n    H is logseq____&apos;1logseq____&apos;, then the encoded data is the Huffman encoding of the\\n    string literal.\\n```logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2051,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2051,logseq____&quot;^Flogseq____&quot;,2057,536870975]],[logseq____&quot;^15logseq____&quot;,[2051,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2051,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2051,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2051,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-fc2d-42e5-b013-9f9c59b905a3logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2052,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[table](https://datatracker.ietf.org/doc/html/rfc7541#appendix-B)logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2052,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2052,logseq____&quot;^Flogseq____&quot;,2035,536870975]],[logseq____&quot;^15logseq____&quot;,[2052,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2052,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2052,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2052,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-c429-4cc6-b5e1-8527566675f4logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2053,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;public:: true\\n\\nlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2053,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2053,logseq____&quot;^18logseq____&quot;,[logseq____&quot;^19logseq____&quot;,[]],536870975]],[logseq____&quot;^15logseq____&quot;,[2053,logseq____&quot;^Flogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2053,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2053,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2053,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2053,logseq____&quot;^:logseq____&quot;,true,536870975]],[logseq____&quot;^15logseq____&quot;,[2053,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,true],536870975]],[logseq____&quot;^15logseq____&quot;,[2053,logseq____&quot;^Jlogseq____&quot;,[logseq____&quot;^16logseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[2053,logseq____&quot;^4logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^16logseq____&quot;,logseq____&quot;truelogseq____&quot;],536870975]],[logseq____&quot;^15logseq____&quot;,[2053,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f32e-40bc-a468-57ccd7f9a6c4logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2054,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b(10001010) =logseq____&gt; 0x8c Huffman encoding + name lengthlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2054,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2054,logseq____&quot;^Flogseq____&quot;,2067,536870975]],[logseq____&quot;^15logseq____&quot;,[2054,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2054,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2054,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2054,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-c187-4142-987b-2bf06731bd6elogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2055,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b10001010 =logseq____&gt; 0x8clogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2055,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2055,logseq____&quot;^Flogseq____&quot;,2083,536870975]],[logseq____&quot;^15logseq____&quot;,[2055,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2055,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2055,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2055,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-b22b-4e48-8c7a-c3eee758a2e3logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2056,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;1st 8 -logseq____&gt; 1000: Enable Huffman Encodinglogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2056,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2056,logseq____&quot;^Flogseq____&quot;,2073,536870975]],[logseq____&quot;^15logseq____&quot;,[2056,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2056,logseq____&quot;^Vlogseq____&quot;,2073,536870975]],[logseq____&quot;^15logseq____&quot;,[2056,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2056,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-70c8-446f-a0f4-478c316c03aclogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2057,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2057,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2057,logseq____&quot;^Flogseq____&quot;,2069,536870975]],[logseq____&quot;^15logseq____&quot;,[2057,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2057,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2057,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2057,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-6e51-4ffd-8231-506ac43e4068logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2058,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;4D 83 21 6B 1D 85 A9 3Flogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2058,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2058,logseq____&quot;^Flogseq____&quot;,2078,536870975]],[logseq____&quot;^15logseq____&quot;,[2058,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2058,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2058,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2058,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-ab87-4bcc-a397-2a208a274489logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2059,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;f1e3 c2e5 f23a 6ba0 ab90 f4fflogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2059,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2059,logseq____&quot;^Flogseq____&quot;,2042,536870975]],[logseq____&quot;^15logseq____&quot;,[2059,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2059,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2059,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2059,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-8414-496b-b8b1-5eb716c143f9logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2060,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2060,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2060,logseq____&quot;^Flogseq____&quot;,2041,536870975]],[logseq____&quot;^15logseq____&quot;,[2060,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2060,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2060,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2060,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9f26-4f20-9199-ba2716a55e05logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2061,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b(0001 0000) =logseq____&gt; 0x10logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2061,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2061,logseq____&quot;^Flogseq____&quot;,2079,536870975]],[logseq____&quot;^15logseq____&quot;,[2061,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2061,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2061,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2061,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-4810-417f-b296-c388455b8192logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2062,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## String literal encodinglogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2062,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2062,logseq____&quot;^Flogseq____&quot;,2080,536870975]],[logseq____&quot;^15logseq____&quot;,[2062,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2062,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2062,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2062,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870975]],[logseq____&quot;^15logseq____&quot;,[2062,logseq____&quot;^Jlogseq____&quot;,[],536870975]],[logseq____&quot;^15logseq____&quot;,[2062,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-b96c-40b1-89e4-f80f2e299aa4logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2063,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`www.example.com` examplelogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2063,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2063,logseq____&quot;^Flogseq____&quot;,2060,536870975]],[logseq____&quot;^15logseq____&quot;,[2063,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2063,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2063,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2063,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-1f61-4dcc-bd3f-4b504db251cflogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;2nd 8-logseq____&gt; Number of octets to represent encoding `traceparent`logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^Flogseq____&quot;,2056,536870975]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^Vlogseq____&quot;,2073,536870975]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2064,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d65a-485d-9fbd-327456ef29c9logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2065,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`1111000` + `1111000` + `1111000` + `010111` + `00101` + `1111001` + `00011` + `101001` + `101011` + `101000` + `00101` + `010111` + `00100` + `00111` + `101001`logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2065,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2065,logseq____&quot;^Flogseq____&quot;,2063,536870975]],[logseq____&quot;^15logseq____&quot;,[2065,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2065,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2065,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2065,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-1ba1-40e5-b448-874934b95205logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2066,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;pad the rest of bits to 1logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2066,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2066,logseq____&quot;^Flogseq____&quot;,2055,536870975]],[logseq____&quot;^15logseq____&quot;,[2066,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2066,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2066,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2066,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0e92-4f4d-a10a-5c3a844ffe69logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b(0100 0000) =logseq____&gt; 0x40logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^Flogseq____&quot;,2039,536870975]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2067,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-261d-4dd5-9328-d3002a11cc40logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2068,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;1st 8 -logseq____&gt; 1000: Enable Huffman Encodinglogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2068,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2068,logseq____&quot;^Flogseq____&quot;,2055,536870975]],[logseq____&quot;^15logseq____&quot;,[2068,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2068,logseq____&quot;^Vlogseq____&quot;,2055,536870975]],[logseq____&quot;^15logseq____&quot;,[2068,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2068,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a5a4-4e68-8356-a3745bfc66ealogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2069,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n0   1   2   3   4   5   6   7\\n +---+---+---+---+---+---+---+---+\\n | H |    String Length (7+)     |\\n +---+---------------------------+\\n |  String Data (Length octets)  |\\n +-------------------------------+\\n- Figure 4: String Literal Representation\\n```logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2069,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2069,logseq____&quot;^Flogseq____&quot;,2062,536870975]],[logseq____&quot;^15logseq____&quot;,[2069,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2069,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2069,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2069,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-4baa-48f1-8597-cbc81f18173alogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2070,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b(0000 0000) =logseq____&gt; (0x00)logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2070,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2070,logseq____&quot;^Flogseq____&quot;,2071,536870975]],[logseq____&quot;^15logseq____&quot;,[2070,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2070,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2070,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2070,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-f20e-429d-be5b-7275e1397f66logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2071,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0x(f1 e3 c2 e5 f2 3a 6b a0 ab 90 f4 ff) name stringlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2071,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2071,logseq____&quot;^Flogseq____&quot;,2054,536870975]],[logseq____&quot;^15logseq____&quot;,[2071,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2071,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2071,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2071,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-0ea6-4f05-a0b4-c7054f21e0celogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```\\n     0   1   2   3   4   5   6   7\\n   +---+---+---+---+---+---+---+---+\\n   | 0 | 1 |           0           |\\n   +---+---+-----------------------+\\n   | H |     Name Length (7+)      |\\n   +---+---------------------------+\\n   |  Name String (Length octets)  |\\n   +---+---------------------------+\\n   | H |     Value Length (7+)     |\\n   +---+---------------------------+\\n   | Value String (Length octets)  |\\n   +-------------------------------+\\n\\n   Figure 7: Literal Header Field with Incremental Indexing -- New Name\\n```logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^Flogseq____&quot;,2043,536870975]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2072,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-69ca-42f6-b955-f67697c6773clogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0b10001000 =logseq____&gt; 0x88logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^Flogseq____&quot;,2081,536870975]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2073,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-7d6b-46b8-8438-4c59a410089elogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~```go\\npackage main\\nimport \\logseq____&quot;golang.org/x/net/http2/hpack\\logseq____&quot;\\nimport \\logseq____&quot;bytes\\logseq____&quot;\\nimport \\logseq____&quot;fmt\\logseq____&quot;\\nimport \\logseq____&quot;encoding/hex\\logseq____&quot;\\n\\nfunc main() {\\n  buf := new(bytes.Buffer)\\n  encoder := hpack.NewEncoder(buf)\\n  header := \\logseq____&quot;traceparent\\logseq____&quot;\\n  encoder.WriteField(hpack.HeaderField{Name: header})\\n  hexBuf := hex.EncodeToString(buf.Bytes())\\n  fmt.Println(hexBuf)\\n}\\n```logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^Flogseq____&quot;,1553,536870975]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^Vlogseq____&quot;,1553,536870975]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2074,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-ac2c-47d5-bf43-9f7a254a6238logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## Literal Header Field Never Indexedlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^Flogseq____&quot;,2070,536870975]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870975]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^Jlogseq____&quot;,[],536870975]],[logseq____&quot;^15logseq____&quot;,[2075,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-294c-469d-b591-ebb6674430fblogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2076,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;1st c -logseq____&gt;Number of octets to represent encoding `www.example.com`logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2076,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2076,logseq____&quot;^Flogseq____&quot;,2068,536870975]],[logseq____&quot;^15logseq____&quot;,[2076,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2076,logseq____&quot;^Vlogseq____&quot;,2055,536870975]],[logseq____&quot;^15logseq____&quot;,[2076,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2076,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-9351-47ee-a206-fc8e40eae8f6logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2077,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`www.example.com`: `408cf1e3c2e5f23a6ba0ab90f4ff00`logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2077,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2077,logseq____&quot;^Flogseq____&quot;,2084,536870975]],[logseq____&quot;^15logseq____&quot;,[2077,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2077,logseq____&quot;^Vlogseq____&quot;,1553,536870975]],[logseq____&quot;^15logseq____&quot;,[2077,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2077,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-b6a7-4636-a4d3-54b29449848clogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;~`0100 1101, 1000 0011, 0010 0001, 0110 1011, 0001 1101, 1000 0101, 1010 1001, 0011 1111`logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^Flogseq____&quot;,2044,536870975]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2078,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-a004-4d10-93e7-5eedd5a7498elogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2079,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;New name for `www.example.com` =logseq____&gt;logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2079,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2079,logseq____&quot;^Flogseq____&quot;,2034,536870975]],[logseq____&quot;^15logseq____&quot;,[2079,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2079,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2079,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2079,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-4af0-4cb7-9293-4c4601763e7dlogseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;## [spec]([RFC 7541 - HPACK: Header Compression for HTTP/2 (ietf.org)](https://datatracker.ietf.org/doc/html/rfc7541))logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^Flogseq____&quot;,2053,536870975]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^?logseq____&quot;,[logseq____&quot;^ logseq____&quot;,logseq____&quot;^1:logseq____&quot;,2],536870975]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^Jlogseq____&quot;,[],536870975]],[logseq____&quot;^15logseq____&quot;,[2080,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5e03-4ce9-b6b3-4165e012cc59logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2081,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0x(88 4D 83 21 6B 1D 85 A9 3F)logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2081,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2081,logseq____&quot;^Flogseq____&quot;,2049,536870975]],[logseq____&quot;^15logseq____&quot;,[2081,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2081,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2081,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2081,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-fbe2-4cf0-86db-7d2d76d22680logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^Flogseq____&quot;,2059,536870975]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2082,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-99a0-406d-a002-b15302a2ef85logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2083,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;0x(8c f1 e3 c2 e5 f2 3a 6b a0 ab 90 f4 ff)logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2083,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2083,logseq____&quot;^Flogseq____&quot;,2082,536870975]],[logseq____&quot;^15logseq____&quot;,[2083,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2083,logseq____&quot;^Vlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2083,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2083,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-d053-427f-a0a6-0eed516c1279logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2084,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;header field is not sensitive (incremental index):logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2084,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2084,logseq____&quot;^Flogseq____&quot;,2038,536870975]],[logseq____&quot;^15logseq____&quot;,[2084,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2084,logseq____&quot;^Vlogseq____&quot;,1553,536870975]],[logseq____&quot;^15logseq____&quot;,[2084,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2084,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-064d-42a7-ab21-18c7e5330766logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2085,logseq____&quot;^Qlogseq____&quot;,logseq____&quot;[encode.go - Go (opensource.google)](https://cs.opensource.google/go/x/net/+/refs/tags/v0.29.0:http2/hpack/encode.go;l=232)logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2085,logseq____&quot;^Ologseq____&quot;,logseq____&quot;^17logseq____&quot;,536870975]],[logseq____&quot;^15logseq____&quot;,[2085,logseq____&quot;^Flogseq____&quot;,2074,536870975]],[logseq____&quot;^15logseq____&quot;,[2085,logseq____&quot;^Xlogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2085,logseq____&quot;^Vlogseq____&quot;,1553,536870975]],[logseq____&quot;^15logseq____&quot;,[2085,logseq____&quot;^Ulogseq____&quot;,2031,536870975]],[logseq____&quot;^15logseq____&quot;,[2085,logseq____&quot;^;logseq____&quot;,logseq____&quot;~u688a6182-5118-449c-b7de-97780b2670f7logseq____&quot;,536870975]]]]]]"</script>
 <script>window.logseq_state="{:ui/theme \"light\", :ui/radix-color :blue, :config {\"local\" {:shortcuts {}, :default-templates {:journals \"\"}, :query/views {:pprint (fn [r] [:pre.code (pprint r)])}, :macros {}, :shortcut/doc-mode-enter-for-new-block? false, :favorites [], :ui/show-empty-bullets? false, :file/name-format :triple-lowbar, :preferred-workflow :now, :ref/default-open-blocks-level 2, :feature/enable-block-timestamps? false, :start-of-week 6, :ref/linked-references-collapsed-threshold 50, :outliner/block-title-collapse-enabled? false, :commands [], :ui/show-full-blocks? false, :meta/version 1, :hidden [], :default-queries {:journals [{:title \"🔨 NOW\", :query [:find (pull ?h [*]) :in $ ?start ?today :where [?h :block/marker ?marker] [(contains? #{\"NOW\" \"DOING\"} ?marker)] [?h :block/page ?p] [?p :block/journal? true] [?p :block/journal-day ?d] [(>= ?d ?start)] [(<= ?d ?today)]], :inputs [:14d :today], :result-transform (fn [result] (sort-by (fn [h] (get h :block/priority \"Z\")) result)), :group-by-page? false, :collapsed? false} {:title \"📅 NEXT\", :query [:find (pull ?h [*]) :in $ ?start ?next :where [?h :block/marker ?marker] [(contains? #{\"NOW\" \"LATER\" \"TODO\"} ?marker)] [?h :block/page ?p] [?p :block/journal? true] [?p :block/journal-day ?d] [(> ?d ?start)] [(< ?d ?next)]], :inputs [:today :7d-after], :group-by-page? false, :collapsed? false}]}, :ui/auto-expand-block-refs? true, :ui/enable-tooltip? true, :query/result-transforms {:sort-by-priority (fn [result] (sort-by (fn [h] (get h :block/priority \"Z\")) result))}, :property-pages/enabled? true, :block/content-max-length 10000, :ui/show-command-doc? true, :feature/enable-search-remove-accents? true}}}"</script>
 <script type="text/javascript">// Single Page Apps for GitHub Pages
      // https://github.com/rafgraph/spa-github-pages
      // Copyright (c) 2016 Rafael Pedicini, licensed under the MIT License
      // ----------------------------------------------------------------------
      // This script checks to see if a redirect is present in the query string
      // and converts it back into the correct url and adds it to the
      // browser's history using window.history.replaceState(...),
      // which won't cause the browser to attempt to load the new url.
      // When the single page app is loaded further down in this file,
      // the correct url will be waiting in the browser's history for
      // the single page app to route accordingly.
      (function(l) {
        if (l.search) {
          var q = {};
          l.search.slice(1).split('&').forEach(function(v) {
            var a = v.split('=');
            q[a[0]] = a.slice(1).join('=').replace(/~and~/g, '&');
          });
          if (q.p !== undefined) {
            window.history.replaceState(null, null,
              l.pathname.slice(0, -1) + (q.p || '') +
              (q.q ? ('?' + q.q) : '') +
              l.hash
            );
          }
        }
      }(window.location))</script>
 <script src="static/js/react.production.min.js"></script>
 <script src="static/js/react-dom.production.min.js"></script>
 <script src="static/js/ui.js"></script>
 <script src="static/js/main.js"></script>
 <script src="static/js/interact.min.js"></script>
 <script src="static/js/highlight.min.js"></script>
 <script src="static/js/katex.min.js"></script>
 <script src="static/js/html2canvas.min.js"></script>
 <script src="static/js/code-editor.js"></script>
 <script src="static/js/custom.js"></script>
</body>
